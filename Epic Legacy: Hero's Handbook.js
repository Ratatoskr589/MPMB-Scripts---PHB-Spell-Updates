var iFileName = "EL:HH";
RequiredSheetVersion("13.1.7");
SourceList["EL:HH"] = {
	name : "Epic Legacy: Hero's Handbook",
	abbreviation : "EL:HH",	
	group : "2CGaming",
	date : "2023/07/18",
};

ExperiencePointsList = ["", 300, 900, 2700, 6500, 14000, 23000, 34000, 48000, 64000, 85000, 100000, 120000, 140000, 165000, 195000, 225000, 265000, 305000, 355000, 415000, 475000, 545000, 625000, 715000, 815000, 925000, 1045000, 1175000, 1315000];

levels = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30];

ProficiencyBonusList = [2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 6, 6, 6, 6, 6, 6, 7, 7, 7, 7, 8, 8, 8, 8];

// Classes, Spells and Features from the Epic Legacy: Hero's Handbook

spellSchoolList["True"] = "Truespeech";
spellSchoolList["T1"] = "Tier 1 Epic Spell";
spellSchoolList["T2"] = "Tier 2 Epic Spell";
spellSchoolList["T3"] = "Tier 3 Epic Spell";

SpellsList["anthem of thunderous pain"] = {
	name : "Anthem of Thunderous Pain",
	source : ["EL:HH", 34],
	classes : ["truespeaker"],
	level : 1,
	school : "True",
	time : "1 a",
	range : "S:60ft radius",
	components : "V",
	duration : "Instantaneous",
	description : "+4ED ea. crea. of choice w/i 60 ft 10d10 thunder and Deafened, +7ED affected crea. CON save or be Stunned, remake save at end of turn to end effect.",
	descriptionFull : "(+4 Entropy Dice) You speak booming words of truespeech that shatter the ears of those who hear it. Each creature of your choice within a 60-foot radius takes 10d10 thunder damage and becomes permanently deafened. Flourish (+3 Entropy Dice). In addition to the masterpiece’s effect, an affected creature must succeed on a Constitution saving throw or be permanently stricken by agonizing pain and be stunned. At the end of each of its turns, an affected creature can repeat the saving throw, ending the pain and the stunned condition on a success.",
};
SpellsList["aria of arcane power"] = {
	name : "Aria of Arcane Power",
	source : ["EL:HH", 35],
	classes : ["truespeaker"],
	level : 1,
	school : "True",
	time : "spec",
	range : "spec",
	components : "V",
	duration : "Instantaneous",
	description : "+6ED Cast T1 Epic Spell, +10ED Cast T2 Epic Spell.",
	descriptionFull : "(+6 Entropy Dice) You warp the arcane energies of the world to your whim, forcing them into the shape of Epic magic with your truespeech. You cast a single tier 1 Epic spell from any Epic spell list, using that spell’s casting time, range, components, and duration. Once you have cast an Epic spell using this masterpiece, you cannot cast that spell again until you finish a long rest. Flourish (+4 Entropy Dice). You cast a single tier 2 Epic spell from any Epic spell list, using that spell’s casting time, range, components, and duration.",
};
SpellsList["cacophony of shattering hearts"] = {
	name : "Cacophony of Shattering Hearts",
	source : ["EL:HH", 35],
	classes : ["truespeaker"],
	level : 1,
	school : "True",
	time : "1 a",
	range : "S:30ft radius",
	components : "V",
	duration : "1 m",
	description : "+4ED ea. crea. of choice w/i 30 ft Wis save or fall prone for 1 h. remake save at end of turn to end effect. +6ED when affected crea. fails subsequen Wis saves they also fall prone.",
	descriptionFull : "(+4 Entropy Dice) You sing a raucous tale of loss, heartbreak, and sadness that sends creatures into a deep melancholy. Each enemy creature of your choice within a 30-foot radius centered on you must succeed on a Wisdom saving throw or immediately fall prone and begin to weep profusely for 1 hour. While weeping in this manner, a creature cannot verbally communicate or take bonus actions or reactions. At the end of each of its turns, a creature can repeat the saving throw, ending the effect on a success. Flourish (+2 Entropy Dice). In addition to the masterpiece’s effect, when a creature fails a subsequent Wisdom saving throw against this masterpiece, it immediately falls prone.",
};
SpellsList["counterchant"] = {
	name : "Counterchant",
	source : ["EL:HH", 35],
	classes : ["truespeaker"],
	level : 1,
	school : "True",
	time : "1 bns",
	range : "S:120ft radius",
	components : "V",
	duration : "Instantaneous",
	description : "+4ED ea. crea. of choice w/i 120 ft Int save or lose concentration. +7ED when affected crea. fails Int save 10d8 psychic damage",
	descriptionFull : "(+4 Entropy Dice) You unleash a truespeech chant of chaos and confusion that rattles the minds of your enemies. Each creature of your choice within 120 feet that is concentrating on a spell or magical effect must succeed on an Intelligence saving throw or lose concentration on all spells and magical effects. Flourish (+3 Entropy Dice). In addition to the masterpiece’s effect, when an affected creature loses concentration on an effect as a result of the masterpiece, it takes 10d8 psychic damage.",
};
SpellsList["cry of war unending"] = {
	name : "Cry of War Unending",
	source : ["EL:HH", 35],
	classes : ["truespeaker"],
	level : 1,
	school : "True",
	time : "1 rea",
	timeFull : "1 reaction, which you take when a creature within 60 feet of you makes an attack",
	range : "60 ft",
	components : "V",
	duration : "Instantaneous",
	description : "+3ED before dice are rolled you may determine whether an attack hits or misses. +6ED you gain an additional reaction till start of next turn.",
	descriptionFull : "(+3 Entropy Dice) Your cry of truespeech twists the arm of fate, empowering the attacks of your allies or foiling those of your enemies. As a reaction to an attack made within 60 feet of you and before dice are rolled, you alter the results of the attack before it lands. You choose whether the attack hits or misses; however, if the attacking creature hits, it may still roll a d20 to determine whether it scores a critical hit. Flourish (+3 Entropy Dice). In addition to the effects of the masterpiece, you gain an additional reaction, which lasts until the start of your next turn.",
};
SpellsList["dirge of the doomed legion"] = {
	name : "Dirge of the Doomed Legion",
	source : ["EL:HH", 35],
	classes : ["truespeaker"],
	level : 1,
	school : "True",
	time : "1 bns",
	range : "S:30ft cone",
	components : "V",
	duration : "Instantaneous",
	description : "+4ED ea. crea. of choice w/i 30 ft Str save or be pushed to edge of cone. +7ED 60 ft cone, failed save means pushed and falls prone.",
	descriptionFull : "(+4 Entropy Dice) Using truespeech to utter a terrifying war cry, you unleash the spirits of the lost legion to trample your enemies in a mighty cavalry charge. Creatures of your choice within the area must succeed on a Strength saving throw or be pushed away from you to the end of the affected area. This movement provokes opportunity attacks from creatures within reach. Flourish (+3 Entropy Dice). In addition to the effect, the masterpiece’s area becomes a 60-foot cone and an affected creature falls prone at the end of the movement.",
};
SpellsList["doomcaller's madrigal"] = {
	name : "Doomcaller's Madrigal",
	source : ["EL:HH", 35],
	classes : ["truespeaker"],
	level : 1,
	school : "True",
	time : "1 bns",
	range : "Self",
	components : "V",
	duration : "Instantaneous",
	description : "+6ED until end of your turn, you deal max damage on all damage dice rolled. +12ED until end of next turn crea. can't have res. or immu. to my damage.",
	descriptionFull : "(+6 Entropy Dice) You proclaim yourself a herald of destruction via truespeech, ensuring your enemies will suffer your wrath. Until the end of your turn, each time you would roll damage dice, you instead deal maximum damage with those damage dice. Flourish (+3 Entropy Dice). In addition to the masterpiece’s effect, until the end of your next turn, creatures cannot have resistance or immunity to damage dealt by you.",
};
SpellsList["grand finale"] = {
	name : "Grand Finale",
	source : ["EL:HH", 35, 36],
	classes : ["truespeaker"],
	level : 1,
	school : "True",
	time : "1 a",
	range : "60 ft",
	components : "V",
	duration : "1 year",
	description : "+10ED 1 crea. Cha save or be banished beyond realm for 1 year. +15ED exile becomes permanent, non-epic creatures auto fail.",
	descriptionFull : "(+10 Entropy Dice) You attempt to exile a creature from the known multiverse to a dark void beyond the folds of reality. The target must succeed on a Charisma saving throw or be banished and be unable to return by any known means other than by the masterpiece ending. Flourish (+5 Entropy Dice). The duration of the masterpiece is increased to permanent. Additionally, non-Epic creatures automatically fail their saving throws against the masterpiece.",
};
SpellsList["harmony of living hope"] = {
	name : "Harmony of Living Hope",
	source : ["EL:HH", 36],
	classes : ["truespeaker"],
	level : 1,
	school : "True",
	time : "1 a",
	range : "S:30ft radius",
	components : "V",
	duration : "Instantaneous",
	description : "+6ED ea. crea. of choice w/i range may regain 1/2 of lost hit points rounded up. +9ED masterpiece also gives benefit of lesser restoration.",
	descriptionFull : "(+6 Entropy Dice) Leading your allies in a mystical chorus of truespeech, you inspire hope even in the darkest of times. Each creature of your choice within the affected area may regain half their lost hit points, rounded up. Flourish (+3 Entropy Dice). In addition to the masterpiece’s effect, an affected creature is cured of the blinded, deafened, exhaustion, and stunned conditions.",
};
SpellsList["iamir's waltz of one thousand cuts"] = {
	name : "Iamir's Waltz of One Thousand Cuts",
	source : ["EL:HH", 36],
	classes : ["truespeaker"],
	level : 1,
	school : "True",
	time : "1 bns",
	range : "Self",
	components : "V",
	duration : "Instantaneous",
	description : "+3ED when atk act. wea. atks = CHA mod must move to unocc. spa. w/i 10ft that you have not already occupied. no opp. atks, does not use move. +5ED teleport instead of move.",
	descriptionFull : "(+3 Entropy Dice) Made famous by the tiefling truespeaker Iamir when she carved a demon lord into twelve perfectly proportional slices, this masterpiece allows you to unleash a flurry of deadly blows as you dance around the battlefield to the tune of your truespeech. Until the end of your turn, you may make a number of weapon attacks equal to your Charisma modifier so long as you are not incapacitated. After you make an attack in this manner, youmust move 10 feet into spaces you have not occupied this turn. If you cannot move in this manner, you instead do not move and cannot use this feature again until the start of your next turn. This movement does not provoke attacks of opportunity and does not expend your base walking speed. Flourish (+2 Entropy Dice). Instead of moving into squares over the course of this masterpiece’s effect, you magically teleport to those squares instead.",
};
SpellsList["lamentation of the lost"] = {
	name : "Lamentation of the Lost",
	source : ["EL:HH", 36],
	classes : ["truespeaker"],
	level : 1,
	school : "True",
	time : "1 a",
	range : "S:120ft radius",
	components : "V",
	duration : "Permanent",
	description : "+4ED all enemies w/i range are recieve an epic curse. 1 crea. recieves Necro. dmg = roll of entropy dice. +7ED Deals Vile dmg.",
	descriptionFull : "(+4 Entropy Dice) You utter a mournful wail in truespeech that speaks of loneliness and isolation, which can be heard by creatures up to 120 feet away. Enemy creatures of your choice that can hear the lamentation are permanently afflicted with an Epic curse. When you role your entropy dice, you can choose to deal necrotic damage equal to the amount rolled to each creature of your choice cursed by the masterpiece, and the curse ends for that creature. Flourish (+3 Entropy Dice). The masterpiece deals vile damage instead of necrotic damage.",
};
SpellsList["martyr's requiem"] = {
	name : "Martyr's Requiem",
	source : ["EL:HH", 36],
	classes : ["truespeaker"],
	level : 1,
	school : "True",
	time : "1 rea",
	timefull : "which you take whena creature within 60 feet is reduced to 0 hit points.",
	range : "60 ft.",
	components : "V",
	duration : "Instantaneous",
	description : "+5ED rea to save ally w/i range instead of being dropped to 0, drop to 1 and gain imm. to all dmg. until start of their next turn. +8ED crea. can not die until start of its next turn.",
	descriptionFull : "(+5 Entropy Dice) When a creature that can hear you within range is reduced to 0 hit points, you take a reaction and use truespeech to command the universe to hold the creature back from the brink of death. The creature is instead reduced to 1 hit point and becomes immune to all damage types until the start of its next turn. Flourish (+3 Entropy Dice). In addition to the masterpiece’s effect, an affected creature cannot die until the start of its next turn.",
};
SpellsList["melody of the synchronized mind"] = {
	name : "Melody of the Synchronized Mind",
	source : ["EL:HH", 36],
	classes : ["truespeaker"],
	level : 1,
	school : "True",
	time : "1 a",
	range : "S:30ft. radius",
	components : "V",
	duration : "Instantaneous",
	description : "+6ED ea. ally w/i range can move up to movement and make 1 attack or cast 1 cantrip. +9ED you also benefit.",
	descriptionFull : "(+6 Entropy Dice) Your truespeech aligns your mind with those of allied creatures within the effect’s area in an unspoken bond that allows you to act with perfect synergy. Each friendly creature of your choice within the affected area may immediately move up to their walking speed and then make a single weapon attack or cast a single cantrip. Flourish (+3 Entropy Dice). You also gain the benefits of the masterpiece’s effect.",
};
SpellsList["nocturne of infecting fear"] = {
	name : "Nocturne of Infecting Fear",
	source : ["EL:HH", 36],
	classes : ["truespeaker"],
	level : 1,
	school : "True",
	time : "1 a",
	range : "60 ft",
	components : "V",
	duration : "1 m",
	save : "Wis",
	description : "+5ED 1 crea w/i range, becomes fright for dur. if immune Wis save w/ epic adv. if fail Wis save at start of ea turn. +8ED 3 failed saves = Permanent.",
	descriptionFull : "(+5 Entropy Dice) You unleash the true name of terror itself, stirring an all-consuming fear in the heart of a single creature you are aware of within range. The target becomes frightened for the masterpiece’s duration. If the target is immune to the frightened condition, is instead not immune and attempts saving throws with Epic advantage against this masterpiece. At the start of each of its turns, the affected creature must succeed on a Wisdom saving throw against your spell save DC or spend that turn moving away from you by the most direct means available, using every available action and foot of movement to do so. If a creature is unable to move away from you in this manner, it instead cowers in place and takes no actions. The masterpiece ends early if a creature succeeds on three saving throws against this masterpiece. Flourish (+3 Entropy Dice). In addition to the masterpiece’s effect, if a creature fails three saving throws against the masterpiece, the effect becomes permanent.",
};
SpellsList["note of fortitude"] = {
	name : "Note of Fortitude",
	source : ["EL:HH", 37],
	classes : ["truespeaker"],
	level : 1,
	school : "True",
	time : "1 bns",
	range : "S:120 ft rad.",
	components : "V",
	duration : "Instantaneous",
	description : "+5ED End Bli,Dea,Fri,Par,Poi,Stu,Uncon -1 level of Exhaust on yourself/ea cre w/i range. +9ED End 1 harmful non-epic spell effect on ea crea.",
	descriptionFull : "(+ 5 Entropy Dice) With a single powerful note of truespeech, you order the universe to restore the world to balance. You immediately end the blinded, deafened, frightened, paralyzed, poisoned, stunned, and unconscious conditions on yourself and each creature of your choice within range. If an affected creature suffers from exhaustion, you can remove one level of exhaustion. Flourish (+4 Entropy Dice). In addition to the masterpiece’s effect, you may end a single harmful non-Epic magical effect on each affected creature.",
};
SpellsList["om of timelessness"] = {
	name : "Om of Timelessness",
	source : ["EL:HH", 37],
	classes : ["truespeaker"],
	level : 1,
	school : "True",
	time : "1 a",
	range : "120 ft",
	components : "V",
	duration : "1 m",
	description : "+5ED 1 Crea w/i range is sequestered from time incapaciting and shielding it from all external effects. +8ED Effect lasts until you end it or use this True again.",
	descriptionFull : "(+5 Entropy Dice) Unleashing a focused hum of truespeech, you bend the flow of time around a single willing creature or object you can see within range, removing it from the time stream. While the effect persists, the target is enveloped in a shimmering golden that makes it immune to all damage and effects. The target cannot regain hit points, be affected by a spell, trait, feature, or ability, and is effectively immune to all outside influence. A creature affected by the masterpiece is incapacitated and cannot take actions, cannot expend movement, and cannot affect creatures (including itself) with any effects. Flourish (+3 Entropy Dice). In addition to the masterpiece’s effect, the duration is increased until you choose to end it or until you use this masterpiece again, whichever comes first.",
};
SpellsList["rhythm of the forge"] = {
	name : "Rhythm of the Forge",
	source : ["EL:HH", 37],
	classes : ["truespeaker"],
	level : 1,
	school : "True",
	time : "1 a",
	range : "60 ft",
	components : "V",
	duration : "8 h",
	description : "+5ED 1 crea. AC 25, immu. to non-epic dmg. +10ED target 1 extra crea.",
	descriptionFull : "(+5 Entropy Dice) You mantle a willing creature of your choice within range in mystical words of power that shield it from harm. If the target’s AC is 24 or lower, it is instead 25 for the duration. Additionally, the target is immune to damage from non-Epic creatures. Flourish (+5 Entropy Dice). You may target an additional willing creature within range.",
};
SpellsList["sonnet of riotous illumination"] = {
	name : "Sonnet of Riotous Illumination",
	source : ["EL:HH", 37],
	classes : ["truespeaker"],
	level : 1,
	school : "True",
	time : "1 a",
	range : "60 ft",
	components : "V",
	duration : "1 m",
	description : "Hover for full description EL:HH Pg 37-38",
	descriptionFull : desc([
		"Your beautiful truespeech commands a 5-foot-diameter sphere",
		"of multicolored light to appear in an unoccupied space of your",
		"choice you can see within range. The sphere sheds bright light",
		"out to a range of 100 feet and dim light for an additional 100",
		"feet. Additionally, you must roll a d8, which determines what",
		"color light the sphere produces, as detailed in this masterpiece’s",
		"description. At the end of each of your turns, creatures of your",
		"choice that you can see within the area of bright light must",
		"succeed on a Wisdom saving throw against your spell save DC",
		"or suffer the effects of the light emitted by the sphere until the",
		"start of your next turn. You may then choose to roll a d8 and",
		"change the color of the sphere to the corresponding result.",
		"1. Red. On a failed saving throw, the creature begins",
		"dancing uncontrollably and must use all its movement",
		"to dance in place without leaving its space. While",
		"dancing, the creature has disadvantage on attack rolls",
		"and Dexterity saving throws, and other creatures have",
		"advantage on attacks against it.",
		"2. Orange. On a failed saving throw, the creature is",
		"racked with excruciating pain. If the creature attempts",
		"to speak, take an action that involves vocalizing, or cast",
		"a spell with verbal components, it must succeed on a",
		"Constitution saving throw or the attempt fails as the",
		"creature releases an agonized scream and the associated",
		"action, spell slot, or other resource is wasted in the",
		"attempt.",
		"3. Yellow. On a failed saving throw, the creature",
		"experiences extreme nausea. If the creature takes",
		"damage and has a reaction, it must use its reaction to",
		"fall prone and unleash a disgusting torrent of sickness.",
		"4. Green. On a failed saving throw, the creature is",
		"stricken with uncontrollable fury. If the creature has",
		"any actions or movement at the end of its turn other",
		"than a reaction, it takes 10d6 psychic damage.",
		"5. Blue. On a failed saving throw, the creature is",
		"overwhelmed with feelings of euphoria and pleasure.",
		"The creature cannot use features, spells, traits, or other",
		"abilities that affect creatures other than itself.",
		"6. Indigo. On a failed saving throw, the creature finds",
		"everything so humorous that it laughs uncontrollably,",
		"becoming incapacitated. If the creature takes damage,",
		"the effect ends immediately.",
		"7. Violet. On a failed saving throw, the creature is filled",
		"with an insatiable curiosity about the source of the",
		"light. The creature must spend all its movement to",
		"move closer to the source of the light by the most",
		"direct route possible and cannot willingly move away",
		"from the light.",
		"8. Mysterious. On a failed saving throw, the creature",
		"spends its actions and movement to hand you the most",
		"prized object in its possession. The creature chooses",
		"the most efficient and effective method available to",
		"it. If the creature is able to place the object in your",
		"possession, the effect ends immediately.",
		"Flourish (+4 Entropy Dice). Instead of rolling a d8 to determine",
		"the light emitted by the sphere, at the end of each of your turns",
		"you may choose a light from the listed options.",
	]),
};
SpellsList["symphony of cosmic fire"] = {
	name : "Symphony of Cosmic Fire",
	source : ["EL:HH", 38],
	classes : ["truespeaker"],
	level : 1,
	school : "True",
	time : "1 a",
	range : "300 ft",
	components : "V",
	duration : "1 m",
	description : "+6ED, 1 crea w/i range 25 fire dmg at start of turn, damage for 8 turns, damage increases by 25 each turn caps a 200. +12ED, crea no res/imm to fire.",
	descriptionFull : desc([
		"Your furious truespeech ignites a single creature you are aware",
		"of within range, burning it with unrelenting fire. A creature so",
		"ignited takes 25 fire damage at the start of each of its turns. At",
		"the start of each of the affected creature’s turns after it takes this",
		"damage, the fire damage increases by 25. This effect is cumulative,",
		"to a maximum of 200 fire damage. A creature reduced to 0",
		"hit points by this masterpiece is reduced to ash, and the flames",
		"cannot be prematurely extinguished by non-Epic means.",
		"Flourish (+6 Entropy Dice). In addition to the masterpiece’s",
		"effect, a creature cannot have resistance or immunity to fire",
		"damage dealt by this masterpiece.",
	]),
};
SpellsList["timeless epic"] = {
	name : "Timeless Epic",
	source : ["EL:HH", 38],
	classes : ["truespeaker"],
	level : 1,
	school : "True",
	time : "1 h",
	range : "60 ft",
	components : "V",
	duration : "1 h",
	description : "+4ED all friend w/i range of choice, gain a bardic inspiration die +8ED Cast Time becomes 1a.",
	descriptionFull : desc([
		"You weave a grand tale of glory and tragedy that recounts the",
		"deeds of truly epic heroes. Friendly creatures of your choice",
		"within 60 feet of you that hear the masterpiece become inspired",
		"by the tale, gaining one of your Bardic Inspiration dice.",
		"A creature that gained a die in this manner does not expend the",
		"die when it is rolled but cannot roll that Bardic Inspiration die",
		"again until the start of its next turn.",
		"Flourish (+4 Entropy Dice). The casting time is reduced to 1",
		"action.",
	]),
};
SpellsList["un-naming silence"] = {
	name : "Un-Naming Silence",
	source : ["EL:HH", 38],
	classes : ["truespeaker"],
	level : 1,
	school : "True",
	time : "1 a",
	range : "60 ft",
	save : "Con",
	components : "V",
	duration : "instantaneous",
	description : "+10ED 1 crea w/i range Con save, or 10d12 force. read description for full details  +18ED Epic disadv. if nat 1 dmg = hp max.",
	descriptionFull : desc([	
		"Your utter a verse of truespeech so destructive that the universe",
		"refuses to let it be heard. A single creature you are aware",
		"of within range must succeed on a Constitution saving throw",
		"against your spell save DC or take 10d12 force damage. For",
		"every interval of 5 the target fails the saving throw by, it takes",
		"an additional 10d12 force damage. If the target is reduced to",
		"0 hit points by this masterpiece, it is destroyed utterly, as its",
		"true name is deleted from the universe. Such a creature can be",
		"returned to life only by Deific means.",
		"Flourish (+8 Entropy Dice). In addition to the masterpiece’s",
		"effect, the target has Epic disadvantage on its Constitution saving",
		"throw against the masterpiece, and if the target fails a saving",
		"throw with a natural 1, it takes force damage equal to its",
		"maximum hit points.",
	]),
};			
SpellsList["whispers of oblivion"] = {
	name : "Whispers of Oblivion",
	source : ["EL:HH", 38],
	classes : ["truespeaker"],
	level : 1,
	school : "True",
	time : "1 a",
	range : "special",
	save : "Con",
	components : "V",
	duration : "1 round",
	description : "+6ED 1 melee spell attack, on hit +12d8 Psy dmg. if crea is charmed/fright the atk is a crit.  +12ED Con save or take 2x dmg.",
	descriptionFull : desc([	
		"As a part of the action used to perform this masterpiece, you",
		"must attempt a weapon attack against one creature within that",
		"weapon’s reach or range. On a successful hit, the target takes an",
		"additional 12d8 psychic damage. If the creature is frightened of",
		"you or charmed by you, the attack scores a critical hit.",
		"Flourish (+6 Entropy Dice). In addition to the masterpiece’s",
		"effect, a creature hit by the attack must succeed on a Constitution",
		"saving throw or take double damage from the attack.",
	]),
};

//Tiered Epic Spells

SpellsList["adjure purity"] = {
	name : "Adjure Purity",
	source : ["EL:HH", 137],
	classes : ["ascendant", "primordial"],
	level : 2,
	school : "T2",
	time : "1 a",
	range : "30 ft",
	components : "V,S,M",
	compMaterial : "a white silken cloth that has never been dirtied",
	duration : "instantaneous",
	description : "1 Target, free from curse, free from Bli, Dea, Exh, Par, Pet, Stu conditions, HP reduction removed, cured of any harmful effect that lasts longer than 1 minute, Cured of Poison or Disease",
	descriptionFull : desc([	
		"You unleash a scouring torrent of purifying energy",
		"at a creature of your choice within range.",
		"The target gains the following benefits.",
		" It is freed from non-Epic and Epic curses.",
		" It is cured of the blinded, deafened, exhaustion,",
		"paralyzed, petrified, and stunned conditions.",
		" Any reduction to the creature’s hit point maximum is",
		"removed.",
		" It is cured of any harmful non-Epic and Epic magical",
		"effects that last longer than 1 minute.",
		" It is cured of any non-Epic or Epic poisons and diseases.",
		"At Higher Tiers. When you cast this spell as a tier 3 Epic spell,",
		"you may target an additional creature within range.",
	]),
};
SpellsList["affair of honor"] = {
	name : "Affair of Honor",
	source : ["EL:HH", 137-139],
	classes : ["ascendant"],
	level : 1,
	school : "T1",
	time : "1 a",
	range : "120 ft",
	components : "V,S,M",
	compMaterial : "a written contract between both participants, signed in blood",
	duration : "1 h",
	description : "You issue a challange 1 crea., You and crea., gain resist to dmg from other crea. and deal 1/2 dmg to other crea. and can not move willingly away from one another, ends if you or targeted crea. dies or yields",
	descriptionFull : desc([	
		"You issue a binding magical threat to an enemy creature that",
		"can hear you within range, challenging it to honorable combat.",
		"The target instinctively understands the nature of your challenge,",
		"even if you do not share a language, and can choose to",
		"accept (no action required). If it accepts, both you and the creature",
		"gain resistance to all damage from all other creatures, and",
		"you both deal half damage to all other creatures. Additionally,",
		"neither you nor the creature can willingly move away from each",
		"other, nor can either of you willingly benefit from effects produced",
		"by friendly creatures. The spell ends early if you or the",
		"affected creature yields or is slain.",
		"At Higher Tiers. When you cast this spell as a tier 2 Epic",
		"spell or higher, the potency of the enchantment improves.",
		"When you cast this spell as a tier 2 Epic spell, both you and the",
		"target are immune to damage from all other creatures but cannot",
		"deal damage to all other creatures. When you cast this spell",
		"as a tier 3 Epic spell, both you and the creature are immune to",
		"effects from friendly creatures unless you choose to be affected.",
		"If either of you chooses to be affected, the spell immediately",
		"ends.",
		"As a Ritual. Casting this Epic spell as a ritual increases its",
		"casting time to 1 hour. When you cast this spell as a ritual, a",
		"300-foot cube of force forms around you and the target creature",
		"and all other creatures within the cube are magically teleported",
		"outside of its area. For the duration of the spell, creatures cannot",
		"enter or exit the cube by non-Deific means.",
	]),
};
SpellsList["anatomy augmentation"] = {
	name : "Anatomy Augmentation",
	source : ["EL:HH", 139],
	classes : ["archmage"],
	level : 2,
	school : "T2",
	time : "1 a",
	range : "touch",
	components : "V,S,M",
	compMaterial : "an herbal steroid of your own design",
	duration : "10 m",
	description : "1 Target,  +10 to single ability score (max of 30) if not prof. with saving throws/ability checks with chosein ability, it instead becomes prof.",
	descriptionFull : desc([	
		"creature you touch is mystically enhanced, increasing its",
		"biological characteristics to a grotesque and excessive degree.",
		"Choose a single ability score; the creature’s ability score you selected",
		"and its ability score maximum increase by 10, to a maximum",
		"of 30.",
		"Additionally, if the target is not proficient in saving throws or",
		"ability checks with the chosen ability, it instead becomes proficient.",
		"This spell immediately ends if you cast it again before the",
		"duration ends.",
	]),
};
SpellsList["antimagic ray"] = {
	name : "Antimagic Ray",
	source : ["EL:HH", 139],
	classes : ["archmage", "archon", "ascendant", "primordial", "overlord"],
	level : 1,
	school : "T1",
	time : "1 a",
	range : "300 ft",
	components : "V,S,M",
	compMaterial : "an iron golem's knuckle",
	duration : "instantaneous",
	description : "1 Target, any non-epic and a single T1 Epic spell on the target ends, T2 DC 24, T3 DC 28",
	descriptionFull : desc([	
		"A black beam of antimagic surges from your finger,",
		"hungrily seeking out the presence of magic.",
		"Choose one creature, object, or magical effect within range.",
		"Any non-Epic spell and a single tier 1 Epic spell on the target",
		"ends. If the target is under the effects of a tier 2 Epic spell or",
		"higher, you may choose to instead not end a single tier 1 Epic",
		"spell on the target (if any) and instead attempt an ability check",
		"using your spellcasting ability to end an Epic spell of a higher",
		"tier. The DC equals 24 for a tier 2 Epic spell and 28 for a tier 3",
		"Epic spell. On a successful check, the spell ends.",
		"At Higher Tiers. When you cast this spell as a tier 2 Epic",
		"spell, you instead automatically end the effects of single tier 2",
		"Epic spell. When you cast this spell as a tier 3 Epic spell, you",
		"automatically end the effects of a single tier 3 Epic spell.",
	]),
};
SpellsList["apocalypse"] = {
	name : "Apocalypse",
	source : ["EL:HH", 139],
	classes : ["ascendant", "overlord"],
	level : 3,
	school : "T3",
	time : "1 a",
	range : "self (1 mile radius)",
	components : "V,S,M",
	compMaterial : "a pinch of dust from a destroyed world",
	duration : "1 h",
	description : "hover to see full description",
	descriptionFull : desc([	
		"You bring about ruination on an inconceivable scale, sparing none",
		"from your destructive magic.",
		"You unleash destruction in a 1-mile-radius aura that is centered",
		"on you and moves with you. At the end of each of your turns, a",
		"100-foot cube centered on a point of your choice within the affected",
		"area experiences an apocalyptic cataclysm. Creatures, objects,",
		"and structures within the affected area have their hit point",
		"maximums reduced by 50d6. An affected creature can attempt a",
		"Constitution saving throw, halving this reduction on a success.",
		"A creature that fails this saving throw by 5 or more instead has",
		"its hit point maximum reduced by 100d6. This reduction lasts",
		"until the spell ends. A creature, object, or structure that has its hit",
		"point maximum reduced to 0 in this manner collapses to ashes.",
		"As a Ritual. When you cast this spell as a ritual, the casting",
		"time is increased to 100 days. When you begin casting this",
		"spell as a ritual, you must designate a willing deity with a divine",
		"rank of greater deity or higher to provide the power behind the",
		"spell. Over the course of the spell’s casting, you must honor the",
		"sponsoring deity with ritualistic sacrifices, extravagant prayers,",
		"and other acts of faith that are appropriate to its portfolio. If",
		"the ritual is interrupted or fails during this time, both you and",
		"the sponsoring deity are destroyed utterly and cannot be restored",
		"to life by any means. When you finish casting the spell in this",
		"manner, the apocalypse begins. Seas boil, the ground splits open,",
		"volcanoes erupt, and the sky rains death. On initiative count 20",
		"(losing initiative ties), everything on the plane has its hit point",
		"maximum reduced by 100d6. At the end of the spell’s duration,",
		"the plane explodes, and everything remaining on it is obliterated.",
	]),
};
SpellsList["arboreal metamorphosis"] = {
	name : "Arboreal Metamorphosis",
	source : ["EL:HH", 139],
	classes : ["primordial", "overlord"],
	level : 1,
	school : "T1",
	time : "1 a",
	range : "120 ft",
	components : "V,S,M",
	compMaterial : "a nut from an extinct species of tree",
	duration : "1 minute",
	description : "1 Target Con save, same rules as flesh to stone or become a petrified into the form of a tree.",
	descriptionFull : desc([	
		"You warp flesh and knit bone into plant matter, transforming one",
		"creature that you can see within range into a living wooden form.",
		"If the target’s body is made of solid matter, the creature must",
		"attempt a Constitution saving throw. On a failure, it is restrained",
		"as its body begins to harden. On a success, the creature",
		"isn’t affected and the spell ends.",
		"A creature affected by this spell must attempt another",
		"Constitution saving throw at the end of each of its turns until",
		"the spell ends. If it succeeds three times, the spell ends. If it fails",
		"three times, the spell ends and the creature is turned to wood and",
		"permanently petrified. The successes and failures don’t need to",
		"be consecutive; keep track of both until the spell ends.",
		"In the creature’s new form, its body functions like a living",
		"tree of a type chosen by you, growing superficial foliage and",
		"other appropriate characteristics. If the creature is physically",
		"broken while petrified, it suffers from similar injuries if reverted",
		"to its original state.",
		"At Higher Tiers. When you cast this spell as a tier 2 Epic",
		"spell, a creature need only fail a single additional saving throw",
		"over the spell’s duration after it fails the initial saving throw to",
		"become petrified. When you cast this spell as a tier 3 Epic spell,",
		"a creature that fails the initial saving throw against this spell",
		"becomes immediately petrified.",
	]),
};
SpellsList["arcane embargo"] = {
	name : "Arcane Embargo",
	source : ["EL:HH", 140],
	classes : ["archmage", "archon"],
	level : 2,
	school : "T2",
	time : "1 a",
	range : "300 ft",
	components : "V,S,M",
	compMaterial : "a spell scroll of a 9th-level spell from the school of magic you wish to embargo",
	duration : "Permanent",
	description : "You create a 100ft cube of antimagic that bans one school of magic you choose",
	descriptionFull : desc([	
		"You completely ban the use of magic from a certain school by",
		"generating a discriminatory field of antimagic.",
		"A 100-foot cube of antimagic appears, centered on a point you",
		"can see within range. When the cube appears, you must choose",
		"a school of magic against which the cube will ward. Non-Epic",
		"and Epic spells of the chosen school cast within the affected",
		"area automatically fail and any resources used in the attempt",
		"are expended. This spell ends early if you cast it again before",
		"the duration ends.",
		"At Higher Tiers. If you cast this spell as a tier 3 Epic spell,",
		"you may designate a second school of magic against which the",
		"affected area becomes warded against.",
		"As a Ritual. When you cast this spell as a ritual, its casting",
		"time is increased to 2 hours. When you cast the spell in this",
		"manner, its affected area instead becomes a 10-mile-radius aura",
		"centered on a point you can see within range.",
	]),
};
SpellsList["army of darkness"] = {
	name : "Army of Darkness",
	source : ["EL:HH", 140],
	classes : ["ascendant", "overlord"],
	level : 2,
	school : "T2",
	time : "1 a",
	range : "Self (100 ft radius)",
	components : "V,S,M",
	compMaterial : "a jar of humanoid teeth, each of which must be at least 1000 years old",
	duration : "Concentration, up to 1 hour",
	description : "You create a 120 ft rad. area of diff. terr. for crea. of choice as an action make 1 melee sp atk. against ea. crea of choice dealing 10d8/20d8 T3 necro. and push in 30 ft line.",
	descriptionFull : desc([	
		"You create legions of undead that swarm across the battlefield,",
		"tearing apart any who stand against you.",
		"The ground within 120 feet of you erupts with the shambling",
		"corpses of undead that remain partially trapped beneath the",
		"earth. The affected area becomes difficult terrain for creatures of",
		"your choice, and you become aware of the exact location of any",
		"creature within the affected area. Additionally, when the undead",
		"appear, as an action on each of your turns, you may force",
		"the undead to lash out and make a single melee spell attack,",
		"targeting any number of creatures of your choice within the",
		"affected area. On a successful hit, a target takes 10d8 necrotic",
		"damage from the undead assault and can be pushed up to 30",
		"feet in a straight line in a direction of your choice.",
		"At Higher Tiers. When you cast this spell as a tier 3 Epic",
		"spell, the damage dealt by the undead on a successful hit increases",
		"by 10d8 necrotic damage.",
		"As a Ritual. When you cast this spell as a ritual, its casting",
		"time is increased to 24 hours. When the spell is cast, the affected",
		"area is increased to a 1-mile radius centered on you that",
		"also moves with you for the spell’s duration, and the duration is",
		"increased to 1 week.",
	]),
};
SpellsList["ashran's arcane absorption"] = {
	name : "Ashran's Arcane Absorption",
	source : ["EL:HH", 141],
	classes : ["archmage", "archon", "ascendant", "primordial"],
	level : 1,
	school : "T1",
	time : "1 a",
	range : "Self",
	components : "V,S,M",
	compMaterial : "a preserved globule of a black pudding in a glass sphere",
	duration : "1 minute",
	description : "You encase yourself in a sheath of anti-magic that allows you to negate non-epic spells cast against you and reflect them onto your attacker",
	descriptionFull : desc([	
		"Invented by the tiefling ascendant Ashran Firebrand to protect",
		"himself against magical assassination attempts by his fiendish",
		"father, this spell negates and absorbs non-Epic magic and",
		"repurposes it for the caster’s personal use.",
		"When you cast this spell, you are encased in a sheath of antimagic",
		"specially designed to negate enemy spells. While so encased,",
		"as a reaction when you would be affected by a non-Epic",
		"spell, you may absorb the spell and gain its magic. The absorbed",
		"spell’s effect against you is prevented and any spells absorbed in",
		"this manner with a duration greater than instantaneous immediately",
		"end. Immediately after you absorb a spell, you generate",
		"a temporary spell slot of a level one lower than the level of spell",
		"you just absorbed (minimum of 1st level; absorbing cantrips",
		"does not generate temporary spell slots), which can be used",
		"to cast spells as though it were one of the spell slots gained",
		"through your class spellcasting feature. These temporary spell",
		"slots last for the duration and are lost when absorption ends.",
		"Using this spell, you may absorb up to 10 total spell levels over",
		"its duration. If you would attempt to absorb the effects of a",
		"spell that would put you over this maximum, the spell’s effect is",
		"prevented, and this spell immediately ends.",
		"At Higher Tiers. When you cast this spell as a tier 2 Epic",
		"spell or higher, you can absorb 5 additional levels of spells for",
		"each tier beyond tier 1.",
	]),
};
SpellsList["bioclasm"] = {
	name : "Bioclasm",
	source : ["EL:HH", 141],
	classes : ["ascendant", "primordial"],
	level : 2,
	school : "T2",
	time : "1 a",
	range : "300 ft",
	components : "V,S,M",
	compMaterial : "a perfectly ripe avacado",
	duration : "Instantaneous",
	description : "You hurl a 60 ft rad. sphere to a point w/i range ea. crea. in this area regain 200hp/300hp 3T, also cures all epic/non-epic poisons/diseases any corpses slain w/i 24 hours are restored to life w/ 100 hp",
	descriptionFull : desc([	
		"A swirling ball of concentrated life energy erupts with a roar from",
		"your hands to a point you choose within range.",
		"Each creature of your choice in a 60-foot-radius sphere centered",
		"on a point within range regains 200 hit points and is",
		"cured of any non-Epic or Epic poisons and diseases.",
		"Additionally, if bodies of any creatures slain in the last 24",
		"hours are in the spell’s area, you may restore those creatures to",
		"life if their souls are free and willing to return. Affected creatures",
		"return with 100 hit points or their hit point maximum,",
		"whichever is lower.",
		"At Higher Tiers. When you cast this spell as a tier 3 Epic",
		"spell, it restores an additional 100 hit points to affected creatures,",
		"both living and those restored to life.",
	]),
};
SpellsList["bloodbane"] = {
	name : "Bloodbane",
	source : ["EL:HH", 142],
	classes : ["ascendant", "primordial", "overlord"],
	level : 2,
	school : "T2",
	time : "1 a",
	range : "120 ft",
	components : "V,S,",
	duration : "Concentration, up to 1 minute",
	description : "1 target, Con save or take 20d8 necro dmg, and you heal 1/2 the necro. dmg dealt.",
	descriptionFull : desc([	
		"You can forcibly extract the raw life force from others, consuming",
		"the raw life energy to heal your wounds.",
		"When you cast this spell, and as an action on each of your",
		"turns over its duration, a flesh-and-blood creature you can see",
		"within range must succeed on a Constitution saving throw or",
		"take 20d8 points of necrotic damage, and you regain hit points",
		"equal to half the amount of necrotic damage dealt. Creatures",
		"with more hit points than your current hit point total have",
		"Epic disadvantage on this saving throw.",
	]),
};
SpellsList["caldera"] = {
	name : "Caldera",
	source : ["EL:HH", 142],
	classes : ["archon", "primordial", "overlord"],
	level : 2,
	school : "T2",
	time : "1 a",
	range : "120 ft",
	components : "V,S,M",
	compMaterial : "an obsidian figurine in the shape of a dragon",
	duration : "Concentration, up to 1 minute",
	description : "you create 10 10ft cubes of lava in the ground w/i range when a crea. starts its turn in area it takes 20d8 fire damage and must make a Con save or be incapacitd by the heat till the start of its next turn. half dmg on success. see full descrip.",
	descriptionFull : desc([	
		"You superheat the ground of an area within range,",
		"converting it to molten lava.",
		"The area of lava is difficult terrain and consists of ten 10-foot",
		"cubes, each of which must have been previously occupied by",
		"solid ground and be adjacent to at least one other cube. When",
		"a creature enters the area for the first time on its turn or starts",
		"its turn there, it takes 20d8 fire damage and must attempt a",
		"Constitution saving throw or be incapacitated by the extreme",
		"heat until the start of its next turn. A successful saving throw",
		"halves the damage and prevents the incapacitated condition.",
		"At the start of each of your turns while you concentrate on",
		"this spell, the fire damage dealt by the spell increases by 2d8 (to",
		"a maximum of 40d8), and you may convert two additional 10-",
		"foot cubes of ground to lava in spaces you can see adjacent to at",
		"least one other cube of lava.",
	]),
};
SpellsList["call of the lance"] = {
	name : "Call of the Lance",
	source : ["EL:HH", 143],
	classes : ["archon", "primordial", "overlord"],
	level : 1,
	school : "T1",
	time : "1 a",
	range : "120 ft",
	components : "V,S,M",
	compMaterial : "an adamantine lance",
	duration : "1 hour",
	description : "you summon an epic mount to aid you in battle",
	descriptionFull : desc([	
		"You call a mighty mount to serve you faithfully in battle against",
		"any foe, shaped by your courage and worthiness as a rider.",
		"A powerful mount appears in an unoccupied space of your",
		"choice within range. The mount has the following statistics and",
		"is a celestial, dragon, fiend, or plant (your choice). The mount",
		"comes equipped with barding that vanishes if removed. The",
		"mount immediately disappears if you cast this spell again, it is",
		"slain, or you willingly treat the mount as though it were not a",
		"friend or ally. Whenever the mount disappears, it leaves behind",
		"any objects it was carrying or wearing besides its barding.",
		"The mount is friendly toward you and your allies. It serves",
		"you unquestioningly, sharing your goals and motivations. A",
		"creature riding the mount controls its action in combat, and the",
		"mount shares its turn with its rider. While the mount is within",
		"1 mile of you, you can communicate with it telepathically.",
		"At Higher Tiers. If you cast this spell at tier 2 or higher, the",
		"mount’s hit point maximum is increased by 150 hit points for",
		"each tier higher than tier 1.",
		"As a Ritual. When you cast this spell as a ritual, its casting",
		"time is increased to 1 hour. When the spell is cast, the duration",
		"of the ritual increases to permanent.",
	]),
};
SpellsList["cast down"] = {
	name : "Cast Down",
	source : ["EL:HH", 143],
	classes : ["ascendant"],
	level : 3,
	school : "T3",
	time : "1 a",
	range : "300 ft",
	components : "V,S,M",
	compMaterial : "a holy symbol touched by a deity",
	duration : "1 minute",
	description : "you seal the divine power of a god, as a ritual you cast the deity down to earth as a mortal for the duration of the ritual.",
	descriptionFull : desc([	
		"Developed by Janon the Godbreaker, this ritual can make a",
		"deity temporarily mortal and strand it on a mortal plane.",
		"You afflict a creature you can see within range with an Epic",
		"curse, sealing away its divine power. For the spell’s duration,",
		"Deific effects produced by the creature are instead Epic effects.",
		"Once a creature has been affected by this spell, it cannot be affected",
		"by this spell again until 100 years have passed.",
		"As a Ritual. Casting this spell as a ritual increases its casting",
		"time to 7 days. When you begin casting the spell in this manner,",
		"you must name a deity to be the target of the spell. When you",
		"do so, the deity becomes aware of you, what you are doing, and",
		"your exact location for as long as you are casting the spell. When",
		"the spell is cast, the target deity falls from the sky, landing in a",
		"holy site, church, or place of religious significance dedicated to",
		"it. The landing causes a catastrophic explosion, dealing 100d10",
		"force damage to everything within 1,000 feet of the point of impact.",
		"For the next 24 hours, the deity is bound and is prevented",
		"from moving farther than 500 feet from the impact area by any",
		"means. The bound deity is no manifestation, avatar, or visage but",
		"a full-fledged god. The deity almost always views being summoned",
		"in such a manner as an unforgivably hostile act. If the",
		"deity is slain over the course of the ritual’s duration, it is permanently",
		"destroyed and cannot be restored to life by any means.",
	]),
};
SpellsList["catastrophe"] = {
	name : "Catastrophe",
	source : ["EL:HH", 144],
	classes : ["ascendant", "primordial", "overlord"],
	level : 1,
	school : "T1",
	time : "1 a",
	range : "60 ft",
	components : "V,S,M",
	compMaterial : "a handful of earth taken from a dead world",
	duration : "Instantaneous",
	description : "Melee SpAtk. for 1 min. Crea. cant regain HP, instead lose HP equal to what they would have regained, Max 200HP+100/SL",
	descriptionFull : desc([	
		"Your touch infects a creature with a dangerous infusion bearing the",
		"essence of death.",
		"You make a single melee spell attack against a creature within",
		"range. On a successful hit, the target becomes wreathed in negative",
		"energy for 1 minute. When a target so wreathed would regain",
		"hit points, the negative energy prevents the creature from",
		"regaining those hit points and it instead loses the same number",
		"of hit points. Once the spell prevents a target from regaining",
		"200 hit points in this manner, the effect ends.",
		"At Higher Tiers. When you cast this spell as a tier 2 Epic",
		"spell or higher, the amount of hit points the spell can prevent",
		"the target from regaining increases by 100 per tier above tier 1.",
	]),
};
SpellsList["celestial tempest"] = {
	name : "Celestial Tempest",
	source : ["EL:HH", 144],
	classes : ["ascendant"],
	level : 3,
	school : "T3",
	time : "1 a",
	range : "100 miles",
	components : "V,S,M",
	compMaterial : "a holy book sanctified by a deity",
	duration : "Concentration, up to 10 minutes",
	description : "See Full Description",
	descriptionFull : desc([	
		"The heavens roil with divine energy as you unleash a storm of",
		"divine proportions.",
		"Storm clouds appear in the shape of a cylinder that is 1,000 feet",
		"tall and 1 mile in diameter, centered on a point within range that",
		"is at least 10,000 feet directly above you. The spell fails if you can’t",
		"see a point in the air where the clouds could appear. When the",
		"spell is cast, each creature in or beneath the storm clouds’ area",
		"senses the overwhelming divine power you wield and may offer",
		"a prayer (no action required) to beg for mercy. You become aware",
		"of any creatures that offer a prayer in this manner and may use",
		"this knowledge to spare them from the spell’s effects.",
		"The spell causes the following effects to occur over the course",
		"of its duration.",
		"* Breath of the Gods. Hurricane-force winds batter both",
		"the area of the spell and the area beneath the stormfront, tearing",
		"rooftops off buildings and blowing away anything not tied",
		"down. At the start of your turn, all objects in the area take 5",
		"bludgeoning damage. Creatures of your choice that are exposed",
		"to these winds have Epic disadvantage on ranged attack rolls.",
		"* Pronounce Judgment. As a bonus action on each of your",
		"turns, you may call down up to three bolts of divine wrath from",
		"the stormfront to three separate points in or beneath the spell’s",
		"area. Each creature within 10 feet of one of these points must",
		"attempt a Dexterity saving throw, taking 5d10 righteous or vile",
		"damage (your choice) plus 5d10 lightning damage on a failure,",
		"or half as much damage on a success. A creature cannot take",
		"damage from this effect more than once per turn.",
		"* Rain of Destruction. Smiting force drives down in waves as",
		"though it were rain. At the start of your turn, creatures of your",
		"choice in and beneath the spell’s area take 4d6 righteous or 4d6",
		"vile damage (your choice).",
		"As a Ritual. When you cast this spell as a ritual, its casting",
		"time is increased to 7 days. When you cast the spell in this",
		"manner, the clouds produced by the spell cover the entire plane,",
		"subjecting it to the spell’s effects.",
	]),
};
SpellsList["congruent spellward"] = {
	name : "Congruent Spellward",
	source : ["EL:HH", 144],
	classes : ["archmage", "ascendant", "primordial", "overlord"],
	level : 2,
	school : "T2",
	time : "1 a",
	range : "Self (30 ft rad.)",
	components : "V,S,M",
	compMaterial : "a prism containing impossible geometry",
	duration : "1 min",
	description : "Choose 1 Dmg type you and creatures of your choice w/i 30 ft gain immunity to that dmg.",
	descriptionFull : desc([	
		"You create a perfectly designed field of magical protection that",
		"emanates from you in a 30-foot radius.",
		"Until the spell ends, the field moves with you and is centered",
		"on you. When you cast this spell, you select a damage type,",
		"such as radiant or fire damage. You and creatures of your choice",
		"within 30 feet of you are immune to that damage type. As an",
		"action while this spell is in effect, you can extend the radius of",
		"this spell’s effect to 300 feet until the start of your next turn.",
		"At Higher Tiers. When you cast this spell as a tier 3 Epic",
		"spell, you may select an additional damage type. Creatures affected",
		"by the spell also gain immunity to this damage type.",
		"As a Ritual. When you cast this spell as a ritual, its casting",
		"time is increased to 2 hours. When you cast the spell in this",
		"manner, the spell may instead be centered on an object within",
		"30 feet of you, and the effect lasts for 8 hours.",
	]),
};
SpellsList["crescent cleave"] = {
	name : "Crescent Cleave",
	source : ["EL:HH", 145],
	classes : ["ascendant"],
	level : 1,
	school : "T1",
	time : "1 a",
	range : "Special",
	components : "V,S,M",
	compMaterial : "a rock from the moon",
	duration : "Instantaneous",
	description : "Choose 1 Dmg type you and creatures of your choice w/i 30 ft gain immunity to that dmg.",
	descriptionFull : desc([	
		"You slice the air with a weapon, unleashing a wave of cleaving",
		"force that cuts your enemies in twain.",
		"As an action when you cast this spell, you make a melee weapon",
		"attack against a creature within reach using a weapon you",
		"are holding. On a successful hit, the target takes an additional",
		"14d12 radiant damage, and until the end of your turn you may",
		"make this attack again against a different creature within reach.",
		"This effect is cumulative, to a maximum number of creatures",
		"equal to your spellcasting ability modifier.",
	]),
};
SpellsList["crimson winds of havoc"] = {
	name : "Crimson Winds of Havoc",
	source : ["EL:HH", 145],
	classes : ["overlord"],
	level : 2,
	school : "T2",
	time : "1 a",
	range : "1 Mile",
	components : "V,S,M",
	compMaterial : "a razor used to slit the throat of a king",
	duration : "Concentration, up to 10 minutes",
	description : "you create a 30 ft rad. 1 mile high cyclone of blades Str save or be restrained and take 20d6 slash. half as much on success.",
	descriptionFull : desc([	
		"You call down a howling cyclone of razor-sharp blades to a point",
		"you can see on the ground within range.",
		"The cyclone is a 30-foot-radius, 1-mile-high cylinder centered",
		"on a point in range. Until the spell ends, you can use your action",
		"to move the cyclone up to 120 feet in any direction along the",
		"ground. The cyclone sucks up any Huge or smaller objects (including",
		"ammunition fired from ranged weapons) that aren’t secured",
		"to anything and aren’t being worn or carried.",
		"When a creature enters the cyclone’s area for the first time on",
		"a turn or starts its turn there, it must succeed on a Strength saving",
		"throw or become restrained and take 20d6 slashing damage.",
		"A successful saving throw prevents the restrained condition and",
		"halves the damage. Creatures larger than Huge automatically",
		"succeed on Strength saving throws against this spell. Creatures",
		"that fail a Strength saving throw against this spell are drawn 100",
		"feet up into the air. Creatures in the air inside the spell’s area",
		"move with the cyclone and fall when the spell ends or when they",
		"leave the spell’s area. Objects and structures in the spell’s area",
		"take 120 slashing damage at the end of each of your turns.",
		"A creature restrained by the spell may use an action to attempt",
		"a Strength (Athletics) or Dexterity (Acrobatics) ability",
		"check against your spell save DC. On a success, the creature",
		"is no longer restrained and is hurled 200 feet in a straight line",
		"away from the cyclone in a random direction.",
	]),
};
SpellsList["crown of vermin"] = {
	name : "Crown of Vermin",
	source : ["EL:HH", 145],
	classes : ["ascendant", "primordial", "overlord"],
	level : 1,
	school : "T1",
	time : "1 a",
	range : "Self (15 ft Rad.)",
	components : "V,S,M",
	compMaterial : "an ancient insect encased in amber",
	duration : "Concentration, up to 1 minute",
	description : "You summon a cloud of insects that act as a livng shield granting you 200 + 100/SL Temp HP, if a crea. enters sub 5d8 temp hp and deal 5d8 piercing to crea.",
	descriptionFull : desc([	
		"You conjure a cloud of buzzing, swarming insects that emanate",
		"from you in a 15-foot radius and act as a living shield.",
		"Until the spell ends, the cloud moves with you and is centered",
		"on you, and grants you 200 temporary hit points, which last for",
		"the duration and cannot be replaced by temporary hit points",
		"from another source. The spell ends early if the temporary hit",
		"points granted from this spell are reduced to 0.",
		"If a creature moves into the spell’s area for the first time on its",
		"turn or starts its turn there, you lose 5d8 temporary hit points",
		"and the creature takes an equal amount of piercing damage as",
		"the insects attack it.",
		"At Higher Tiers. When you cast this spell as a tier 2 Epic",
		"spell or higher, you increase the temporary hit points granted",
		"by the swarm by 100 per tier above tier 1.",
	]),
};
SpellsList["dematerialize"] = {
	name : "Dematerialize",
	source : ["EL:HH", 146],
	classes : ["archmage", "archon", "overlord"],
	level : 2,
	school : "T2",
	time : "1 a",
	range : "Touch",
	components : "V,S,M",
	compMaterial : "an object never seen by mortal eyes",
	duration : "Concentration, up to 1 hour",
	description : "1 crea. epic invisibility, true sight can not see, truesight has epic adv on ability checks to detect crea.",
	descriptionFull : desc([	
		"creature you touch becomes imperceptible to all senses,",
		"seemingly vanishing from existence.",
		"The target becomes invisible, along with everything it is wearing",
		"while those items remain on its person. Additionally, the",
		"target is hidden (detect DC equal to your spell save DC).",
		"Creatures under this effect cannot be seen by creatures with",
		"truesight, though such creatures have Epic advantage on ability",
		"checks to detect the target.",
		"As a Ritual. When you cast this spell as a ritual, its casting",
		"time is increased to 4 hours. When you cast the spell in this manner,",
		"you may target an object or structure within reach. When",
		"you target an object in this manner, the spell’s duration becomes",
		"permanent. This effect ends early if you cast the spell again.",
	]),
};
SpellsList["demecius's divine intercession"] = {
	name : "Demecius's Divine Intercession",
	source : ["EL:HH", 146],
	classes : ["ascendant"],
	level : 1,
	school : "T1",
	time : "1 reaction, which you take when you or an ally within range would take damage.",
	range : "120 ft",
	components : "S",
	duration : "Instantaneous",
	description : "You curse a creature and are able to choose between two potential different actions that it can take on its turns. at end of turn Wis save to end effect.",
	descriptionFull : desc([	
		"Used by Demecius the hill dwarf ascendant to protect a",
		"fallen deity of light from the forces of evil, this spell wards",
		"an ally in imminent danger against all harm.",
		"You point at an ally within range and shield the ally in a nimbus",
		"of silver light until the start of its next turn. While so shielded,",
		"a creature is immune to all types of damage.",
		"At Higher Tiers. When you cast this spell as a tier 2 Epic",
		"spell or higher, the magical shield increases in potency. When",
		"you cast this spell as a tier 2 Epic spell, a shielded creature is",
		"also immune to the grappled, restrained, and stunned conditions.",
		"When you cast this spell as a tier 3 Epic spell, in addition to the",
		"effects from casting it as a tier 2 Epic spell, you may magically",
		"teleport the target to an unoccupied space within 5 feet of you.",
	]),
};
SpellsList["determinism"] = {
	name : "Determinism",
	source : ["EL:HH", 146],
	classes : ["archmage", "ascendant"],
	level : 2,
	school : "T2",
	time : "1 a",
	range : "120 ft",
	components : "V,S,M",
	compMaterial : "a diamond from a parallel universe",
	duration : "1 minute",
	description : "You curse a creature and are able to choose between two potential different actions that it can take on its turns. at end of turn Wis save to end effect.",
	descriptionFull : desc([	
		"You curse a creature you are aware of within range,",
		"altering its fate to determine its future actions.",
		"When the target attempts to take its action on each of its turns,",
		"it must offer you an alternative action that it is able to take that",
		"cannot be the same type of action as the first. You select which",
		"action the creature must take between the two options presented.",
		"The creature need not tell you what it will do with these",
		"actions or how they work, only that it wishes to take them.",
		"At the end of each of its turns, the creature may attempt a",
		"Wisdom saving throw to end the effect. If the creature succeeds",
		"on two Wisdom saving throws in this manner, the spell ends.",
		"At Higher Tiers. When you cast this spell as a tier 3 Epic spell,",
		"you increase the number of successful Wisdom saving throws the",
		"creature must make to end the spell by one, to a total of three.",
	]),
};
SpellsList["dimensional mastery"] = {
	name : "Dimensional Mastery",
	source : ["EL:HH", 146],
	classes : ["archmage", "ascendant"],
	level : 1,
	school : "T1",
	time : "1 a",
	range : "Self (60 ft Rad.)",
	components : "V,S,M",
	compMaterial : "a compass that doesn't point north",
	duration : "10 minutes",
	description : "see full details",
	descriptionFull : desc([	
		"You enchant yourself with the ability to manipulate",
		"dimensional space within a 60-foot radius.",
		"When you cast the spell and as an action on each of your turns",
		"for the duration, you can teleport any number of creatures you",
		"can see within the spell’s area to different unoccupied spaces",
		"you can see within the spell’s area. An unwilling creature must",
		"succeed on a Charisma saving throw to prevent this movement.",
		"Additionally, as a reaction to when a creature you can see",
		"within the spell’s area casts a spell or uses a feature that would",
		"magically teleport it to a different location, such as a dimension",
		"door spell or a conjuration wizard’s Benign Transposition feature,",
		"you can force that creature to attempt a Charisma saving",
		"throw, preventing the teleportation on a failure.",
		"At Higher Tiers. When you cast this spell as a tier 2 Epic",
		"spell or higher, the radius of the spell increases by 60 feet for",
		"each tier higher than tier 1, to maximum of 180 feet at tier 3.",
	]),
};
SpellsList["dreamscape"] = {
	name : "Dreamscape",
	source : ["EL:HH", 147],
	classes : ["archmage"],
	level : 3,
	school : "T3",
	time : "1 a",
	range : "Self (150 ft Rad.)",
	components : "V,S,M",
	compMaterial : "a dream journal containing 1,000 entries",
	duration : "10 minutes",
	description : "crea. w/i range Int save or be pulled into dreamlike state see details for details.",
	descriptionFull : desc([	
		"A wave of eldritch energy flows from you in a 150-foot-radius",
		"aura, allowing your dreams to influence reality.",
		"Until the spell ends, the aura moves with you and is centered",
		"on you. When a creature enters the spell’s area for the first time",
		"on its turn or starts its turn there, you may force it to attempt",
		"an Intelligence saving throw. On a failure, it is pulled into a",
		"dreamlike state for as long as it remains within the spell’s area.",
		"Creatures can choose to forgo the saving throw and willingly",
		"enter this dreamlike state.",
		"When you cast a spell within the aura’s area, you may cast",
		"that spell as a dreamspell instead. Dreamspells have the following",
		"properties, in addition to their normal effects.",
		"* Creatures not in a dreamlike state cannot be affected",
		"by the spell.",
		"* The spell requires no verbal, somatic, or material",
		"components.",
		"* If the spell is cast as an 8th-level or lower spell, it is",
		"instead cast as a 9th-level spell.",
	]),
};
SpellsList["dungeon delver's delight"] = {
	name : "Dungeon Delver's Delight",
	source : ["EL:HH", 147],
	classes : ["ascendant"],
	level : 2,
	school : "T2",
	time : "1 min",
	range : "60 ft",
	components : "V,S,M",
	compMaterial : "a solid gold cornucopia that has fed a million mouths",
	duration : "8 hours",
	description : "You create a fantastic feast able to feed up to 20 creatures see details for benefits.",
	descriptionFull : desc([	
		"Created by the famous dungeoneer Mark Maximus, this spell",
		"creates an extravagant camping site that provides you with all the",
		"necessities to brave the horrors in a nearby dungeon.",
		"You choose a point within range and transform it into a wondrous",
		"campsite, producing the following effects within a 100-",
		"foot radius, which last for the duration.",
		"Fantastic Feast. An extravagant feast appears before you,",
		"able to feed up to twenty individuals of Gargantuan size or",
		"smaller. A creature must spend 1 hour consuming the feast to",
		"gain the following benefits for 24 hours.",
		"* The creature gains the benefits of a heroes’ feast spell.",
		"* The first magical potion the creature drinks after",
		"consuming the feast has its duration increased to the",
		"duration of the feast’s effect.",
		"* When the creature is reduced to 0 hit points for the",
		"first time, it may choose to be immediately magically",
		"teleported to the location of the feast.",
		"As a Ritual. Casting this spell as a ritual increases its casting",
		"time to 1 hour. When you cast this spell as a ritual, it produces",
		"the following effect within its affected area, and its duration is",
		"increased to 24 hours.",
		"Warding Campfire. A roaring fire supplies warmth to any",
		"who rest near it, which causes the following effects within the",
		"affected area.",
		"* Allies that finish a long rest recover all their spent",
		"Hit Dice instead of half of their total Hit Dice.",
		"* All non-Epic weather effects that would be harmful or",
		"unpleasant to creatures within the area are suppressed.",
		"* You are telepathically alerted if an enemy creature attempts",
		"to enter the area without your express permission.",
	]),
};
SpellsList["energy renewal"] = {
	name : "Energy Renewal",
	source : ["EL:HH", 147],
	classes : ["archon"],
	level : 2,
	school : "T2",
	time : "1 a",
	range : "Self",
	components : "V,S",
	duration : "1 min",
	description : "for the duration when you cast a non-epic spell you regenerate 3d8/SL, epic spell 50/SL",
	descriptionFull : desc([	
		"You envelop yourself in a mantle of positive energy that",
		"converts your magic into healing power.",
		"For the spell’s duration, when you cast a non-Epic spell of 1st",
		"level or higher that expends a spell slot granted by your class",
		"spellcasting feature, you regain 3d8 hit points for each level of",
		"the spell slot expended. If you cast an Epic spell, you instead",
		"gain 50 hit points for each tier of the spell, to a maximum of",
		"150 hit points for a tier 3 Epic spell.",
		"At Higher Tiers. When you cast this spell as a tier 3 Epic",
		"spell, its healing powers become more potent. You increase the",
		"number of hit points you regain when you cast a non-Epic spell",
		"by an additional 3d8 for each level of the spell slot expended.",
		"Additionally, you increase the amount of hit points gained from",
		"casting an Epic spell by 25 for each tier of the spell.",
	]),
};
SpellsList["enigma masque"] = {
	name : "Enigma Masque",
	source : ["EL:HH", 148],
	classes : ["archon"],
	level : 1,
	school : "T1",
	time : "1 a",
	range : "Touch",
	components : "V,S,M",
	compMaterial : "a portrait of a forgotten hero",
	duration : "Concentration, up to 24 hours",
	description : "You touch one crea. and magically conceal its identity see full details for specifics.",
	descriptionFull : desc([	
		"You conceal a creature you touch in a magical mask that",
		"protects its identity and grants it a fictional persona of your",
		"own design.",
		"As a part of casting the spell, you must fabricate an entirely",
		"new character of the same size and type as the affected creature.",
		"You determine the character’s name, personality, background,",
		"alignment, and any other details by which you wish",
		"others to know the character. For the duration of the spell,",
		"the target has a +10 bonus on Charisma ability checks to",
		"maintain the persona and convince others of its validity. The",
		"first time another creature perceives the target, it must attempt",
		"an Intelligence saving throw. On a failure, the creature",
		"becomes completely convinced the target is the persona,",
		"even if common sense would indicate otherwise, and it has",
		"Epic disadvantage on Charisma and Wisdom ability checks",
		"against the target. An affected creature will even fabricate",
		"false memories to stretch reason to ridiculous degrees if necessary",
		"to believe the persona. If the true nature of the target",
		"is revealed through incontrovertible proof to an affected creature,",
		"the effect ends.",
		"At Higher Tiers. When you cast this spell at a tier higher",
		"than tier 1, you may affect up to two additional creatures within",
		"reach for each tier above tier 1.",
		"As a Ritual. When you cast this spell as a ritual, its casting",
		"time is increased to 8 hours. When you cast the spell in",
		"this manner, its duration is increased to permanent and you",
		"no longer need to concentrate to maintain its effects for the",
		"duration.",
	]),
};
SpellsList["equinox"] = {
	name : "Equinox",
	source : ["EL:HH", 148],
	classes : ["primordial"],
	level : 3,
	school : "T3",
	time : "1 a",
	range : "Self (60 ft rad.)",
	components : "V,S,M",
	compMaterial : "an emerald cut into the shape of a maple leaf",
	duration : "Concentration, up to 1 minute",
	description : "you eminate a 60 ft rad. aura of positive or negative energy see description for details",
	descriptionFull : desc([	
		"You tap into the inherent balance of nature, creating a field of life",
		"or death in a 60-foot radius centered on you.",
		"When you cast this spell, you determine whether the aura will",
		"be one of positive or negative energy for the spell’s duration.",
		"Until the spell ends, the aura moves with you and is centered",
		"on you.",
		"If you select positive energy, when you cast this spell and",
		"at the start of each of your turns over the duration, creatures",
		"of your choice within the area are bathed in healing energy.",
		"Affected creatures regain 20d10 hit points, are cured of the",
		"blinded, deafened, petrified, poisoned, and stunned conditions,",
		"and their exhaustion is reduced by one level.",
		"If you select negative energy, when you cast this spell and at",
		"the start of each of your turns over the duration, creatures of",
		"your choice within the area lose 20d10 hit points, gain one level",
		"of exhaustion, and cannot be immune to the blinded, deafened,",
		"exhaustion, petrified, poisoned, and stunned conditions for as",
		"long as they remain in the spell’s area.",
	]),
};
SpellsList["exalted brand of absolution"] = {
	name : "Exalted Brand of Absolution",
	source : ["EL:HH", 148],
	classes : ["ascendant"],
	level : 2,
	school : "T2",
	time : "1 a",
	range : "Touch",
	components : "V,S,M",
	compMaterial : "a jar of silver paint mixed with holy water",
	duration : "Permanent",
	description : "Make a Melee Atk against a crea. you curse them, while cursed they can not lie or decieve/atks deal half dmg/and take 6d12 Right. Dmg at end of turn. Cha (Pers) Check to end effect.",
	descriptionFull : desc([	
		"You invoke divine justice and attempt to mystically",
		"brand another you deem deserving.",
		"You make a melee spell attack against a creature you can reach.",
		"On a hit, you curse the creature with a holy brand written in",
		"the words of creation, the language of pure good. A creature so",
		"cursed cannot lie or attempt to deceive others, deals half damage",
		"on its attacks, and takes 6d12 righteous damage at the end",
		"of each turn in which it harms another creature. On each of its",
		"turns, a branded creature can take an action to remove the effect",
		"by praying for mercy and attempting a Charisma (Persuasion)",
		"check against your spell save DC. Mythic creatures automatically",
		"succeed on this ability check. On a successful check, the",
		"effect ends.",
		"At Higher Tiers. When you cast this spell as a tier 3 Epic",
		"spell, an affected creature takes 6d12 additional righteous damage",
		"at the end of each of its turns in which it harms another",
		"creature.",
		"As a Ritual. When you cast this spell as a ritual, its casting",
		"time is increased to 1 hour. When you cast the spell in this manner,",
		"an affected creature that attempts a Charisma (Persuasion)",
		"check to remove the brand can only succeed if it is speaking to",
		"you in person when it does so.",
	]),
};
SpellsList["final death"] = {
	name : "Final Death",
	source : ["EL:HH", 149],
	classes : ["ascendant", "overlord"],
	level : 1,
	school : "T1",
	time : "1 a",
	range : "Touch",
	components : "V,S,M",
	compMaterial : "two copper coins more than 1,000 years old",
	duration : "Instantaneous",
	description : "One crea. remains dead less than 24hr T1 non-epic magic can not raise/communicate with, T2 non-deific magic can not raise/communicate with, T3 no known methods can raise/communicate",
	descriptionFull : desc([	
		"You touch the remains of a creature that has died within the",
		"last 24 hours, locking its soul away in the afterlife forever.",
		"The affected creature cannot return to life by non-Epic means,",
		"nor can it communicate with the living by non-Epic magic.",
		"At Higher Tiers. When you cast this spell as a tier 2 Epic",
		"spell or higher, the affected creature cannot be returned to",
		"life by non-Deific means. If you cast this spell as a tier 3 Epic",
		"spell, the target cannot return to life by any known means.",
		"As a Ritual. When you cast this spell as a ritual, its casting",
		"time is increased to 4 hours. When you cast the spell in this",
		"manner, an affected creature cannot be risen as an undead, nor",
		"can its remains be affected by any known means unless you",
		"allow it.",
	]),
};
SpellsList["flash freeze"] = {
	name : "Flash Freeze",
	source : ["EL:HH", 149],
	classes : ["archmage", "archon", "primordial"],
	level : 1,
	school : "T1",
	time : "1 a",
	range : "120 ft",
	components : "V,S,M",
	compMaterial : "a small animal encased in ice for 10,000 years",
	duration : "Instantaneous",
	description : "20 ft rad. Con save or 10d10/SL cold and become frozen, succ, half dmg, no freeze.",
	descriptionFull : desc([	
		"You generate a maelstrom of frigid cold in a 20-foot radius",
		"centered on a point within range.",
		"Creatures in the area must succeed on a Constitution saving",
		"throw or take 10d10 points of cold damage and become frozen.",
		"A successful saving throw halves the damage and prevents the",
		"frozen condition.",
		"At Higher Tiers. When you cast this spell as a tier 2 Epic",
		"spell or higher, the cold damage increases by 10d10 for each tier",
		"above tier 1.",
		"The Frozen Condition",
		"* A frozen creature is encased in ice, which is an",
		"object that surrounds the creature, with an AC of 15",
		"and 100 hit points. When the creature is no longer",
		"encased in ice, the condition ends.",
		"* The creature’s speed is 0, and it cannot take actions",
		"other than attempting to break free. A creature",
		"attempting to break free from the ice must take an",
		"action to attempt a Strength (Athletics) ability check",
		"against a DC of 15 or the source’s spell save DC,",
		"whichever is higher. On a success, the condition ends.",
		"* The creature is immune to all damage except cold",
		"and psychic damage.",
	]),
};
SpellsList["force armor"] = {
	name : "Force Armor",
	source : ["EL:HH", 150],
	classes : ["archmage", "archon"],
	level : 2,
	school : "T2",
	time : "1 a",
	range : "Self",
	components : "V,S,M",
	compMaterial : "a tiny shield of a mithral adamantine alloy",
	duration : "8 hours",
	description : "your AC becomes 18 + 2/SL + Dex, when hit w/ crit DC 30 Con save to make normal hit.",
	descriptionFull : desc([	
		"You surround yourself with overlapping plates of magical force that",
		"fortify you against attacks.",
		"Your AC becomes 18 + your Dexterity modifier. When you are",
		"critically hit by an attack, you can attempt a DC 30 Constitution",
		"saving throw. On a success, the critical hit instead becomes a",
		"normal hit.",
		"At Higher Tiers. If you cast this spell as a tier 3 Epic spell,",
		"your AC instead becomes 20 + your Dexterity modifier",
	]),
};
SpellsList["genesis"] = {
	name : "Genesis",
	source : ["EL:HH", 150],
	classes : ["ascendant", "primordial"],
	level : 1,
	school : "T1",
	time : "1 a",
	range : "90 ft",
	components : "V,S,M",
	compMaterial : "a piece of bark from a redwood treant",
	duration : "1 minute",
	description : "1 crea. restore 20d6 + 10d6/SL HP + 4d6 + 2d6/SL at start of crea. turn for duration, cure any HP Max reduction, if dropped to 0 HP regain 100 HP spell ends",
	descriptionFull : desc([	
		"You gift a deserving creature with bountiful bursts of healing",
		"energy.",
		"A living creature you can see within range regains 20d6 hit",
		"points and cures any reduction to its hit point maximum.",
		"At the start of each of the creature’s turns for the spell’s duration,",
		"it regains 4d6 hit points. If a creature would be reduced to",
		"0 hit points while under the effects of the spell, it regains 100",
		"hit points and the spell ends.",
		"At Higher Tiers. When you cast this spell as a tier 2 Epic",
		"spell or higher, for each tier higher than tier 1, the target regains",
		"10d6 additional hit points when the spell is cast, 2d6 additional",
		"hit points at the start of its turn, and 100 additional hit",
		"points when the target is first reduced to 0 hit points.",
		"As a Ritual. When you cast this spell as a ritual, its casting",
		"time is increased to 8 hours. When you cast the spell in this",
		"manner, you instead target each creature and object of your",
		"choice within 10 miles.",
	]),
};
SpellsList["hail of deadly blossoms"] = {
	name : "Hail of Deadly Blossoms",
	source : ["EL:HH", 151],
	classes : ["primordial"],
	level : 3,
	school : "T3",
	time : "1 a",
	range : "150 ft",
	components : "V,S,M",
	compMaterial : "a black lotus",
	duration : "Concentration, up to 1 minute",
	description : "See Full Details",
	descriptionFull : desc([	
		"You summon a beautiful but deadly maelstrom of petals to",
		"poison your foes.",
		"Until the spell ends, beautiful flower petals of lethal toxicity",
		"rain down in a 300-foot-tall cylinder with a 30-foot radius",
		"centered on a point you choose within range. Creatures within",
		"the spell’s area cannot have resistance or immunity to poison",
		"damage. When you cast the spell and at the start of each of",
		"your turns, creatures of your choice within the affected area are",
		"subjected to one of the following poisons, chosen by you.",
		"* Delphinium Dose. A creature subjected to this poison must",
		"succeed on a Constitution saving throw or take 40d8 poison",
		"damage, or half as much on a success.",
		"* Gloriosa Lily Pollen. A creature subjected to this poison",
		"must succeed on a Wisdom saving throw or take 20d8 poison",
		"damage and become incapacitated until the start of its next",
		"turn. A successful saving throw halves the damage.",
		"* Hydrangea Venom. A creature subjected to this poison",
		"must succeed on an Intelligence saving throw or take 10d8",
		"poison damage, or half as much on a success. On a failure, the",
		"creature also suffers violent delusions for the duration of the",
		"spell. When a creature so deluded makes an attack roll, saving",
		"throw, or ability check, it rolls a d10 and subtracts the number",
		"rolled from the result. The affected creature can attempt an",
		"Intelligence saving throw at the end of each of its turns, ending",
		"the effect on itself on a success.",
		"* Nightshade Nectar. A creature subjected to this poison",
		"must succeed on a Strength saving throw or take 12d8 poison",
		"damage and have its speed reduced to 0 until the end of its next",
		"turn. A successful saving throw halves the damage and instead",
		"causes its speed to be halved until the end of its next turn.",
	]),
};
SpellsList["hideous mandate"] = {
	name : "Hideous Mandate",
	source : ["EL:HH", 151],
	classes : ["overlord"],
	level : 1,
	school : "T1",
	time : "1 a",
	range : "120 ft",
	components : "V",
	duration : "1 minute",
	description : "1 crea. Wis save or fall under one of the commands (see full details)",
	descriptionFull : desc([	
		"You issue an evil command of diabolical authority to a",
		"creature that you are aware of within range.",
		"The target must succeed on a Wisdom saving throw or suffer",
		"the effects of the command for the duration. A creature that",
		"cannot hear you is immune to the spell’s effects.",
		"You may issue one of the following evil commands. At the",
		"DM’s discretion, you may choose a different command, but it",
		"should be no more powerful than those described here and must",
		"direct a creature toward acts of evil and violence. The DM has",
		"final say on such a command’s effect. If your command proves",
		"impossible even under ideal circumstances, the spell ends. At",
		"the end of an affected creature’s turn, it can attempt a Wisdom",
		"saving throw to end the effect on itself.",
		"* Slay. The target experiences unfathomable animosity toward",
		"another creature you can see within range. The target does everything",
		"in its power to kill the creature as quickly as possible.",
		"The target will not defend itself if doing so would prevent it",
		"from somehow harming the creature or object that it hates.",
		"* Submit. The creature surrenders itself to its enemies. It is",
		"automatically hit by attacks and cannot take actions to defend",
		"itself.",
		"* Suffer. The target is racked with extraordinary pain. When",
		"it attempts to take its action, it must succeed on a DC 20",
		"Constitution saving throw or that action fails and the target is",
		"unable to attempt that action type (action, bonus action, reaction,",
		"etc.) again that turn.",
		"* Supplicate. The target is charmed by another creature you",
		"can see within range and does everything in its power to aid the",
		"creature. The target cannot willingly move away from the creature",
		"and will not defend itself if doing so would prevent it from",
		"somehow aiding or protecting the creature it is charmed by.",
		"At Higher Tiers. If you cast this spell as a tier 2 Epic spell,",
		"you can target an additional Epic creature within range or every",
		"non-Epic creature within range. If you cast this spell as a tier",
		"3 Epic spell, in addition to the benefits gained by casting it as",
		"a tier 2 Epic spell, you may target a third Epic creature within",
		"range or increase the range of the spell to 300 feet.",
	]),
};
SpellsList["hungry fissure"] = {
	name : "Hungry Fissure",
	source : ["EL:HH", 151],
	classes : ["ascendant", "primordial"],
	level : 1,
	school : "T1",
	time : "1 a",
	range : "Self (100 ft line)",
	components : "V,S,M",
	compMaterial : "a fossilized dragon claw",
	duration : "Instantaneous",
	description : "100x30x50/SL ft chasm opens before you crea. Dex save or fall in at end of turn chasm slams shut any crea. inside are entombed (see full description)",
	descriptionFull : desc([	
		"Your magic rends the earth and opens a great maw",
		"of stone and dirt.",
		"A great fissure 100 feet long, 30 feet wide, and 50 feet deep",
		"opens along the ground, starting in front of you and extending",
		"in a direction of your choice. A creature standing in the",
		"effect’s area can use its reaction to attempt a Dexterity saving",
		"throw to move safely to the edge of the fissure as it opens. On",
		"a failure or if unable to take a reaction, a creature large enough",
		"to fit inside the fissure falls to the bottom. If the fissure opens",
		"beneath a structure, any portion of the structure above the fissure",
		"automatically collapses. At the end of your turn, the fissure",
		"slams shut, trapping everything within underground. A",
		"creature without a burrowing speed so entrapped cannot take",
		"actions or move and must hold its breath or begin suffocating.",
		"An entrapped creature can take an action to attempt a Strength",
		"Athletics) ability check against your spell save DC. On a success,",
		"it is no longer entrapped and can try to dig its way out by",
		"spending 4 feet of movement for every 1 foot it digs.",
		"At Higher Tiers. When you cast this spell as a tier 2 Epic",
		"spell or higher, the dimensions of the fissure increase by 100",
		"feet in length, 30 feet in width, and 50 feet in depth for each",
		"tier above tier 1.",
	]),
};
SpellsList["immortal legend"] = {
	name : "Immortal Legend",
	source : ["EL:HH", 152],
	classes : ["ascendant", "primordial"],
	level : 2,
	school : "T2",
	time : "1 a",
	range : "60 ft",
	components : "V,S,M",
	compMaterial : "a solid gold statue of the target forged on a 1:10 scale",
	duration : "Instantaneous",
	description : "You restore a crea., you have spoken to, to true whole life",
	descriptionFull : desc([	
		"You restore a dead creature to life with overwhelming magic,",
		"allowing it to return no matter its fate.",
		"You restore a dead creature to life in an unoccupied space within",
		"range. You must know the creature’s name and have spoken",
		"with it once before. The creature gains a new body free from the",
		"ravages of aging or any harmful effects it suffered from in life.",
		"The creature is restored at its hit point maximum and recovers",
		"any missing features, including esoteric ones such as a soul, true",
		"name, or other elements. Once a creature has been restored to",
		"life by this spell, it cannot be restored in this manner again until",
		"1,000 years have passed.",
		"As a Ritual. When you cast this spell as a ritual, its casting",
		"time is increased to 24 hours. When you cast the spell in this",
		"manner, you need not have spoken with the target once before",
		"in order to restore it to life.",
	]),
};
SpellsList["impenetrable force field"] = {
	name : "Impenetrable Force Field",
	source : ["EL:HH", 152],
	classes : ["ascendant", "primordial"],
	level : 2,
	school : "T2",
	time : "1 min",
	range : "Self (1,000 ft Cube)",
	components : "V,S,M",
	compMaterial : "a naturally formed crystalline cube with perfect dimensions",
	duration : "4 hours",
	description : "you create a password protected 1,000 ft cube of indestructible force, disintigrate destroys a 10ft square section that repairs over a minute",
	descriptionFull : desc([	
		"You create a nearly indestructible field of force that",
		"prevents all passage without your consent.",
		"The field is a transparent 1,000-foot cube centered on you that",
		"lasts for the duration. When the field appears, you must designate",
		"a single word to be the field’s password. Solid objects and",
		"magical effects cannot pass through the field, though uttering",
		"the password opens a 50-foot-square hole in the nearest side",
		"of the cube, which lasts for 1 minute or until the password is",
		"uttered again. A creature that attempts to magically teleport",
		"into or out of the cube must first succeed on a Charisma saving",
		"throw or the effect fails and the creature cannot attempt",
		"to teleport again for 1 hour. Effects that would ordinarily",
		"destroy force effects (such as a disintegrate spell) instead destroy",
		"a 10-square-foot section of the barrier. Unless the barrier is",
		"completely destroyed, any destroyed sections of the barrier are",
		"magically repaired after 1 minute.",
		"As a Ritual. When you cast this spell as a ritual, its casting",
		"time is increased to 48 hours. When you cast the spell in this",
		"manner, its duration is increased to permanent. This spell ends",
		"if you cast it again.",
	]),
};
SpellsList["implosion"] = {
	name : "Implosion",
	source : ["EL:HH", 152],
	classes : ["ascendant", "primordial"],
	level : 2,
	school : "T2",
	time : "1 a",
	range : "60 ft",
	components : "S",
	duration : "Instantaneous",
	description : "non-epic crea. killed outright, epic take 30d10 blud. dmg, if slain become compressed into marbles",
	descriptionFull : desc([	
		"You compress a single target of Gargantuan size or",
		"smaller with overwhelming force.",
		"If the target is a non-Epic creature, it is slain instantly. All",
		"other targets instead take 30d10 points of bludgeoning damage.",
		"Creatures reduced to 0 hit points or slain by this spell are",
		"compressed to the size of a marble, along with any nonmagical",
		"equipment they are carrying.",
	]),
};
SpellsList["impossible labyrinth"] = {
	name : "Impossible Labyrinth",
	source : ["EL:HH", 152],
	classes : ["ascendant", "primordial"],
	level : 2,
	school : "T2",
	time : "1 a",
	range : "Self (120 ft rad.)",
	components : "V,S,M",
	compMaterial : "a glove from a goblin king",
	duration : "Concentration, up to 1 minute",
	description : "Illusory Labyrinth, you can select who is unaffected, Int save or be trapped in the labyrinth (See Full Details)",
	descriptionFull : desc([	
		"You generate a selective illusion of an impossibly",
		"complex labyrinth in a 120-foot cube centered on you.",
		"When the labyrinth is formed, you may choose any number of",
		"creatures of your choice to be immune to the effects of the spell",
		"for its duration. All other creatures in the affected area when",
		"you cast the spell must succeed on an Intelligence saving throw",
		"or become trapped in the labyrinth, hopelessly lost, wandering",
		"its impossible corridors in a subversion of physics for as long as",
		"they remain in the affected area. While lost in this manner, a",
		"creature cannot leave its current space (even by magical means),",
		"and other creatures in the labyrinth are hidden from it (detect",
		"DC equal to your spell save DC). At the end of each of its",
		"turns, an affected creature can repeat the saving throw, ending",
		"the illusion for itself on a success.",
		"A creature with truesight has Epic advantage on saving",
		"throws against this spell.",
		"As a Ritual. When you cast this spell as a ritual, its casting",
		"time is increased to 8 hours. When you cast the spell in this",
		"manner, the spell’s duration is increased to permanent and its",
		"affected area is increased to a 1-mile cube centered on you. This",
		"spell ends if you cast this spell again.",
	]),
};
SpellsList["infinity room"] = {
	name : "Infinity Room",
	source : ["EL:HH", 153],
	classes : ["archmage"],
	level : 1,
	school : "T1",
	time : "1 a",
	range : "120 ft",
	components : "V,S,M",
	compMaterial : "a tessellation drawn upon a piece of vellum",
	duration : "Concentration, up to 1 hour",
	description : "(see full description)",
	descriptionFull : desc([	
		"You fabricate a 20-foot cube of illusory, impossible",
		"architecture and absurd geometry in a space you can see",
		"within range.",
		"The cube visibly distorts and warps everything within it, making",
		"its contents appear simultaneously everywhere and yet",
		"nowhere. Creatures outside the area have total cover against",
		"creatures inside the area, and three-quarters cover against",
		"creatures with truesight. A creature inside the area that attempts",
		"to affect an area outside the spell must first succeed",
		"on an Intelligence saving throw against your spell save DC, or",
		"the attempt fails and any resources used to make the attempt",
		"are wasted.",
		"At Higher Tiers. When you cast this spell as a tier 2 Epic",
		"spell or higher, you increase all dimensions of the cube by 10",
		"feet for every tier above tier 1.",
		"As a Ritual. When you cast this spell as a ritual, its casting",
		"time increases to 1 hour. When you cast the spell in this manner,",
		"its duration increases to permanent. This spell ends if you",
		"cast it again.",
	]),
};
SpellsList["kinetic control"] = {
	name : "Kinetic Control",
	source : ["EL:HH", 153],
	classes : ["archmage", "archon"],
	level : 2,
	school : "T2",
	time : "1 a",
	range : "300 ft",
	components : "V,S",
	duration : "Concentration, up to 10 minutes",
	description : "when cast+as BA for duration choose 1 crea.,obj.,stuct., w/i range see full desc for rulings",
	descriptionFull : desc([	
		"Your consciousness overflows with telekinetic power,",
		"allowing you to manipulate almost anything with",
		"your mind.",
		"When you cast the spell, and as a bonus action each round for",
		"the duration, you can exert your will on one creature, object,",
		"or structure that you can see within range. You can affect the",
		"same target round after round or choose a new one at any",
		"time. If you switch targets, the prior target is no longer affected",
		"by the spell.",
		"Creature. You can try to move a Gargantuan or smaller",
		"creature. The creature must succeed on a Strength saving",
		"throw or be moved up to 120 feet in any direction, including",
		"upward but not beyond the range of the spell. Until the end",
		"of your next turn the creature is restrained in your telekinetic",
		"grip. A creature so restrained lifted upward is suspended in",
		"the air.",
		"Object or Structure. You can try to move an object or",
		"structure that weighs up to 100,000 pounds that fits entirely",
		"inside the spell’s area. If an object isn’t being worn or carried,",
		"you automatically move it up to 120 feet away in any direction",
		"but not beyond the range of the spell.",
		"If an object is worn or carried by a creature, that creature",
		"must succeed on a Strength saving throw, or the object is",
		"pulled away and moved up to 120 feet in any direction but",
		"not beyond the range of the spell.",
		"You can exert fine control on objects with your telekinetic",
		"grip, such as manipulating a simple tool, opening a door or",
		"container, stowing or retrieving an item from an open container,",
		"or pouring contents from a vial.",
		"As a Ritual. When you cast this spell as a ritual, its casting",
		"time is increased to 8 hours. When you cast the spell in this",
		"manner, the maximum weight of a target that you can affect",
		"is increased to 1 million pounds.",
	]),
};
SpellsList["legacy of steel"] = {
	name : "Legacy of Steel",
	source : ["EL:HH", 153],
	classes : ["archmage"],
	level : 3,
	school : "T3",
	time : "1 min",
	range : "Touch",
	components : "V,S,M",
	compMaterial : "a nonmagical weapon or piece of armor that you have wielded or worn for at least 5 years",
	duration : "1 Hour",
	description : "(See Full Description)",
	descriptionFull : desc([	
		"You mystically enchant a piece of equipment that is",
		"significant to you, reforming it into a mighty tool of",
		"great power.",
		"You touch a piece of armor or weapon used as the spell’s",
		"object of power, granting it potent magical power. The item",
		"gains the magical properties of a single magical weapon (if",
		"the item was a weapon) or magical armor (if the item was a",
		"piece of armor) of legendary quality or lower of your choice.",
		"The DM determines what properties are available to choose",
		"from, and you must attune to the item to benefit from its",
		"properties. The type of weapon or armor of your item need",
		"not correspond to the property of the original item. For example,",
		"you can use this spell to give a glaive the properties",
		"of a flame tongue sword. At your DM’s discretion, your item",
		"may be sentient. In such cases, the item is friendly toward",
		"you and aspires to follow your ideals. Other creatures cannot",
		"attune to the item, and while you are attuned to the item you",
		"are aware of its exact location so long as it is on the same",
		"plane as you.",
		"As a Ritual. When you cast this spell as a ritual, its casting",
		"time is increased to 24 hours. When you cast the spell in",
		"this manner, its duration becomes permanent, but you cannot",
		"regain the Epic spell or class resources expended to cast the",
		"spell while it is in effect.",
	]),
};
SpellsList["luck of ages"] = {
	name : "Luck of Ages",
	source : ["EL:HH", 154],
	classes : ["archmage"],
	level : 3,
	school : "T3",
	time : "1 bns",
	range : "Touch",
	components : "V,S,M",
	compMaterial : "an adamantine horseshoe",
	duration : "Instantaneous",
	description : "(See Full Description)",
	descriptionFull : desc([	
		"With a touch, you imbue a creature with legendary fortune",
		"in all endeavors.",
		"The target gains the following benefits until the end of its next",
		"turn.",
		"* When the target fails a saving throw, it can choose to",
		"succeed instead.",
		"* When the target misses an attack, it instead scores a hit.",
		"* If the target rolls a 19 or lower on an ability check, it",
		"instead rolls a 20.",
	]),
};
SpellsList["magic bullet"] = {
	name : "Magic Bullet",
	source : ["EL:HH", 154],
	classes : ["archmage", "archon"],
	level : 1,
	school : "T1",
	time : "1 a",
	range : "1 mile",
	components : "S,M",
	compMaterial : "an extremely dense object the size of a marble",
	duration : "Instantaneous",
	description : "(See Full Description)",
	descriptionFull : desc([	
		"You fire an incredibly dense projectile at unreal speed",
		"toward a single target you can see within range.",
		"The projectile passes through any nonmagical object or non-",
		"Epic magical barrier and deals 100 force damage to the target.",
		"At Higher Tiers. When you cast this spell as a tier 2 Epic",
		"spell or higher, the damage increases by 100 for each tier above",
		"tier 1.",
	]),
};
SpellsList["malevolent fists of spite"] = {
	name : "Malevolent Fists of Spite",
	source : ["EL:HH", 154],
	classes : ["overlord"],
	level : 3,
	school : "T3",
	time : "1 a",
	range : "300 ft",
	components : "V,S,M",
	compMaterial : "a small crushable beast",
	duration : "Concentration, up to 1 minute",
	description : "(See Full Description)",
	descriptionFull : desc([	
		"You create a pair of fists composed of sickly black energy",
		"that are itching to tear your enemies apart.",
		"The fists appear in an unoccupied 15-foot-square space that",
		"you can see within range and cannot be separated.",
		"The fists are Huge and last for the spell’s duration and move at",
		"your command, mimicking the movements of your own hands.",
		"The fists are a single object with an AC of 26 and 500 hit",
		"points. The fists have a Strength of 34 (+12) and a Dexterity",
		"of 10 (+0) and do not fill their space. If the fists drops to 0",
		"hit points, they give a final offensive gesture before exploding.",
		"Each creature within 20 feet of the fists when they explode",
		"must succeed on a Dexterity saving throw or take 20d8 points",
		"of force damage, or half as much on a success.",
		"When you cast the spell and as bonus action on y6our subsequent",
		"turns, you can move the fists up to 60 feet and then cause",
		"one of the following effects.",
		"* Crush. The fists make two melee spell attacks against a creature",
		"or object within 5 feet. On a successful hit, a target takes",
		"6d12 + 12 force damage.",
		"* Smash. The fists bump together with punishing force, slamming",
		"a single Huge or smaller creature within 5 feet. The target",
		"must succeed on a Dexterity saving throw or take 20d8 force",
		"damage and be stunned until the end of its next turn.",
		"* Tear. The fists attempt to grapple a Gargantuan or smaller",
		"creature within 5 feet (+12 on Strength checks made to grapple,",
		"escape DC 20). On a success, the fists attempt to pull the",
		"creature in opposite directions and tear it in half. The grappled",
		"creature must succeed on a Constitution saving throw or lose",
		"hit points equal to half its hit point maximum, or lose 100 hit",
		"points on a success. A creature reduced to 0 hit points from this",
		"damage is torn in half.",
		"* Throttle. The fists attempt to grapple one Huge or smaller",
		"creature within 5 feet of them (+12 on Strength checks made to",
		"grapple, escape DC 20). While the fists are grappling a target,",
		"the target cannot breathe or speak and is restrained. As a bonus",
		"action, you can order the fists to squeeze the grappled creature.",
		"When you do so, the target must succeed on a Constitution saving",
		"throw or be knocked unconscious until the start of its next turn.",
	]),
};
SpellsList["megalith"] = {
	name : "Megalith",
	source : ["EL:HH", 154],
	classes : ["primordial"],
	level : 2,
	school : "T2",
	time : "1 a",
	range : "90 ft",
	components : "V,S,M",
	compMaterial : "a fist sized stone inscribed with Druidic runes by seven different archdruids",
	duration : "Concentration, up to 1 minute",
	description : "(See Full Description)",
	descriptionFull : desc([	
		"You summon a mighty elemental being that serves",
		"you faithfully for the spell’s duration.",
		"The megalith appears in an unoccupied space you can see that",
		"is connected to the ground, and disappears when it drops to 0",
		"hit points or when the spell ends.",
		"The megalith serves you unquestioningly and takes its turn",
		"immediately after yours. The megalith obeys verbal commands",
		"(no action required) given to it in a language it understands.",
		"If you don’t issue commands to it, the megalith defends itself",
		"from hostile creatures but otherwise takes no actions. If the",
		"megalith is within 90 feet of you when you would take damage,",
		"you instead take half damage and the megalith takes the other",
		"half of that damage.",
		"As a Ritual. When you cast this spell as a ritual, its casting",
		"time is increased to 10 minutes. When you cast the spell in this",
		"manner, you no longer need to concentrate to maintain its effects",
		"for the duration.",
	]),
};
SpellsList["mera's miraculous lightning leap"] = {
	name : "Megalith",
	source : ["EL:HH", 156],
	classes : ["ascendant", "primordial"],
	level : 1,
	school : "T1",
	time : "1 bns",
	range : "Self",
	components : "V,S,M",
	compMaterial : "a 15-foot long piece of fine adamantine wire",
	duration : "Instantaneous",
	description : "(See Full Description)",
	descriptionFull : desc([	
		"Discovered by the beloved silver dragonborn ascendant Mera,",
		"this spell transforms your body and equipment into pure electrical",
		"energy for the duration.",
		"While in this state, you gain the following benefits until the",
		"start of your next turn.",
		"* You are immune to lightning damage and have",
		"resistance to all other damage.",
		"* You have a flying speed of 120 feet and your",
		"movement does not provoke opportunity attacks.",
		"* You can occupy another creature’s space and vice versa,",
		"and a creature’s space is not considered difficult terrain",
		"for you. Additionally, you can move through any space",
		"large enough for a pinhead. If you end your turn in",
		"another creature’s space, you provoke an opportunity",
		"attack from that creature and are moved to the nearest",
		"unoccupied space.",
		"* When you enter a creature’s space for the first time on",
		"a turn, it takes 10d10 lightning damage.",
		"At Higher Tiers. When you cast this spell as a tier 2 Epic spell",
		"or higher, the damage increases by 10d10 for each tier above",
		"tier 1.",
	]),
};
SpellsList["mystra's miracle"] = {
	name : "Mystra's Miracle",
	source : ["EL:HH", 156],
	classes : ["special"],
	level : 3,
	school : "T3",
	time : "1 a",
	range : "Special (see description)",
	components : "S,M",
	compMaterial : "six unique gemstones from the beginning of time",
	duration : "Instantaneous",
	description : "(See Full Description)",
	descriptionFull : desc([	
		"With a snap of your fingers, you invoke the most powerful magic",
		"ever produced in the known multiverse.",
		"You change reality to a new mode of existence, with near-limitless",
		"potential. In the known history of this spell, no casting",
		"has failed to produce the desired effect exactly as intended. A",
		"“typical” casting of this spell involves replicating the effects",
		"of any other Epic spell as Deific effects. An “atypical” casting",
		"must involve a desire that can be stated in twelve words or less.",
		"However, when you cast this spell in an “atypical” manner, roll",
		"a d20. On a roll of 19 or lower the spell fails, you take arcane",
		"damage equal to your hit point maximum, and you cannot cast",
		"the spell again until 1 year has passed. On a roll of 20 the spell",
		"functions normally, but you can never cast it again. Even the",
		"power of this spell cannot circumvent this effect.",
		"As a Ritual. When you cast this spell as a ritual, its casting",
		"time is increased to 6 days. When you cast the spell in this",
		"manner, you always roll a natural 20 on the spell’s d20 roll on",
		"an “atypical” casting.",
	]),
};
SpellsList["mortifying apparition"] = {
	name : "Mortifying Apparition",
	source : ["EL:HH", 156],
	classes : ["archmage", "archon", "ascendant", "overlord"],
	level : 1,
	school : "T1",
	time : "1 a",
	range : "120 ft",
	components : "V,S,M",
	compMaterial : "a tooth of a person frightened to death",
	duration : "Concentration, up to 10 minutes",
	description : "(See Full Description)",
	descriptionFull : desc([	
		"You manifest a horrific vision that terrifies even the",
		"most stalwart of souls.",
		"The vision appears in an unoccupied space you can see within",
		"range. Creatures of your choice that see the vision perceive it to",
		"be the most terrifying thing they can conceive. When a creature",
		"that is not frightened starts its turn and can see the vision, it",
		"must succeed on a Wisdom saving throw or become frightened",
		"of the vision. A creature that is immune to the frightened condition",
		"cannot be immune to this effect but has Epic advantage",
		"on saving throws against its effects.",
		"A creature frightened by this spell must take the Dash action",
		"to move away from the vision by the fastest, most direct route",
		"unless there is nowhere to move. If the creature ends its turn in a",
		"location where it cannot see the vision, it can attempt a Wisdom",
		"saving throw. On a success, the effect ends for that creature and",
		"it cannot be frightened by the spell again for its duration.",
		"At Higher Tiers. When you cast this spell as a tier 2 Epic",
		"spell, you can take an action on each of your turns to move the",
		"vision up to 60 feet. If you cast this spell as a tier 3 Epic spell, a",
		"creature that is frightened by the spell for 1 continuous minute",
		"immediately dies of fright.",
	]),
};
SpellsList["necrotic cyst"] = {
	name : "Necrotic Cyst",
	source : ["EL:HH", 156],
	classes : ["archmage", "overlord"],
	level : 2,
	school : "T2",
	time : "1 a",
	range : "Touch",
	components : "V,S,M",
	compMaterial : "a rag soaked in the blood of a plague victim",
	duration : "1 year",
	description : "(See Full Description)",
	descriptionFull : desc([	
		"Your touch infests a creature with the vilest disease",
		"that festers and churns with raw evil.",
		"You make a melee spell attack against a flesh-and-blood creature",
		"within reach. On a hit, you infect the creature with a necrotic",
		"cyst that takes up residence within its body. If the creature is",
		"immune to disease, it is not immune to the necrotic cyst, but",
		"you make your spell attack roll against the creature with Epic",
		"disadvantage. The cyst is a complex Epic disease that can take",
		"many forms. When you infect a creature with the disease, you",
		"may select which form the cyst initially takes. As an action while",
		"you are on the same plane as the creature infected by the cyst,",
		"you may change the form of the cyst to a different one. An Epic",
		"creature can attempt a Constitution saving throw at the end of",
		"each of its turns to cure itself of the disease and end the effect.",
		"Once two successful Constitution saving throws have been made",
		"in this manner, the effect ends and the creature is cured. The spell",
		"immediately ends if you cast it again before the duration ends.",
		"* Benign Cyst. The cyst lies dormant within the creature, becoming",
		"nearly undetectable. Non-Epic magic is unable to detect",
		"the cyst and the creature can no longer attempt Constitution",
		"saving throws to end the effect. A benign cyst can be surgically",
		"removed by a creature using a healer’s kit that succeeds on a",
		"Wisdom (Medicine) ability check against your spell save DC.",
		"* Emaciating Cyst. The creature’s body rapidly withers as",
		"the cyst consumes its life force, reducing it to a hunched, debilitated",
		"state. The creature cannot take bonus actions or reactions",
		"and has Epic disadvantage on Strength, Dexterity, and",
		"Constitution saving throws.",
		"* Hungering Cyst. The creature’s body is consumed from the",
		"inside by the cyst. At the start of each of the creature’s turns, it",
		"takes 8d8 vile damage. If the target is slain while under the effects",
		"of the hungering cyst, each creature within 5 feet of the creature",
		"must succeed on a Constitution saving throw or become infected",
		"with a necrotic cyst for the remainder of the spell’s duration.",
		"* Liquidating Cyst. The cyst explodes outward in a shower of",
		"gore and body parts. If the creature has 100 hit points or fewer,",
		"it is slain instantly. Otherwise, the creature takes 20d6 necrotic",
		"damage and the spell ends.",
		"* Oppressing Cyst. The creature’s head visibly swells as the cyst",
		"relocates to its brain. The creature is charmed and has Epic disadvantage",
		"on Intelligence, Wisdom, and Charisma saving throws.",
	]),
};
SpellsList["night terror"] = {
	name : "Night Terror",
	source : ["EL:HH", 157],
	classes : ["archmage", "ascendant", "overlord"],
	level : 1,
	school : "T1",
	time : "1 min",
	range : "Special",
	components : "V,S,M",
	compMaterial : "the skull of a creature that died from psychic damage",
	duration : "1 week",
	description : "(See Full Description)",
	descriptionFull : desc([	
		"You fill a creature’s dreams with visions of pain and horror.",
		"Choose a creature known to you as the target of this spell.",
		"Creatures that do not sleep, such as elves, have Epic advantage",
		"on saving throws against this spell but are not immune to its effects,",
		"instead suffering the effects when they take a long rest. If",
		"you possess a piece of that creature’s body, such as a lock of hair,",
		"the creature has Epic disadvantage on its saving throws against",
		"this spell. This spell immediately ends if you cast it again before",
		"its duration ends.",
		"Over the spell’s duration, you automatically sense when your",
		"target begins a long rest. While the target is resting in this",
		"manner, you may choose to inflict one of the following effects",
		"on the creature over the course of its rest.",
		"* Enervating Visions. You send the creature exhausting nightmares",
		"of starvation and weakness. The creature must succeed",
		"on a Wisdom saving throw or gain one level of exhaustion and",
		"gain no benefit from its rest.",
		"* Murderous Intentions. You force the creature to dream of",
		"its death at your hands over and over. When the creature next",
		"sees you in person, it must succeed on a Wisdom saving throw",
		"or take 8d6 psychic damage for each day it has experienced",
		"these nightmares over the spell’s duration. A successful saving",
		"throw halves the damage. If the spell ends before the creature",
		"sees you in person, this effect ends.",
		"* Torturous Impressions. You can injure the creature’s mind",
		"by forcing it to experience staggering pain. When the target",
		"finishes its long rest, it must attempt a Constitution saving",
		"throw. Record whether the saving throw was a success or failure.",
		"If the target fails three such Constitution saving throws",
		"over the course of the spell’s duration, it dies.",
	]),
};
SpellsList["obliterate"] = {
	name : "Obliterate",
	source : ["EL:HH", 157],
	classes : ["archmage"],
	level : 3,
	school : "T3",
	time : "1 a",
	range : "Self (line of infinite length)",
	components : "V,S,M",
	compMaterial : "twelve perfectly cut diamond prisms",
	duration : "Concentration, up to 1 minute",
	description : "(See Full Description)",
	descriptionFull : desc([	
		"You gather energy to unleash in a beam of incalculable",
		"power that lays waste to anything in its path.",
		"You conjure a sphere of destructive force that you then hold in",
		"a free hand. As an action on each of your turns for the duration,",
		"you may gather more power into the sphere. As an action while",
		"you hold the sphere, you may unleash its power in a 15-footwide",
		"line of infinite length. Creatures, objects, and structures in",
		"the affected area take 40d10 force damage, plus an additional",
		"20d10 force damage for each time you charged the sphere with",
		"energy.",
	]),
};
SpellsList["obsidian tombs"] = {
	name : "Obsidian Tombs",
	source : ["EL:HH", 157],
	classes : ["archon", "primordial"],
	level : 2,
	school : "T2",
	time : "1 a",
	range : "120 ft",
	components : "V,S,M",
	compMaterial : "four obsidian shards carved into cubes",
	duration : "Instantaneous",
	description : "(See Full Description)",
	descriptionFull : desc([	
		"You create prisons of crushing obsidian rock from the ground in",
		"four 15-foot cubes you can see within range.",
		"The cubes have an AC of 20 and 400 hit points and if destroyed",
		"leave behind difficult terrain in the area they occupied. Huge or",
		"smaller creatures completely within those areas must succeed",
		"on a Dexterity saving throw to avoid getting imprisoned, moving",
		"to the nearest unoccupied space outside of the spell’s area",
		"on a success. Creatures that are not completely inside a tomb’s",
		"area are pushed to the nearest unoccupied space. On a failed",
		"saving throw, creatures that completely fit inside the area are",
		"encased in the stone prisons and cannot breathe.",
		"At Higher Tiers. When you cast this spell as a tier 3 Epic spell,",
		"each cube created by this spell has 800 hit points instead of 400.",
	]),
};
SpellsList["phenomenal cosmic power"] = {
	name : "Phenomenal Cosmic Power",
	source : ["EL:HH", 158],
	classes : ["archon"],
	level : 3,
	school : "T3",
	time : "1 a",
	range : "Self",
	components : "V,S,M",
	compMaterial : "a golden timepiece set to track 1 minute of time",
	duration : "1 minute",
	description : "(See Full Description)",
	descriptionFull : desc([	
		"Your body surges with the endless power of the multiverse, consuming",
		"your magic but providing you with extraordinary benefits.",
		"When this spell is cast and at the start of each of your turns,",
		"you may expend two of your non-Epic spell slots. You choose",
		"the level of the slots expended, gaining a number of special",
		"dice called cosmic dice (d12s) equal to six plus the combined",
		"level of spell slots expended in this fashion. Any excess dice",
		"generated beyond twice your hit dice maximum are lost, and",
		"all cosmic dice generated by this spell are lost at the end of the",
		"spell’s duration.",
		"This spell immediately ends if you cast it again before its",
		"duration ends or if you change form to that of another creature.",
		"You can use cosmic dice in a variety of ways, choosing from",
		"the following options.",
		"* Cosmic Blast: Once per turn, when you deal damage",
		"with a spell you cast, you may roll any number of your",
		"cosmic dice. The spell deals additional force damage",
		"equal to the total result rolled.",
		"* Cosmic Form. Once per turn (no action required),",
		"you may spend four cosmic dice to end a single",
		"condition of your choice currently affecting you or to",
		"lose one level of exhaustion.",
		"* Cosmic Shield. As a reaction to when you take",
		"damage, you may roll any number of your cosmic dice",
		"and reduce the damage by the total result rolled.",
	]),
};
SpellsList["phoenix pyre"] = {
	name : "Phoenix Pyre",
	source : ["EL:HH", 158],
	classes : ["archon"],
	level : 1,
	school : "T1",
	time : "1 rea",
	timeFull : "1 reaction, which you take when you take damage",
	range : "Self (20-foot radius, 100-foot high cylinder)",
	components : "V,S,M",
	compMaterial : "a phoenix feather",
	duration : "Instantaneous",
	description : "(See Full Description)",
	descriptionFull : desc([	
		"You immolate yourself in a massive blast of flame,",
		"only to be reborn like the mighty phoenix.",
		"You die instantly, your body is destroyed, and any equipment you",
		"were carrying vanishes in the flames. Creatures in a 20-foot-radius,",
		"100-foot-high cylinder centered on your space must succeed",
		"on a Dexterity saving throw or take fire damage equal to your",
		"total hit points at the time you cast the spell. A successful saving",
		"throw halves the damage. At the end of your next turn, you",
		"return to life with half the hit points you possessed when you",
		"cast the spell and your body and equipment magically re-form",
		"at the space where you cast this spell (or the nearest unoccupied",
		"space if that space is occupied).",
		"At Higher Tiers. When you cast this spell as a tier 2 Epic",
		"spell, you return to life with the same hit points you had when",
		"you cast the spell. When you cast this spell as a tier 3 Epic",
		"spell, you return to life at your hit point maximum.",
	]),
};
SpellsList["planar eviction"] = {
	name : "Planar Eviction",
	source : ["EL:HH", 158],
	classes : ["archmage", "archon", "ascendant", "primordial", "overlord"],
	level : 2,
	school : "T2",
	time : "1 a",
	range : "Touch",
	components : "V,S,M",
	compMaterial : "two flowers native to two different planes",
	duration : "Instantaneous",
	description : "(See Full Description)",
	descriptionFull : desc([	
		"You attempt to exile a creature to another plane in a",
		"dangerous and volatile manner.",
		"You make a melee spell attack against a creature you can reach.",
		"On a successful hit, you banish the target, scattering its form",
		"across the planes. While so banished, that creature is incapacitated",
		"and can attempt a Charisma saving throw at the end of",
		"each of its turns to end the effect. When the banishment ends,",
		"the creature can choose to return to an unoccupied space nearest",
		"to where it was banished or to a different plane of its choice.",
		"If it returns to the plane from which it was banished, it takes",
		"10d10 force damage for each of the turns it was banished.",
		"At Higher Tiers. When you cast this spell as a tier 3 Epic",
		"spell, the banished creature that returns to the plane from",
		"which it was banished takes an additional 10d10 force damage",
		"for each of the turns it was banished.",
		"As a Ritual. When you cast this spell as a ritual, its casting",
		"time is increased to 1 hour. When you cast the spell in this",
		"manner, an affected creature cannot return to the plane from",
		"which you banished it unless you allow it.",
	]),
};
SpellsList["prismatic deluge"] = {
	name : "Prismatic Deluge",
	source : ["EL:HH", 158],
	classes : ["archmage"],
	level : 2,
	school : "T2",
	time : "1 a",
	range : "300 ft",
	components : "V,S,M",
	compMaterial : "a shard of glass forged by dragonfire",
	duration : "Concentration, up to 1 minute",
	description : "(See Full Description)",
	descriptionFull : desc([	
		"A cloud of multicolored light manifests and begins",
		"raining down globules of prismatic energy.",
		"The cloud appears in a 10-foot-tall, 150-foot-radius cylinder",
		"centered on a point you can see 300 feet directly above you. The",
		"spell fails if you cannot see a point in the air where the cloud",
		"could appear. When you cast the spell and as an action on each",
		"of your turns until the spell ends, you may cause up to two",
		"different colored globes from the Colored Globe table to rain",
		"down from the sky. Each globe strikes a separate 15-foot cube",
		"centered on a point within range.",
		"Colored",
		"Globe",
		"Effect",
		"Red",
		"Each creature in the area must succeed on a",
		"Dexterity saving throw or take 120 fire damage,",
		"or half as much on a success.",
		"Orange",
		"Each creature in the area must succeed on a",
		"Dexterity saving throw or take 80 acid damage,",
		"or half as much on a success. Objects and",
		"structures in the area take triple damage.",
		"Yellow",
		"Each creature in the area must succeed on a",
		"Dexterity saving throw or take 40 lightning",
		"damage and become stunned until the end",
		"of their next turn. A successful saving throw",
		"halves the damage and prevents the stunned",
		"condition.",
		"Green",
		"Each creature in the area must succeed on a",
		"Constitution saving throw or take 80 poison",
		"damage and become poisoned for the duration",
		"of the spell. A successful saving throw halves",
		"the damage and prevents the poisoned",
		"condition.",
		"Blue",
		"Each creature in the area must succeed on",
		"a Constitution saving throw or take 80 cold",
		"damage and have their movement speed",
		"reduced to 0 until the end of their next turn. A",
		"successful saving throw halves the damage and",
		"prevents the reduction to movement speed.",
		"Indigo",
		"Each creature in the area must succeed on",
		"a Constitution saving throw or become",
		"restrained as they begin to turn to stone. At",
		"the start of each restrained creature’s turn for",
		"the remainder of the spell’s duration, it must",
		"attempt a Constitution saving throw. If the",
		"creature fails a total of three Constitution",
		"saving throws (including the initial saving",
		"throw), it is petrified.",
		"Violet",
		"Each creature in the area must succeed on a",
		"Wisdom saving throw or become slowed—its",
		"movement speed is halved and it is unable",
		"to take bonus actions or reactions for the",
		"remainder of the spell’s duration. A creature",
		"can attempt a Wisdom saving throw at the end",
		"of each of its turns to end the effect.",
		"At Higher Tiers. If you cast this spell as a tier 3 Epic spell, you",
		"create three colored globes instead of two at the time of casting",
		"and each time you take an action to call down additional",
		"globes.",
	]),
};
SpellsList["puppeteer"] = {
	name : "Puppeteer",
	source : ["EL:HH", 159],
	classes : ["archmage", "overlord"],
	level : 2,
	school : "T2",
	time : "1 a",
	range : "5 ft",
	components : "V,S,M",
	compMaterial : "silken strings woven from an ancient phase spider",
	duration : "Concentration, up to 8 hours",
	description : "(See Full Description)",
	descriptionFull : desc([	
		"You take command of the body of a creature that you",
		"can see within range, manipulating its form like a",
		"puppet master.",
		"The target must succeed on a Wisdom saving throw or be",
		"enchanted by you for the duration and cannot act unless you",
		"will it. While the creature is enchanted by this spell, you",
		"have a telepathic link with it across any distance or planar",
		"boundary. You can use this telepathic link to issue commands",
		"to the creature while you are conscious (no action",
		"required), which it obeys to the best of its ability. At the end",
		"of each of its turns in which it takes damage, a creature enchanted",
		"by this spell can repeat the saving throw to end the",
		"effect. This spell immediately ends if you cast it again before",
		"its duration ends.",
		"As a Ritual. When you cast this spell as a ritual, its casting",
		"time increases to 8 hours. When you cast the spell in this manner,",
		"its duration increases to 1 week and you no longer need to",
		"concentrate to maintain its effects for the duration.",
	]),
};
SpellsList["pyroclastic cannon"] = {
	name : "Pyroclastic Cannon",
	source : ["EL:HH", 159],
	classes : ["archmage", "overlord"],
	level : 3,
	school : "T3",
	time : "1 a",
	range : "Self (500-foot line)",
	components : "V,S,M",
	compMaterial : "liquid magma from the heart of a volcano",
	duration : "Instantaneous",
	description : "(See Full Description)",
	descriptionFull : desc([	
		"A column of pure lava erupts from your outstretched hand,",
		"incinerating everything in its path.",
		"The column is a line 500 feet long and 15 feet wide. Creatures,",
		"objects, and structures in the line take 50d8 fire damage and are",
		"coated in molten lava for 1 minute. An affected creature must",
		"succeed on a Dexterity saving throw to prevent being coated in",
		"lava. A creature or object coated in lava takes 10d8 fire damage",
		"at the start of each of its turns (for creatures) or at the top of",
		"each round (for objects). The coating of lava can be removed by",
		"completely submerging an affected creature or object in water",
	]),
};
SpellsList["ravenous gluttony"] = {
	name : "Ravenous Gluttony",
	source : ["EL:HH", 160],
	classes : ["overlord"],
	level : 2,
	school : "T2",
	time : "1 a",
	range : "Touch",
	components : "V,S,M",
	compMaterial : "a golden spoon that has been used at 1,000 meals",
	duration : "Instantaneous",
	description : "(See Full Description)",
	descriptionFull : desc([	
		"You are filled with an all-consuming hunger, as your",
		"jaw distends and you attempt to devour others.",
		"Make a melee spell attack against a Huge or smaller creature",
		"within reach. On a successful hit, you deal 24d6 piercing damage",
		"and the target must succeed on a Strength saving throw or",
		"be drawn into your maw and transported to a demiplane submerged",
		"in acid. The demiplane is a 50-foot cube filled with acid",
		"to a depth of 25 feet. A creature that ends its turn within the",
		"acid takes 10d6 acid damage and can attempt a Charisma saving",
		"throw, escaping the demiplane and emerging in the nearest",
		"unoccupied space to you on a success. If a creature is slain by",
		"this acid damage, you regain a number of hit points equal to",
		"half the creature’s hit point maximum (rounded down).",
		"At Higher Tiers. If you cast this spell as a tier 3 Epic spell,",
		"the acid damage dealt is increased by 10d6.",
	]),
};
SpellsList["release the kraken"] = {
	name : "Release the Kraken",
	source : ["EL:HH", 160],
	classes : ["primordial"],
	level : 3,
	school : "T3",
	time : "1 a",
	range : "300 ft",
	components : "V,S,M",
	compMaterial : "a kraken's heart",
	duration : "Concentration, up to 10 minutes",
	description : "(See Full Description)",
	descriptionFull : desc([	
		"You conjure watery tentacles that bring ruin to those",
		"who dare come within reach.",
		"You create eight tentacles in unoccupied 10-foot squares on the",
		"ground or in water that you can see within range. Each tentacle",
		"is an object that fully occupies the space with an AC of 18 and",
		"200 hit points that lasts for the duration or until reduced to 0 hit",
		"points. When a creature starts its turn within 50 feet of a tentacle",
		"and the tentacle is not grappling another creature, the tentacle",
		"makes a melee spell attack against that creature. On a successful",
		"hit, the creature takes 6d6 bludgeoning damage, and Huge or",
		"smaller creatures are grappled and restrained (escape DC equal to",
		"your spell save DC). If a tentacle is grappling a creature, the tentacle",
		"cannot attack any creature other than the grappled creature.",
		"As an action, you can command all active tentacles to attack",
		"a creature, object, or structure you can see within 50 feet of each",
		"of them. Tentacles not grappling foes make a melee spell attack",
		"against any targets, dealing 6d6 bludgeoning damage on a successful",
		"hit and grappling and restraining Huge or smaller targets",
		"(escape DC equal to your spell save DC). Tentacles that are currently",
		"grappling creatures when you command them to attack instead",
		"fling the grappled creatures 120 feet in a random direction,",
		"dealing 12d6 bludgeoning damage and knocking them prone.",
	]),
};
SpellsList["reverse magic"] = {
	name : "Reverse Magic",
	source : ["EL:HH", 160],
	classes : ["archmage", "archon", "overlord"],
	level : 1,
	school : "T1",
	time : "1 rea",
	timeFull : "1 reaction, which you take when you see a creature within 300 eet of you cast a spell",
	range : "300 ft",
	components : "S",
	duration : "Instantaneous",
	description : "(See Full Description)",
	descriptionFull : desc([	
		"You interrupt a creature casting a spell with a blast of antimagic.",
		"If the creature is casting a tier 1 Epic spell or a non-Epic spell,",
		"that spell fails and has no effect. If the creature is casting a tier",
		"2 Epic spell or higher, you must attempt an ability check using",
		"your spellcasting ability against a DC of 24 for a tier 2 Epic",
		"spell or a DC of 28 for a tier 3 Epic spell. On a success, the",
		"creature’s spell fails and has no effect. At your discretion, spells",
		"that are successfully reversed explode spectacularly, dealing",
		"10d6 arcane damage to the casting creature.",
		"At Higher Tiers. When you cast this spell as a tier 2 Epic",
		"spell or higher, the interrupted spell has no effect if its tier is",
		"less than or equal to the tier used to cast this spell. Additionally,",
		"the damage caused by a reversed spell increases by 5d6 for each",
		"tier above tier 1.",
	]),
};
SpellsList["seal fate"] = {
	name : "Seal Fate",
	source : ["EL:HH", 160],
	classes : ["primordial", "overlord"],
	level : 2,
	school : "T2",
	time : "1 bns",
	range : "Touch",
	components : "V,S,M",
	compMaterial : "a prince's unopened children's book",
	duration : "Instantaneous",
	description : "(See Full Description)",
	descriptionFull : desc([	
		"You bestow a grim portent on a suffering creature, sealing",
		"its fate for all eternity.",
		"A creature of your choice within reach must succeed on a",
		"Charisma saving throw or be permanently afflicted with an",
		"Epic curse. If the target is under the effects of a non-Epic or",
		"Epic spell or magical effect that lasts 1 minute or longer, the",
		"duration is instead for as long as the curse lasts. Every year",
		"that passes while the creature is afflicted with the curse, it may",
		"repeat the saving throw, ending the curse on a success.",
	]),
};
SpellsList["silent scythe of slaying"] = {
	name : "Silent Scythe of Slaying",
	source : ["EL:HH", 160],
	classes : ["ascendant"],
	level : 3,
	school : "T3",
	time : "1 bns",
	range : "60 ft",
	components : "V,S,M",
	compMaterial : "a god's gravestone",
	duration : "1 minute",
	description : "(See Full Description)",
	descriptionFull : desc([	
		"You manifest a deadly spectral scythe of pure force",
		"within range that can cut down nearly any foe.",
		"The scythe appears in an unoccupied space within range, and",
		"when it appears you can attempt a melee spell attack against",
		"a target within 5 feet of the scythe. On a hit, the scythe deals",
		"10d12 arcane damage. If the scythe scores a critical hit, it rolls",
		"damage dice three times, instead of twice. Creatures reduced to",
		"0 hit points by this spell are decapitated.",
		"As an action and/or bonus action on each of your turns, you",
		"can move the scythe up to 60 feet and repeat the attack against",
		"a target within 5 feet of it.",
	]),
};
SpellsList["sonic boom"] = {
	name : "Sonic Boom",
	source : ["EL:HH", 161],
	classes : ["archon", "primordial"],
	level : 1,
	school : "T1",
	time : "1 a",
	range : "Self (60 ft radius)",
	components : "V,S,M",
	compMaterial : "a storm giant's death rattle magically preserved in a glass jar",
	duration : "Instantaneous",
	description : "(See Full Description)",
	descriptionFull : desc([	
		"You clap your hands and unleash a deafening wave of",
		"thunderous energy in a 60-foot radius centered on you.",
		"Creatures other than you in that area must succeed on a",
		"Constitution saving throw or take 20d6 thunder damage and",
		"be blinded and deafened until they regain at least 1 hit point",
		"from a magical effect. A successful saving throw halves the",
		"damage and prevents the blinded and deafened conditions.",
		"If this spell is cast in a structure or enclosed space that is not",
		"large enough to accommodate the entire 60-foot radius, it deals",
		"an additional 20d6 thunder damage and you are subjected to",
		"the spell’s effects.",
	]),
};
SpellsList["soul harvest"] = {
	name : "Soul Harvest",
	source : ["EL:HH", 161],
	classes : ["overlord"],
	level : 3,
	school : "T3",
	time : "1 a",
	range : "30 ft",
	components : "V,S,M",
	compMaterial : "a lich's phylactery",
	duration : "Concentration, up to 1 minute",
	description : "(See Full Description)",
	descriptionFull : desc([	
		"You extract the soul of a single creature within range and gain",
		"power from its essence.",
		"The creature is afflicted with an Epic curse for the duration.",
		"While so cursed a creature cannot gain advantage or Epic advantage,",
		"and it has Epic disadvantage on attack rolls, saving",
		"throws, and ability checks.",
		"If the creature is killed while under the effects of the spell,",
		"you consume its soul, learning everything the creature knew,",
		"and the creature cannot be restored to life by non-Deific means.",
	]),
};
SpellsList["spell sequencer"] = {
	name : "Spell Sequencer",
	source : ["EL:HH", 161],
	classes : ["archmage", "ascendant"],
	level : 1,
	school : "T1",
	time : "1 a",
	range : "Self",
	components : "V,S,M",
	compMaterial : "a golden onion",
	duration : "8 hours",
	description : "(See Full Description)",
	descriptionFull : desc([	
		"Imbuing your spellcasting with a powerful infusion of Epic magic,",
		"you “load” three lesser spells to unleash in a single mighty flurry.",
		"Select three non-Epic spells you know of 5th level or lower",
		"with a casting time of 1 action or bonus action. Until the spell",
		"ends, you may cast all three selected spells as a single bonus",
		"action in an order of your choice. Spells cast in this manner do",
		"not expend your spell slots and do not prevent you from casting",
		"additional spells that turn. This spell immediately ends",
		"after you use this bonus action or if you cast it again before",
		"the duration ends.",
		"At Higher Tiers. When you cast this spell as a tier 2 Epic",
		"spell or higher, the maximum level of non-Epic spells you can",
		"select at the time of the spell’s casting increases to 6th level as a",
		"tier 2 Epic spell and to 7th level as a tier 3 Epic spell.",
	]),
};
SpellsList["sphere of ultimate destruction"] = {
	name : "Sphere of Ultimate Destruction",
	source : ["EL:HH", 161],
	classes : ["archon", "overlord"],
	level : 3,
	school : "T3",
	time : "1 a",
	range : "120 ft",
	components : "V,S,M",
	compMaterial : "a black diamond cut into a perfect sphere",
	duration : "Concentration, up to 1 minute",
	description : "(See Full Description)",
	descriptionFull : desc([	
		"You summon a 5-foot-diameter sphere of pure destructive",
		"emptiness in a space of your choice within range that lasts",
		"for the duration.",
		"Whenever a creature, object, or structure comes into contact",
		"with the sphere for the first time that round, it takes 30d10",
		"force damage. A creature that makes contact with the sphere",
		"can attempt a Constitution saving throw to halve the damage.",
		"Anything reduced to 0 hit points by the sphere is instantly and",
		"totally destroyed, leaving no remains.",
		"The sphere is capable of flight, and as a bonus action you can",
		"move the sphere up to 60 feet. If the sphere maintains contact",
		"with a magic item of legendary quality or lower for its full duration,",
		"that item is disintegrated.",
	]),
};
SpellsList["storm of torment"] = {
	name : "Storm of Torment",
	source : ["EL:HH", 161],
	classes : ["ascendant", "overlord"],
	level : 3,
	school : "T3",
	time : "1 a",
	range : "Self (60-foot radius)",
	components : "V,S,M",
	compMaterial : "a draught of liquid sufferings",
	duration : "Concentration, up to 1 minute",
	description : "(See Full Description)",
	descriptionFull : desc([	
		"You invoke a swirling maelstrom of pain that debilitates your enemies.",
		"The storm swirls around you in a 60-foot radius for the duration",
		"and moves with you. As a reaction when a creature in the",
		"spell’s area takes an action, bonus action, legendary action, or",
		"reaction, you may deal 10d6 psychic damage to that creature",
		"and it must attempt a Constitution saving throw. On a failure,",
		"the creature is racked with pain, preventing it from taking that",
		"action for the remainder of that turn.",
		"On each of your turns until the spell ends, you may forgo",
		"your action, bonus action, or both. For each you forgo in this",
		"manner, you gain the use of an additional reaction, which lasts",
		"until the start of your next turn.",
	]),
};
SpellsList["temporal stasis"] = {
	name : "Temporal Stasis",
	source : ["EL:HH", 162],
	classes : ["archmage", "archon"],
	level : 2,
	school : "T2",
	time : "1 a",
	range : "120 ft",
	components : "V,S,M",
	compMaterial : "a watch that has never been wrong",
	duration : "Concentration, up to 1 minute",
	description : "(See Full Description)",
	descriptionFull : desc([	
		"Time itself attempts to freeze around a creature you can",
		"see within range, locking it away for eternity.",
		"The target must succeed on a Wisdom saving throw or become",
		"paralyzed for the duration. Creatures immune to the paralyzed",
		"condition are not immune to the effects of this spell and instead",
		"have Epic advantage on saving throws against it. At the end of",
		"each of its turns, a paralyzed creature can attempt a Wisdom",
		"saving throw, suppressing the paralyzed condition on a success.",
		"On each of your turns, if a creature affected by this spell is",
		"not paralyzed, you may use your action to force it to attempt",
		"a Wisdom saving throw, becoming paralyzed by the spell on a",
		"failure.",
		"As a Ritual. When you cast this spell as a ritual, its casting",
		"time is increased to 1 minute. When you cast the spell in this",
		"manner, its duration becomes permanent. Additionally, while",
		"paralyzed by the spell in this manner, the target is frozen in",
		"time and does not age or need to eat, drink, or breathe. At the",
		"end of every thousand years, a paralyzed creature can attempt a",
		"Wisdom saving throw, ending the spell’s effects on a success.",
	]),
};
SpellsList["torrential avalanche"] = {
	name : "Torrential Avalanche",
	source : ["EL:HH", 162],
	classes : ["archon", "primordial"],
	level : 2,
	school : "T2",
	time : "1 a",
	range : "Sight",
	components : "V,S,M",
	compMaterial : "a snow globe containing a tiny village at the base of a mountain",
	duration : "1 minute",
	description : "(See Full Description)",
	descriptionFull : desc([	
		"A gigantic avalanche of snow and debris appears at a",
		"point you choose within range.",
		"You can make a wall of snow in a straight line up to 500 feet",
		"long, 100 feet high, and 50 feet thick, which lasts for the duration.",
		"The wall is permeable, requiring 4 feet of movement for",
		"every 1 foot a creature wishes to move through it. When the",
		"wall appears, each creature within the area must succeed on a",
		"Strength saving throw or take 10d10 cold damage, or half as",
		"much on a success, and become immersed within the wall.",
		"At the start of each of your turns after the wall appears, the",
		"wall, along with any creatures in or on its affected area, moves",
		"60 feet in a straight line away from you. Any Gargantuan or",
		"smaller creature immersed within the wall or whose space the",
		"wall enters when it moves must attempt a Strength saving",
		"throw or take 10d10 cold damage, or half as much on a success.",
		"A creature can take this damage only once per turn. If the",
		"wall lasts for its full duration, it crashes to the ground in a wave",
		"of frigid cold. Each creature within the wall’s area when the",
		"spell ends in this manner must succeed on a Dexterity saving",
		"throw or take 30d10 cold damage, or half as much on a success.",
		"As a Ritual. When you cast this spell as a ritual, its casting",
		"time increases to 8 hours. When you cast the spell in this manner,",
		"its maximum length is increased up to 1 mile, its maximum",
		"height is increased up to 1,000 feet, and its maximum thickness",
		"is increased up to 500 feet.",
	]),
};
SpellsList["translocation"] = {
	name : "Translocation",
	source : ["EL:HH", 163],
	classes : ["archmage", "archon", "overlord"],
	level : 1,
	school : "T1",
	time : "1 a/1 bns",
	range : "30 ft or 60 ft",
	components : "V,S",
	duration : "Instantaneous or Concentration, up to 1 minute",
	description : "(See Full Description)",
	descriptionFull : desc([	
		"You instantly blink from one location to the next in an",
		"effortless form of teleportation.",
		"If you cast this spell as an action, it transports you and up to",
		"twenty willing creatures you can see within 30 feet of you, or",
		"a single object that you can see within 30 feet of you, to a destination",
		"you select. If you target an object, it must be able to",
		"fit inside a 30-foot cube and it can’t be held or carried by an",
		"unwilling creature. The destination you choose must have been",
		"viewed by you in person at least once; you may choose a location",
		"on another plane of existence. Non-Deific forces cannot",
		"prevent this effect.",
		"If you cast this spell as a bonus action, you teleport to an unoccupied",
		"space you can see within 60 feet and must concentrate",
		"on the spell to maintain its effect. On each of your turns before",
		"the spell ends, you can repeat this effect.",
	]),
};
SpellsList["transmogrification"] = {
	name : "Transmogrification",
	source : ["EL:HH", 163],
	classes : ["archon", "primordial"],
	level : 3,
	school : "T3",
	time : "1 a",
	range : "touch",
	components : "V,S,M",
	compMaterial : "a doppleganger embryo",
	duration : "Concentration, up to 10 minute",
	description : "(See Full Description)",
	descriptionFull : desc([	
		"You warp matter into a new shape with the skill of a",
		"master sculptor.",
		"Choose one creature or nonmagical object you can see within",
		"reach. You transform a non-mythic creature into a different",
		"creature, a non-mythic creature into an object, or an object",
		"into a non-mythic creature (the object must be neither worn",
		"nor carried by another creature). An affected target gains temporary",
		"hit points equal to the hit points of its new form. These",
		"temporary hit points cannot be replaced by temporary hit",
		"points from another source, and the target reverts to its normal",
		"form when it has 0 temporary hit points or when it dies. If",
		"the spell ends before then, the target loses all its temporary hit",
		"points and reverts to its normal form. At the end of each of",
		"its turns, a transformed Epic creature can attempt a Wisdom",
		"saving throw to end the effect. After three successful Wisdom",
		"saving throws, the effect ends. If you concentrate on this spell",
		"for its full duration, its effects become permanent and a creature",
		"can no longer attempt saving throws to end the effect.",
		"As an action, you can touch a creature affected by this spell to",
		"force it to assume a different form.",
		"Creature into Creature. If you turn a creature into another",
		"kind of creature, the new form can be any kind you",
		"choose whose challenge rating is equal to or less than your",
		"character level. A creature cannot be turned into a mythic",
		"creature under any circumstances. You can choose to have",
		"the target’s game statistics, including mental ability scores,",
		"completely replaced by the statistics of the new form and",
		"the target assumes the new form’s alignment and personality.",
		"Otherwise, the target retains its alignment, along with",
		"its Intelligence, Wisdom, and Charisma scores. Additionally,",
		"the target retains its skill and saving throw proficiencies, in",
		"addition to gaining those of the creature. If the creature has",
		"the same proficiency bonus as the target, use whichever bonus",
		"is higher.",
		"The target is limited in the actions it can perform by the",
		"nature of its new form, and it can’t speak, cast spells, or take",
		"any other actions that require hands or speech, unless its new",
		"form is capable of such actions. The target’s equipment can",
		"meld into the new form at your discretion. The target can’t",
		"activate, use, wield, or otherwise benefit from its equipment",
		"unless that form could also do so.",
		"Object into Creature. You can turn an object into any kind",
		"of creature, as long as that creature is not a mythic creature",
		"and the creature’s challenge rating is 20 or lower. The creature",
		"is friendly to you and your companions for the duration and",
		"acts immediately after you on the initiative order. The DM",
		"has the creature’s statistics and controls the creature, resolving",
		"all its actions and movement.",
		"If the spell becomes permanent, the creature may remain",
		"friendly toward you depending on how it was treated.",
		"Creature into Object. If you turn a creature into an object,",
		"it transforms along with whatever it is wearing and carrying",
		"into that form. The creature’s statistics becomes those of the",
		"object, and the creature has no memory of the time spent in",
		"this form if it reverts to its normal form. The object cannot be",
		"a magic item and cannot be worth more than 10,000 gp.",
	]),
};
SpellsList["true alchemy"] = {
	name : "True Alchemy",
	source : ["EL:HH", 164],
	classes : ["primordial"],
	level : 3,
	school : "T3",
	time : "1 a",
	range : "Touch",
	components : "V,S,M",
	compMaterial : "primordial matter from before time worth 100,000 gp",
	duration : "Instantaneous",
	description : "(See Full Description)",
	descriptionFull : desc([	
		"You touch an object or structure no bigger than a 50-foot",
		"cube and disrupt its form with magic, permanently",
		"transmuting it into a form of your choice.",
		"When you affect an object in this manner, you choose what",
		"properties it loses or gains (such as hit points, AC, or other",
		"properties). However, the object cannot be transformed into",
		"something worth more than 100,000 gp in raw materials,",
		"nor can its dimensions be increased beyond that of a 50-foot",
		"cube.",
		"If the object you touched is a magic item, you can instead",
		"transform it into another item of the same rarity. To affect an",
		"artifact in this manner, you must first succeed on a DC 40",
		"saving throw of a type equal to your spellcasting ability. On a failure,",
		"you take arcane damage equal to your hit point maximum.",
		"Anything you transform the target into in this manner",
		"must be something that exists or has existed in your universe.",
		"If you attempt to transmute a target into something that has",
		"never existed in your universe, the spell fails.",
	]),
};
SpellsList["venom lance"] = {
	name : "Venom Lance",
	source : ["EL:HH", 164],
	classes : ["primordial"],
	level : 1,
	school : "T1",
	time : "1 a",
	range : "500 ft",
	components : "V,S,M",
	compMaterial : "a manticore stinger",
	duration : "Instantaneous",
	description : "(See Full Description)",
	descriptionFull : desc([	
		"You hurl a stinger imbued with lethal poison, which",
		"seeks out a creature you are aware of within range.",
		"The targeted creature must succeed on a Constitution saving",
		"throw or have its hit point maximum reduced by 15d6 + 60, or",
		"half as much on a success. A creature’s hit point maximum remains",
		"reduced until it is affected by an Epic effect that restores",
		"hit points or until it finishes a long rest.",
		"At Higher Tiers. When you cast this spell as a tier 2 Epic",
		"spell or higher, the creature’s hit point maximum on a failed",
		"saving throw is reduced by an additional 40 points for each tier",
		"above tier 1.",
	]),
};
SpellsList["wall of dissolution"] = {
	name : "Wall of Dissolution",
	source : ["EL:HH", 164],
	classes : ["archmage", "archon", "primordial"],
	level : 1,
	school : "T1",
	time : "1 a",
	range : "120 ft",
	components : "V,S,M",
	compMaterial : "a vial of fresh acid from a black dragon",
	duration : "Concentration, up to 1 hour",
	description : "(See Full Description)",
	descriptionFull : desc([	
		"A vitriolic wall of slick acid appears on the ground,",
		"dissolving nearly everything it touches.",
		"The wall forms a transparent barrier up to 90 feet long, 30 feet",
		"high, and 5 feet thick, centered on a point you can see within",
		"range. Alternatively, you can shape the wall into a sphere up",
		"to 30 feet in diameter centered on a point you choose within",
		"range. In either case, the wall remains in place for the duration.",
		"Creatures in the wall’s area when it is created, who move into",
		"the wall for the first time on their turn, or who start their turn",
		"within the wall must succeed on a Constitution saving throw",
		"or take 12d8 acid damage, or half as much damage on a success.",
		"If a creature fails its saving throw by 5 or more, it takes an additional",
		"12d8 acid damage.",
		"A creature attempting to move through the wall must spend",
		"4 feet of movement for every 1 foot moved.",
		"At Higher Tiers. When you cast this spell as a tier 2 Epic",
		"spell or higher, you may increase the wall’s thickness by 10 feet",
		"for each tier above tier 1.",
	]),
};
SpellsList["wave of calamity"] = {
	name : "Wave of Calamity",
	source : ["EL:HH", 164],
	classes : ["archmage", "ascendant", "overlord"],
	level : 1,
	school : "T1",
	time : "1 a",
	range : "Self (30-foot cone)",
	components : "V,S,M",
	compMaterial : "demon bile",
	duration : "Instantaneous",
	description : "(See Full Description)",
	descriptionFull : desc([	
		"Toxic fumes emanate from your mouth, overwhelming",
		"those who are unfortunate enough to be exposed.",
		"Each creature in a 30-foot cone must attempt a Constitution",
		"saving throw. A creature gains two levels of exhaustion on a",
		"failure, or one level on a success. A creature with one or more",
		"levels of exhaustion gained from this spell may attempt a",
		"Constitution saving throw at the start of each of its turns to",
		"remove one level of exhaustion gained from this spell. A creature",
		"immune to the poisoned condition has Epic advantage on",
		"saving throws against this spell.",
		"At Higher Tiers. When you cast this spell as a tier 2 Epic",
		"spell or higher, a creature gains two additional levels of exhaustion",
		"on a failed saving throw for each tier above tier 1, or half as",
		"many levels on a success.",
	]),
};
SpellsList["well of infinite darkness"] = {
	name : "Well of Infinite Darkness",
	source : ["EL:HH", 165],
	classes : ["archon", "overlord"],
	level : 1,
	school : "T1",
	time : "1 a",
	range : "120 ft",
	components : "V,S,M",
	compMaterial : "a coin from a cursed wishing well",
	duration : "1 hour",
	description : "(See Full Description)",
	descriptionFull : desc([	
		"You call up a void of pure blackness at a point on the ground that",
		"you can see within range.",
		"The void is a 15-foot square that lasts for the duration and",
		"emits an aura of light-eating power in a 100-foot radius centered",
		"on it. All sources of light within the 15-foot square are",
		"immediately extinguished and the entire area is drained of all",
		"light. Creatures within the affected area are heavily obscured",
		"against all visual senses.",
		"At Higher Tiers. When you cast this spell as a tier 2 Epic",
		"spell or higher, the radius of the well increases by 100 feet for",
		"each tier above tier 1.",
		"As a Ritual. When you cast this spell as a ritual, its casting",
		"time is increased to 1 hour. When you cast the spell in this",
		"manner, the spell’s duration becomes permanent. The spell ends",
		"early if you cast it again.",
	]),
};
SpellsList["blackout"] = {
	name : "Blackout",
	source : ["EL:HH", 165],
	classes : ["archmage"],
	level : 3,
	school : "T3",
	time : "1 a",
	range : "120 ft",
	components : "V,S,M",
	compMaterial : "the dust of a disintigrated dragon",
	duration : "Concentration, up to 1 minute",
	description : "(See Full Description)",
	descriptionFull : desc([	
		"You distort the flow of magic around a single creature you",
		"can see within range, cutting it off from all magical energy.",
		"The target cannot cast non-Epic spells for the effect’s duration.",
		"A creature attempting to cast an Epic spell must succeed on a",
		"Charisma saving throw or have the effect fail, and any resources",
		"used to cast the spell are wasted. At the end of each of the",
		"creature’s turns, it may make a Charisma saving throw. Once",
		"a creature has made three such successful saving throws over",
		"the spell’s duration, the effect ends.",
	]),
};
SpellsList["grand summons"] = {
	name : "Grand Summons",
	source : ["EL:HH", 166],
	classes : ["archmage"],
	level : 3,
	school : "T3",
	time : "10 min",
	range : "50 ft",
	components : "V,S,M",
	compMaterial : "a detailed anatomical sketch of the creature you wish to summon and an adamantine cage large enough to hold the creature",
	duration : "8 hours",
	description : "(See Full Description)",
	descriptionFull : desc([	
		"You magically manufacture an effigy of a single creature that",
		"you have encountered before and hold it within a magical",
		"receptacle.",
		"The creature cannot be a legendary or mythic creature and must",
		"have a challenge rating no greater than your character level.",
		"The creature appears in an unoccupied space within range and",
		"is bound within a magical confinement. A creature within this",
		"confinement is immune to any damage or hostile effect for as",
		"long as it remains within the confinement. The creature has no",
		"mind or will of its own; it is merely an extremely convincing,",
		"magical simulation.",
		"As an action, you can call the creature from its confinement",
		"and teleport it to an unoccupied space you can see within 100",
		"feet of you. If the creature cannot be teleported to a space within",
		"this area, the effect fails and the creature remains confined.",
		"While free from its confinement, the creature obeys all your",
		"instructions and commands to the best of its ability (no action",
		"required by you), and when rolling initiative may instead take",
		"its turn either immediately before or after yours. As an action,",
		"you may dismiss the creature and teleport it back to its magical",
		"confinement. If the creature cannot be teleported back to the",
		"confinement, the effect fails and the spell ends. If the creature is",
		"slain, the spell ends. If the spell ends before the creature is slain,",
		"it vanishes back to its place of origin.",
		"This spell immediately ends if you cast it again before its",
		"duration ends.",
	]),
};
SpellsList["knowledge cascade"] = {
	name : "Knowledge Cascade",
	source : ["EL:HH", 166],
	classes : ["archmage"],
	level : 3,
	school : "T3",
	time : "1 a",
	range : "Touch",
	components : "V,S,M",
	compMaterial : "a perfect stone replica of a humanoid brain",
	duration : "Instantaneous",
	description : "(See Full Description)",
	descriptionFull : desc([	
		"A single creature you touch is flooded with information and",
		"experience. The target instantly recovers any class features, spell",
		"slots, and other abilities as though it had finished a short rest.",
	]),
};
SpellsList["microcosm"] = {
	name : "Microcosm",
	source : ["EL:HH", 166],
	classes : ["archmage"],
	level : 3,
	school : "T3",
	time : "1 a",
	range : "30 ft",
	components : "V,S,M",
	compMaterial : "silver painter's tools",
	duration : "Instantaneous",
	description : "(See Full Description)",
	descriptionFull : desc([	
		"You warp the consciousness of a single creature you can see",
		"within range, trapping it within a fictional reality of your own",
		"design. If the creature you choose has 200 or fewer hit points,",
		"it is immediately and permanently incapacitated, cannot communicate",
		"in any way, and cannot spend movement. A creature",
		"afflicted by this spell makes no effort to preserve itself, and unless",
		"it receives medical care it will simply die from exposure,",
		"starvation, or other environmental factors.",
	]),
};
SpellsList["obsolescence"] = {
	name : "Obsolescence",
	source : ["EL:HH", 166],
	classes : ["archmage"],
	level : 3,
	school : "T3",
	time : "1 a",
	range : "300 ft",
	components : "V,S,M",
	compMaterial : "the soul of a creature from an extinct race",
	duration : "Concentration, up to 1 minute",
	description : "(See Full Description)",
	descriptionFull : desc([	
		"Your gaze unleashes destructive energies that annihilate a single",
		"creature you can see within range. The creature must attempt",
		"a Constitution saving throw, taking 100 points of necrotic",
		"damage on a failure, or half as much on a success. Until",
		"the spell ends, on each of your turns you may take an action to",
		"channel destructive power into the target, which must attempt",
		"a Constitution saving throw. On a failed saving throw, the target",
		"takes 100 points of necrotic damage, plus an additional 100",
		"points of necrotic damage for each round it has been affected",
		"by the spell. A successful saving throw halves this damage.",
		"The spell ends if you use your action to do anything else or if",
		"the target is ever outside the spell’s range. Creatures reduced to",
		"0 hit points by this spell are destroyed utterly and can only be",
		"restored to life by Deific means.",
	]),
};
SpellsList["prismatic weapon"] = {
	name : "Prismatic Weapon",
	source : ["EL:HH", 167],
	classes : ["archmage"],
	level : 3,
	school : "T3",
	time : "1 a",
	range : "Touch",
	components : "V,S,M",
	compMaterial : "a rainbow magically confined in a wine bottle",
	duration : "1 minute",
	description : "(See Full Description)",
	descriptionFull : desc([	
		"You touch a weapon, transforming it into a brilliant tool of",
		"luminescent destruction. The weapon is imbued with eight different",
		"colors which glisten and sparkle, shedding bright light",
		"in a 30-foot radius. When the weapon scores a hit, the wielder",
		"may elect to expend a color of its choice to cause the attack to",
		"have the additional listed effect. Once a color has been expended,",
		"it disappears from the weapon and cannot be used again. If",
		"the weapon has no colors remaining, the effect ends.",
		"Red. The hit deals an additional 10d6 fire damage.",
		"Orange. The hit deals an additional 10d6 acid damage.",
		"Yellow. The hit deals an additional 10d6 lightning damage.",
		"Green. The hit deals an additional 10d6 poison damage.",
		"Blue. The hit deals an additional 10d6 cold damage.",
		"Indigo. The target must succeed on a Constitution saving",
		"throw or be petrified until the end of its next turn.",
		"Violet. The target is blinded until the spell ends.",
		"Mysterious. The hit deals an additional 10d6 arcane damage",
	]),
};
SpellsList["ray of ruination"] = {
	name : "Ray of Ruination",
	source : ["EL:HH", 167],
	classes : ["archmage"],
	level : 3,
	school : "T3",
	time : "1 a",
	range : "500 ft",
	components : "V,S,M",
	compMaterial : "a needle made of starmetal",
	duration : "Instantaneous",
	description : "(See Full Description)",
	descriptionFull : desc([	
		"You point at a creature you can see within range and",
		"unleash a ray of crackling, all-consuming energy.",
		"You make a ranged spell attack against the target and imbue",
		"the ray with the power to destroy a specific aspect of the target,",
		"chosen from Strength, Dexterity, Constitution, Intelligence,",
		"Wisdom, or Charisma. On a hit, the target takes 20d12 damage",
		"of a type according to the ability you selected, and must",
		"succeed on a saving throw of that ability or take double damage",
		"from the it.",
		"* Strength. Cold damage",
		"* Dexterity. Radiant damage",
		"* Constitution. Acid damage",
		"* Wisdom. Necrotic damage",
		"* Intelligence. Psychic Damage",
		"* Charisma. Force Damage",
	]),
};
SpellsList["wall of fantabulous wonderment"] = {
	name : "Wall of Fantabulous Wonderment",
	source : ["EL:HH", 167],
	classes : ["archmage"],
	level : 3,
	school : "T3",
	time : "1 a",
	range : "300 ft",
	components : "V,S,M",
	compMaterial : "a portrait painted by a famous artist",
	duration : "Concentration, up to 1 minute",
	description : "(See Full Description)",
	descriptionFull : desc([	
		"You invoke an illusory wall of ever-shifting color and form that",
		"overwhelms the senses of those who interact with it. You can",
		"make the wall up to 90 feet long, up to 30 feet high, and up to",
		"5 feet thick. The wall is opaque and lasts for the spell’s duration.",
		"When the wall appears or a creature enters the affected area for",
		"the first time on a turn, it must attempt an Intelligence saving",
		"throw, gaining two levels of the wonderstruck condition on a",
		"failure, or one level on a success, the effects of which last for the",
		"spell’s duration. Wonderstruck is a special condition measured",
		"in six levels.",
		"Level Wonderstruck Effect",
		"1",
		"The target cannot communicate intelligibly,",
		"instead blabbering about the beauty of the wall",
		"of fantabulous wonderment.",
		"2", 
		"The target cannot have resistance or immunity",
		"to damage from your spells.",
		"3",
		"The target has Epic disadvantage on Intelligence,",
		"Wisdom, and Charisma saving throws.",
		"4",
		"The target is vulnerable to damage from your",
		"spells.",
		"5", 
		"The target cannot willingly move away from the",
		"wall of fantabulous wonderment.",
		"6",
		"The target’s Intelligence, Wisdom, and",
		"Charisma ability scores are reduced to 1, and the",
		"target is incapacitated.",
		"If an already wonderstruck creature suffers another effect that",
		"causes a level of wonderstruck, its current level of wonderstruck",
		"increases by an amount specified in the effect’s description.",
		"A creature suffers the effect of its current level of wonderstruck",
		"as well as all lower levels.",
	]),
};

SpellsList["arcane mark"] = {
	name : "Arcane Mark",
	source : ["EL:HH", 117],
	classes : [""],
	level : 0,
	school : "Abjur",
	time : "1 bns",
	range : "Touch or Special (See description)",
	components : "V,S",
	duration : "Permanent",
	description : "(See Full Description)",
	descriptionFull : desc([	
		"You inscribe a magical signature on an object or structure within",
		"reach. The inscription can take the form of a single symbol,",
		"word, or other design as long as it can occupy up to a 6-inch",
		"square on the surface of the structure or object. The mark cannot",
		"be removed by nonmagical means and is unique to you.",
		"Attempts by creatures other than you to replicate the design of",
		"your inscription automatically fail. Once you have inscribed an",
		"object or structure with this spell, you cannot target it with this",
		"spell again for as long as it remains inscribed.",
		"You can choose to cast this spell immediately after you cast a",
		"spell as an action. If you do so, instead of inscribing a magical",
		"signature on an object or structure, you give that spell a personalized",
		"flair that identifies it as a spell cast by you. Creatures",
		"that observe the spell’s casting or effects and have knowledge of",
		"your existence instantly recognize the spell as one cast by you.",
	]),
};

	
ClassList.reaver = {
	
	regExpSearch : /reaver/i,
	name : "Reaver",
	source : [["EL:HH", 26]],
	primaryAbility : ["Strength"],
	abilitySave : 1,
	prereqs : "Strength 13",
	improvements : [1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5],
	scoresMaximum : [30, 30, 30, 30, 30, 30],
	die : 12,
	subclasses : ["Epic Primal Path", []],
	attacks : [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
	features : {
		"proficiencies" : {
			name : "Proficiencies", 
			source : ["EL:HH", 26],
			minlevel : 1,
			description : "\n   " + "Saving Throws. You gain proficiency in a single saving throw of your choice. Use the Choose Feature button on the second page to select your proficiency",
			extraname : "Bonus Saving Throw",
			extrachoices : ["Dexterity", "Intelligence", "Wisdom", "Charisma"],
			"dexterity" : {
				name : "Dexterity",
				description : "\n   " + "You gain proficiency in Dexterity Saving Throws",
				saves : ["Dex"],
			},	
			"intelligence" : {
				name : "Intelligence",
				description : "\n   " + "You gain proficiency in Intelligence Saving Throws",
				saves : ["Int"],
			},
			"wisdom" : {
				name : "Wisdom",
				description : "\n   " + "You gain proficiency in Wisdom Saving Throws",
				saves : ["Wis"],
			},	
			"charisma" : {
				name : "Charisma",
				description : "\n   " + "You gain proficiency in Charisma Saving Throws",
				saves : ["Cha"],
			},	
		},	
		"epic feat" : {
			name : "Epic Feat",
			source : ["EL:HH", 26],
			minlevel : 1,
			description : "\n   " + "When you reach 21st level, and again at 25th and 29th level, you may select one Epic feat from the Epic feat list detailed in chapter 3. You may forgo taking an Epic feat to instead increase one ability score of your choice by 4, or you can increase two ability scores of your choice by 2.",
		},	
		"overpowering strikes" : {
			name : "Overpowering Strikes",
			source : ["EL:HH", 27],
			minlevel : 1,
			description : "\n   " + "You can throw everything into your attacks without regard for the consequences. When you make a weapon attack that benefits from your Reckless Attack barbarian feature, you instead have Epic advantage on your attack rolls using Strength during that turn, but creatures have Epic advantage on attack rolls against you until the start of your next turn. Additionally, while you are raging via your Barbarian Rage feature, you no longer gain a bonus to the damage roll as detailed on the Rage Damage column of the Barbarian table in the core rules. Instead, when you successfully hit with a melee weapon attack, you deal an additional 2d4 damage. When you gain your Rancor feature at 22nd level, this additional damage increases by 1d4 for each level of rancor you have.",
			calcChanges : {
				atkAdd : [
					function (fields, v) {
						if (!v.theWea.isMeleeWeapon && classes.known.reaver && (/\boverpower\b/i).test(v.WeaponTextName)) {
							fields.Description += (fields.Description ? '; ' : '') + 'while raging, +2d4 damage';
						}
					},
						"If I include the word 'overpower' in a melee weapon's name, the calculation will add my Overpowering Strike's bonus damage to it."
				],
			},
		},
		"rancor" : {
			name : "Rancor",
			source : ["EL:HH", 27],
			minlevel : 2,
			description : "\n   " + "You draw deeply from the bottomless well of anger within, drawing forth unstoppable power. When you enter your rage via your Barbarian Rage feature, you may choose to transform that rage into a fearsome Epic rage, which has all the benefits of standard rage in addition to those detailed in this feature. When you enter an Epic rage, and at the start of each of your turns while you are raging, you gain one level of a special condition known as rancor. This condition is measured in six levels and lasts until either your Epic rage ends or you begin a new one. You gain the benefits of your current level of rancor as well as all lower levels. If an Epic creature does not harm or deal damage to you for the duration of the Epic rage, you cannot enter another Epic rage until you finish a short or long rest.",
			usages : [6, 6, 6, 7, 7, 7, 7, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8],
			recovery : ["short rest", "long rest"],
			toNotesPage : [{
				name : "Levels of Rancor",
				note : [
						"◆ Level 1. The duration of your rage via your Barbarian Rage feature is increased to 10 minutes.",
						"◆ Level 2. You are immune to blugeoning, piercing, and slashing damage from non-Epic creatures.",
						"◆ Level 3. The distance you may vertically or horizontally jump is infinite so long as you have the movement to do so.",
						"◆ Level 4. If your carrying capacity is less than 1 million pounds, it is instead 1 million pounds.",
						"◆ Level 5. You are immune to the unconscious and stunned conditions.",
						"◆ Level 6. On each of your tuns you may take an additional action. This action must be either the Attack or Dash action.",
				]
			}],
		},
		"feats of strength" : {
			name : "Feats of Strength",
			source : ["EL:HH", 27, 29, 30],
			minlevel : 2,
			description : "\n   " + "You invoke your titanic strength to perform acts of legendary might called Feats of Strength. You can perform Feats of Strength only while you are raging and if you have the required levels of rancor available to you, as detailed in each feat of strength’s description. You can perform all the Feats of Strength detailed at the end of this class description. Some Feats of Strength force affected targets to attempt saving throws. The DC for these saving throws is calculated using your feat of strength save DC.",
			toNotesPage : [{
				name : "Feats of Strength",
				note : [
						"◆ Body Block. Levels of Rancor: 5. As a reaction when you and a friendly creature within reach take damage other than psychic from an effect that affects an area (such as a cone, line, cylinder, cube, etc.) you may cause that creature to take no damage and instead you take the damage the target would have taken.",
						"◆ Crush Magic. Levels of Rancor: 5. When you succeed on a saving throw against a spell or magical effet with a duration greater than instantaneous, you can choose to shatter it with your might. When you do so, you may attempt a Strength saving throw agains tthe spell or effect's save DC, ending it on a success.",
						"◆ Death Hug. Levels of Rancor: 2. When you successfully grapple another creature, you may choose to crush it with your titanic strength. The target must succeed on a Constitution saving throw or be knocked unconscious for as long as you maintain the grapple. At the start of each of its turns the target can repeat the saving throw, ending its unconsciousness on a success.",
						"◆ Demolishing Charge. Levels of Rancor: 3. When you take the Dash action, you may surge forward with reckless abandon. When you do so, you gain 120 feet of movement but must move in a single straight line until the end of your turn. If this movement would be prevented by an anattended object or structure in your path, you deal 100 bludgeoning damage to it. If this damage is enough to create a hole large enough for you to pass through, you may continue the movement; otherwise your remaining movement is expended.",
						"◆ Earthbreaker. Levels of Rancor: 1 or more. When you make a weapon attack, you may choose to strike a space on the ground within reach or range, projecting a shock wave that tears buildings and enemies asunder. The space you target is the origin of the shock wave, which must be directed away from you (when applicable). You choose the form of the shock wave's area from the following options. - A 200-foot long, 5-foot wide line along the ground, - A 90-foot cone along the ground, - A 60-foot radius area on the ground centered on the point of impact. Each creature in the affected area must succeed on a Dexterity saving throw or be knocked prone and take 5d10 bludgeoning damage for each level of rancor you have. On a success, a creature takes half damage and isn't knocked prone. Unattended objects and structures in the affected area take 10d10 bludgeoning damage for each level of rancor you have.",
						"◆ Limit Breaker. Levels of Rancor: 6. When your turn ends, you can choose to gain an additional turn this round. This second turn occurs at your initiative count minus 10 (minimum of 1, losing intiative ties). At the end of that turn, your Epic rage immediately ends.",
						"◆ Obliterating Strike. Levels of Rancor: 1 or more. When you score a successful hit with a weapon attack, you may increase the damage of the attack by 15 for each level of rancor you have. This bonus damage is the same type as the weapon attack. Creatures slain by this attack explode into pieces.",
						"◆ Pulverize. Levels of Rancor: 3. When you make a weapon attack, you may choose to have the attack roll automatically roll a natural 20. If the target is a creature, it must succeed on a Constitution saving throw or be stunned until the start of its next turn.",
						"◆ Rage Regeneration. Levels of Rancor; 1 or more. When you take a bonus action, you can channel your anger inward, accelerating your metabolism and natural healing ability. You gain 2d10 temporary hit points last until your rage ends. Additionally, you may end one or more of the following condition on yourself :blinded, charmed, deafened, frightened, and poisoned.",
						"◆ Roar of the Ancients. Levels of Rancor: 2. When you attempt a saving throw other than a Strength saving throw, you may choose to utter a primal scream of fury, even if you are unconscious or incapacitated. When you do so, you instead roll a Strength saving throw (the save DC remains the same).",
						"◆ Titanic Throw. Levels of Rancor: 2. If you would make a weapon attack and are grappling a creature, holding an object or wielding a weapon with the thrown property, you can instead make a ranged weapon attack witht eh grappled target or held object. Grappled creatures and objects are that are not weapons are considered improvised weapons. The range of the attack is 200-feet/400-feet or the range of the thrown weapon, whichever si greater. If the attack hits, it deasl an additional 14d10 bludgeoning damage to both the target of the attack and the thrown creature or object.",
				]
			}],	
		},
		"explosive rage" : {
			name : "Explosive Rage",
			source : ["EL:HH", 28],
			minlevel : 4,
			description : "\n   " + "When you enter an Epic rage as per your Rancor feature, you can choose to do so explosively. When you do so, you immediately gain three or six levels of rancor. If you use this feature to gain three levels of rancor, you must finish a short rest before you can use it again. If you use this feature to gain six levels of rancor, you must finish a long rest before you can use it again.",
		},
		"subclassfeature1" : {
			name : "Epic Primal Path",
			source : ["EL:HH", 28],
			minlevel : 6,
			description : "\n   " + "You combine your new epic might with the primal powers of your rage, granting you mighty improvements to your specialization. You gain the following features according to the primal path you selected when you were advancing as a non-Epic barbarian.",
		},
		"flash of ferocity" : {
			name : "Flash of Ferocity",
			source : ["EL:HH", 29],
			minlevel : 8,
			description : "\n   " + "Your rage can be unleashed in an instant. When you roll initiative, you can choose to immediately enter a rage (no action required) via your Barbarian Rage feature.",
		},
		"infinite might" : {
			name : "Infinite Might",
			source : ["EL:HH", 29],
			minlevel : 10,
			description : "\n   " + "Your Epic rage can provide you with endless power, provided you have a foe powerful enough to unleash it. At the start of each of your turns, if you have six or more levels of rancor and took damage from or attempted a saving throw against an enemy mythic creature during your previous turn, you may gain more than six levels of rancor.",
		},
	},
};	

AddSubClass("reaver", "ancestral guardian", {
	regExpSearch : /^(?=.*(reaver))(?=.*ancestral).*$/i,
	subname : "Path of the Ancestral Guardian",
	source : ["EL:HH", 28],
	features : {
		"subclasfeature1" : {
			name : "Path of the Ancestral Guardian",
			source : ["EL:HH", 28],
			minlevel : 6,
			description : "\n   " + "Your ancestors are always with you, using the collective anger of generations to aid you in battle. When you use a reaction via your subclass features to reduce the damage a creature takes while you are in an Epic rage, you increase the damage reduced by 8d6 for each level of rancor you have.",
		},
	},
});	
AddSubClass("reaver", "battlerager", {
	regExpSearch : /^(?=.*(reaver))(?=.*battlerager).*$/i,
	subname : "Path of the Battlerager",
	source : ["EL:HH", 28],
	features : {
		"subclasfeature1" : {
			name : "Path of the Battlerager",
			source : ["EL:HH", 28],
			minlevel : 6,
			description : "\n   " + "Your anger suffuses your armor, causing it to seethe with power. While you are wearing armor and benefiting from an Epic rage via your Rancor feature, you gain the following benefits for its duration:  You gain a bonus to your AC equal to your levels of rancor.  You increase the damage dealt via your subclass features by 5 for each level of rancor you have.  You gain immunity to a non-Epic damage type of your choice.",
		},
	},
});	
AddSubClass("reaver", "beast", {
	regExpSearch : /^(?=.*(reaver))(?=.*beast).*$/i,
	subname : "Path of the Beast",
	source : ["EL:HH", 28],
	features : {
		"subclasfeature1" : {
			name : "Path of the Beast",
			source : ["EL:HH", 28],
			minlevel : 6,
			description : "\n   " + "When you enter an Epic rage via your Rancor feature, you can choose to transform into a wild lycanthropic beast, granting you the following benefits for the rage’s duration.  Your size category increases by one, to a maximum of Gargantuan.  You may perform two Feats of Strength each round instead of one.  You can instinctively sense whether a creature you can perceive with your senses is more or less powerful than you (determined by the DM). Once you use this feature, you cannot use it again until you finish a long rest.",
			limfeaname : "Path of the Beast",
			usages : 1,
			recovery : "long rest",
		},
	},
});	
AddSubClass("reaver", "berserker", {
	regExpSearch : /^(?=.*(reaver))(?=.*berserker).*$/i,
	subname : "Path of the Berserker",
	source : ["EL:HH", 28],
	features : {
		"subclasfeature1" : {
			name : "Path of the Berserker",
			source : ["EL:HH", 28],
			minlevel : 6,
			description : "\n   " + "When you end a frenzy, you no longer gain a level of exhaustion. Additionally, as a reaction when you are reduced to below half your hit point maximum while in an Epic rage, you may enter a bloodlust. The bloodlust grants you the following benefits for the duration of the rage:  When you take the Attack action, you may make three weapon attacks instead of two.  Your base movement speed increases by 20 feet.  Your melee weapon attacks score a critical hit on a roll of 19 or 20. Once you use this feature, you must finish a long rest before you can use it again.",
			action : "reaction",
			usages : 1,
			recovery : "long rest",
		},
	},
});
AddSubClass("reaver", "bonebreaker", {
	regExpSearch : /^(?=.*(reaver))(?=.*bonebreaker).*$/i,
	subname : "Path of the Bonebreaker",
	source : ["EL:HH", 28],
	features : {
		"subclasfeature1" : {
			name : "Path of the Bonebreaker",
			source : ["EL:HH", 28],
			minlevel : 6,
			description : "\n   " + "Enemies you have mutilated can be dispatched with ease. Creatures under the effects of your mutilations are vulnerable to all types of damage dealt by you.",
		},
	},
});	
AddSubClass("reaver", "storm herald", {
	regExpSearch : /^(?=.*(reaver))(?=.*storm).*$/i,
	subname : "Path of the Storm Herald",
	source : ["EL:HH", 29],
	features : {
		"subclasfeature1" : {
			name : "Path of the Storm Herald",
			source : ["EL:HH", 29],
			minlevel : 6,
			description : "\n   " + "The mystical storm created by your rage expands to epic proportions. When you create the magical aura granted by your subclass features while in an Epic rage via your Rancor feature, you may increase the aura’s radius to 300 feet. Additionally, your magical aura gains one of the following benefits according to which option you selected while advancing as a barbarian. Use the choose feature button to select your choice.",
			extraname : "Storm Aura",
			extrachoices : ["Desert", "Sea", "Tundra"],
			"desert" : {
				name : "Desert",
				description : "\n   " + "◆Desert. When a creature within your aura takes fire damage from you, you may choose for it to take an additional 5d6 points of fire damage for each level of rancor you have. This effect cannot occur more than once per turn.",
			},
			"sea" : {
				name : "Sea",
				description : "\n   " + "◆Sea. Creatures and objects of your choice within your aura are considered to be fully immersed in water for as long as they remain within the area, gaining benefits and suffering penalties according to the 5th Edition core rules.",
			},
			"tundra" : {
				name : "Tundra",
				description : "\n   " + "◆Tundra. At the start of each of your turns, diamond-hard ice forms on the bodies of creatures of your choice within your aura, granting affected creatures a +3 bonus to their AC until the start of your next turn. This effect ends prematurely if an affected creature ends its turn outside of your aura.",
			},			
		},
	},
});	
AddSubClass("reaver", "totem warrior", {
	regExpSearch : /^(?=.*(reaver))(?=.*totem).*$/i,
	subname : "Path of the Totem Warrior",
	source : ["EL:HH", 29],
	features : {
		"subclasfeature1" : {
			name : "Path of the Totem Warrior",
			source : ["EL:HH", 29],
			minlevel : 6,
			description : "\n   " + "You can perfectly imitate the sounds of a beast with which you share a totem spirit. In addition, you gain a totem spirit of a legendary beast of your choice from the following options. Use the choose feature button on the second page to select your choice.",
			extraname : "Totem Spirit",
			extrachoices : ["Bear", "Eagle", "Elk", "Tiger", "Wolf"],
			"bear" : {
				name : "Bear",
				description : "\n   " + "◆Bear. While you are touching the ground, as a reaction when you would be pushed, pulled, thrown, or magically teleported, you may be immune to that effect until the start of your next turn.",
				action : "reaction",
			},
			"eagle" : {
				name : "Eagle",
				description : "\n   " + "◆Eagle. While you are in an Epic rage via your Rancor feature, you gain a flying speed equal to your base walking speed.",
				speed : { fly : {spd : "walk", enc : "walk" } },
			},
			"elk" : {
				name : "Elk",
				description : "\n   " + "◆Elk. Your base walking speed is increased by 30 feet.",
				speed : { walk : {spd : +30, enc : +30 } },
			},
			"tiger" : {
				name : "Tiger",
				description : "\n   " + "◆Tiger. When you make a successful weapon attack on your turn, you may expend your movement to increase the damage of the attack by 1d6 for every 10 feet of movement expended.",
			},
			"wolf" : {
				name : "Wolf",
				description : "\n   " + "◆ Wolf. Your sense of smell becomes incredibly keen, granting you blindsight out to a range of 30 feet. If you lose your sense of smell, you lose this sense until it returns.",
				vision : ["Blindsight", "fixed 30"],
			},				
		},
	},
});	
AddSubClass("reaver", "wild magic", {
	regExpSearch : /^(?=.*(reaver))(?=.*magic).*$/i,
	subname : "Path of the Wild Magic",
	source : ["EL:HH", 29],
	features : {
		"subclasfeature1" : {
			name : "Path of the Wild Magic",
			source : ["EL:HH", 29],
			minlevel : 6,
			description : "\n   " + "When you enter an Epic rage via your Rancor feature or gain a level of rancor, the chaotic power of magic surges through you, granting you a special d8 known as a mayhem die. Whenever you would roll dice using one of your subclass features, you can choose to replace those dice with any number of mayhem dice you possess, up to a maximum of ten mayhem dice. Additionally, when you roll a mayhem die and roll an 8, you may roll an additional mayhem die and add it to the result. This effect is cumulative, even if it would cause the effect to surpass ten mayhem dice.",
		},
	},
});	
AddSubClass("reaver", "zelot", {
	regExpSearch : /^(?=.*(reaver))(?=.*zelot).*$/i,
	subname : "Path of the Zelot",
	source : ["EL:HH", 29],
	features : {
		"subclasfeature1" : {
			name : "Path of the Zelot",
			source : ["EL:HH", 29],
			minlevel : 6,
			description : "\n   " + "Your battles give glory to the gods. While you are raging and deal bludgeoning, piercing, or slashing damage, you can choose to instead deal righteous or vile damage.",
		},
	},
});

ClassList.truespeaker = {
	
	regExpSearch : /truespeaker/i,
	name : "Truespeaker",
	source : [["EL:HH", 31]],
	primaryAbility : ["Charisma"],
	abilitySave : 6,
	prereqs : "Charisma 13",
	improvements : [1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5],
	scoresMaximum : [30, 30, 30, 30, 30, 30],
	die : 8,
	subclasses : ["Epic Bard College", []],
	attacks : [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
	spellcastingFactor : 1,
	spellcastingKnown : {
		cantrips : [],
		spells : "list",
		prepared : true,
	},
	spellcastingList : { 

		"class" : [], 

		level : [0, 9]
	},
	features : {
		"proficiencies" : {
			name : "Proficiencies", 
			source : ["EL:HH", 32],
			minlevel : 1,
			description : "\n   " + "Saving Throws. You gain proficiency in a single saving throw of your choice. Use the Choose Feature button on the second page to select your proficiency",
			extraname : "Bonus Saving Throw",
			extrachoices : ["Strength", "Intelligence", "Wisdom", "Constitution"],
			"strength" : {
				name : "Strength",
				description : "\n   " + "You gain proficiency in Strength Saving Throws",
				saves : ["Str"],
			},	
			"intelligence" : {
				name : "Intelligence",
				description : "\n   " + "You gain proficiency in Intelligence Saving Throws",
				saves : ["Int"],
			},
			"wisdom" : {
				name : "Wisdom",
				description : "\n   " + "You gain proficiency in Wisdom Saving Throws",
				saves : ["Wis"],
			},	
			"constitution" : {
				name : "Constitution",
				description : "\n   " + "You gain proficiency in Constitution Saving Throws",
				saves : ["Con"],
			},	
		},	
		"epic feat" : {
			name : "Epic Feat",
			source : ["EL:HH", 32],
			minlevel : 1,
			description : "\n   " + "When you reach 21st level, and again at 25th and 29th level, you may select one Epic feat from the Epic feat list detailed in chapter 3. You may forgo taking an Epic feat to instead increase one ability score of your choice by 4, or you can increase two ability scores of your choice by 2.",
		},	
		"truespeaking" : {
			name : "Truespeaking",
			source : ["EL:HH", 32],
			minlevel : 1,
			description : "\n   " + "You begin your advanced studies of truespeech, allowing you to augment a variety of abilities with its power. You are proficient in a special language known as truespeech. Further details of the language of truespeech are detailed in chapter 3. Many of your bard and truespeaker Epic prestige class features demand you perform an act of truespeech to produce them. While truespeech is extraordinarily powerful, it cannot be used without consequence. Using truespeech conflicts with the natural order of the multiverse, which continually attempts to reassert itself. This manifests as a negative force that builds inside you called entropy, which takes the form of a dice pool of d6s. Your entropy dice pool starts at 0 and resets each time you finish a long rest. When you use a feature that requires truespeech, you add a number of entropy dice detailed in its description to your entropy dice pool and then roll the entire pool. If the total of the entropy dice rolled exceeds your entropy limit, as detailed in the truespeaker class progression table, you cannot use a truespeaker feature that grants you entropy until the end of your next turn. As you advance as a truespeaker, your entropy limit increases and is detailed in the class progression table, allowing you to perform more acts of truespeech.",
		uses : [20, 25, 30, 35, 40, 45, 50, 55, 60, 70, 70, 70, 70, 70, 70, 70, 70, 70, 70, 70],
		recovery : "long rest",
		},
		"inspired truespeech" : {
			name : "Inspired Truespeech",
			source : ["EL:HH", 32],
			minlevel : 1,
			description : "\n   " + "Your inspiring words can be enhanced with the power of truespeech. When you grant a creature a Bardic Inspiration die, you can gain two entropy dice to turn that die into a d20, instead of a d12.",
		},
		"truespell recitation" : {
			name : "Truespell Recitation",
			source : ["EL:HH", 32, 33],
			minlevel : 1,
			description : desc([
				"Your magic can be imbued with truespeaking, infusing your",
				"spells with extraordinary effects. When you cast a spell of 8th",
				"level or lower with a verbal component and expend a spell slot",
				"via your Spellcasting feature, you can cast it using the words of",
				"truespeech. When you do so, the spell is no longer considered",
				"a spell or magical effect for its duration (its other properties",
				"remain the same), instead being powered by the mystical force",
				"of truespeech. Doing so causes you to gain a number of entropy",
				"dice according to the level of the spell cast, as detailed in the",
				"Truespell Recitation table.",
				" Spell Level			Entropy Dice Gained",
				"	Cantrip						None	   ",
				"	1st-2nd						 1		   ",
				"	3rd-4th						 2		   ",
				"	5th-6th						 3		   ",
				"	7th-8th						 4		   ",
			]),
		},
		"truesong lexicon" : {
			name : "Truesong Lexicon",
			source : ["EL:HH", 33],
			minlevel : 2,
			description : "\n   " + "Your mastery over truespeech has progressed to the point that you can sing the words of power. The harmonies, melodies, and themes of these masterpieces unleash incredible magic through truespeech. You may select two masterpieces from the Truespeech Masterpieces list to have memorized, and you learn additional masterpieces as you advance as a truespeaker according to the Truespeaker table. Performing a masterpiece is similar to casting a spell with only verbal components. Each masterpiece is an Epic magical effect with a casting time, range, duration, and listed effects detailed in its description. Each masterpiece generates an amount of entropy dice when performed, as detailed in its description. Masterpieces use your spell attack bonus and spell save DC when applicable. A masterpiece with a duration greater than instantaneous immediately ends if you perform that masterpiece again. However, when performing a masterpiece, you may choose to sing it with vigor, performing a flourish for an improved effect on that masterpiece at the cost of gaining additional entropy dice. The details of the flourish and its effects on the masterpiece are found in its description.",
			extraname : "Masterpieces",
			extrachoices : ["anthem of thunderous pain", "aria of arcane power", "cacophony of shattering hearts", "counterchant", "cry of war unending", "dirge of the doomed legion", "doomcaller's madrigal", "grand finale", "harmony of living hope", "iamir's waltz of one thousand cuts", "lamentation of the lost", "martyr's requiem", "melody of the synchronized mind", "nocturne of infecting fear", "note of fortitude", "om of timelessness", "rhythm of the forge", "sonnet of riotous illumination", "symphony of cosmic fire", "timeless epic", 
			"un-naming silence", "whispers of oblivion"],
			extraTimes : levels.map(function (n) {
					return n < 2 ? 0 : n < 4 ? 2 : n < 6 ? 3 : n < 8 ? 4 : n < 10 ? 5 : 6;
			}),
			"anthem of thunderous pain" : {
				name : "Anthem of Thunderous Pain",
				spellcastingExtra : ["Anthem of Thunderous Pain"],
			},
			"aria of arcane power" : {
				name : "Aria of Arcane Power",
				spellcastingExtra : ["Aria of Arcane Power"],
			},
			"cacophony of shattering hearts" : {
				name : "Cacophony of Shattering Hearts",
				spellcastingExtra : ["Cacophony of Shattering Hearts"],
			},
			"counterchant" : {
				name : "Counterchant",
				spellcastingExtra : ["Counterchant"],
			},
			"cry of war unending" : {
				name : "Cry of War Unending",
				spellcastingExtra : ["Cry of War Unending"],
			},
			"dirge of the doomed legion" : {
				name : "Dirge of the Doomed Legion",
				spellcastingExtra : ["Dirge of the Doomed Legion"],
			},
			"doomcaller's madrigal" : {
				name : "Doomcaller's Madrigal",
				spellcastingExtra : ["Doomcaller's Madrigal"],
			},
			"grand finale" : {
				name : "Grand Finale",
				spellcastingExtra : ["Grand Finale"],
			},
			"harmony of living hope" : {
				name : "Harmony of Living Hope",
				spellcastingExtra : ["Harmony of Living Hope"],
			},
			"iamir's waltz of one thousand cuts" : {
				name : "Iamir's Waltz of One Thousand Cuts",
				spellcastingExtra : ["Iamir's Waltz of One Thousand Cuts"],
			},
			"lamentation of the lost" : {
				name : "Lamentation of the Lost",
				spellcastingExtra : ["Lamentation of the Lost"],
			},
			"martyr's requiem" : {
				name : "Martyr's Requiem",
				spellcastingExtra : ["Martyr's Requiem"],
			},
			"melody of the synchronized mind" : {
				name : "Melody of the Synchronized Mind",
				spellcastingExtra : ["Melody of the Synchronized Mind"],
			},
			"nocturne of infecting fear" : {
				name : "Nocturne of Infecting Fear",
				spellcastingExtra : ["Nocturne of Infecting Fear"],
			},
			"note of fortitude" : {
				name : "Note of Fortitude",
				spellcastingExtra : ["Note of Fortitude"],
			},
			"om of timelessness" : {
				name : "Om of Timelessness",
				spellcastingExtra : ["Om of Timelessness"],
			},
			"rhythm of the forge" : {
				name : "Rhythm of the Forge",
				spellcastingExtra : ["Rhythm of the Forge"],
			},
			"sonnet of riotous illumination" : {
				name : "Sonnet of Riotous Illumination",
				spellcastingExtra : ["Sonnet of Riotous Illumination"],
			},
			"symphony of cosmic fire" : {
				name : "Symphony of Cosmic Fire",
				spellcastingExtra : ["Symphony of Cosmic Fire"],
			},
			"timeless epic" : {
				name : "Timeless Epic",
				spellcastingExtra : ["Timeless Epic"],
			},
			"un-naming silence" : {
				name : "Un-Naming Silence",
				spellcastingExtra : ["Un-Naming Silence"],
			},
			"whispers of oblivion" : {
				name : "Whispers of Oblivion",
				spellcastingExtra : ["Whispers of Oblivion"],
			},
		},	
		"harmonize" : {
			name : "Harmonize",
			source : ["EL:HH", 33],
			minlevel : 4,
			description : desc([
				"You can more efficiently recover from the consequences of using",
				"truespeech. When you finish a short rest, you may reduce",
				"the number of entropy dice you have by a number of dice equal",
				"to your proficiency bonus.",
			]),
		},
		"subclassfeature1" : {
			name : "Epic Bard College",
			source : ["EL:HH", 33],
			minlevel : 6,
			description : desc([
				"You distinguish yourself as a champion of everything your",
				"bard college stands for. The pinnacle of your achievement is",
				"the composition of a masterpiece that only truespeakers from",
				"that organization can perform, as well as discovering powerful",
				"new secrets of truespeech that bring credit to your college. You",
				"gain the following features according to the bard college you",
				"selected when you were advancing as a bard.",
			]),	
		},
		"unshakable voice" : {
			name : "Unshakable Voice",
			source : ["EL:HH", 34],
			minlevel : 8,
			description : desc([
				"Your ability to use truespeech becomes almost effortless, further",
				"increasing its supernatural power. Your voice cannot be magically",
				"silenced or suppressed unless you allow it. Additionally,",
				"while speaking truespeech you can choose for your words to be",
				"heard by creatures you are aware of that share the same plane",
				"of existence as you.",
			]),
		},
		"truespeech maestro" : {
			name : "Truespeech Maestro",
			source : ["EL:HH", 34],
			minlevel : 10,
			usages : 1,
			recovery : "long rest",
			description : desc([
				"You are masterfully fluent in the language of truespeech, allowing",
				"you to command the universe itself with the spoken word.",
				"As an action, you may reduce your entropy dice pool to zero.",
				"Once you use this feature, you cannot use it again until you",
				"finish a long rest.",
			]),
		},
	},
};	
AddSubClass("truespeaker", "creation", {
	regExpSearch : /^(?=.*(truespeaker))(?=.*creation).*$/i,
	subname : "College of Creation",
	source : ["EL:HH", 33],
	features : {
		"subclasfeature1" : {
			name : "College of Creation",
			source : ["EL:HH", 33],
			minlevel : 6,
			spellcastingExtra : ["Rhythm of the Forge"],
			description : desc([
				"Having mastered the true name of reality, you can generate",
				"matter from nothingness. When you create an item via your",
				"subclass features, you may choose to gain a number of entropy",
				"dice to instead create a magic item you have touched before of",
				"legendary quality or lower, the quantity of which is determined",
				"by the rarity of the item as shown on the College of Creation",
				"Items by Rarity table. These entropy dice cannot be lost so long",
				"as magic items created in this manner exist.",
				" 	Rarity				Entropy Dice Gained",
				"	Common						 1		   ",
				"	Uncommon					 2		   ",
				"	Rare						 4		   ",
				"	Very Rare					 6		   ",
				"	Legendary					 8		   ",
				"Additionally, you learn the masterpiece rhythm of the forge, which",
				"does not count against the number of masterpieces you can have",
				"memorized and is detailed in the Masterpieces section.",
			]),
		},
	},
});	
AddSubClass("truespeaker", "eloquence", {
	regExpSearch : /^(?=.*(truespeaker))(?=.*eloquence).*$/i,
	subname : "College of Eloquence",
	source : ["EL:HH", 33],
	features : {
		"subclassfeature1" : {
			name : "College of Eloquence",
			source : ["EL:HH", 33],
			minlevel : 6,
			spellcastingExtra : ["Timeless Epic"],
			description : desc([
				"Your words of truespeech are spoken with such elegance and",
				"strength that they are imbued with extraordinary power. When",
				"you would gain entropy dice from your truespeaker features or",
				"masterpieces, you gain one fewer die than you normally would,",
				"to a minimum of one entropy die.",
				"Additionally, you learn the masterpiece timeless epic, which",
				"does not count against the number of masterpieces you can",
				"have memorized and is detailed in the Masterpieces section.",
			]),
		},
	},
});	
AddSubClass("truespeaker", "entropy", {
	regExpSearch : /^(?=.*(truespeaker))(?=.*entropy).*$/i,
	subname : "College of Entropy",
	source : ["EL:HH", 33],
	features : {
		"subclassfeature1" : {
			name : "College of Entropy",
			source : ["EL:HH", 33],
			minlevel : 6,
			spellcastingExtra : ["Grand Finale"],
			description : desc([
				"You learn the true name of oblivion, which can be woven into",
				"your masterpieces and spells so that you may better bring the",
				"world to ruin. While you are concentrating on your Dirge of",
				"Entropy subclass feature, you are no longer prevented from communicating",
				"verbally or producing effects with verbal components.",
				"Additionally, you learn the masterpiece grand finale, which",
				"does not count against the number of masterpieces you can",
				"have memorized and is detailed in the Masterpieces section.",
			]),
		},
	},
});	
AddSubClass("truespeaker", "glamour", {
	regExpSearch : /^(?=.*(truespeaker))(?=.*glamour).*$/i,
	subname : "College of Glamour",
	source : ["EL:HH", 34],
	features : {
		"subclassfeature1" : {
			name : "College of Glamour",
			source : ["EL:HH", 34],
			minlevel : 6,
			spellcastingExtra : ["Sonnet of Riotous Illumination"],
			description : desc([
				"You become one of the most magnificent beings to ever live,",
				"having learned the true name of beauty. Creatures within 30",
				"feet of you that can perceive you with a sense have Epic disadvantage",
				"on Intelligence, Wisdom, and Charisma saving throws",
				"against you.",
				"Additionally, you learn the masterpiece sonnet of riotous illumination,",
				"which does not count against the number of",
				"masterpieces you can have memorized and is detailed in the",
				"Masterpieces section.",
			]),
		},
	},
});	
AddSubClass("truespeaker", "lore", {
	regExpSearch : /^(?=.*(truespeaker))(?=.*lore).*$/i,
	subname : "College of Lore",
	source : ["EL:HH", 34],
	features : {
		"subclassfeature1" : {
			name : "College of Lore",
			source : ["EL:HH", 34],
			minlevel : 6,
			spellcastingExtra : ["Aria of Arcane Power"],
			description : desc([
				"You are staggeringly adept at learning and pronouncing true",
				"names. You have Epic advantage on ability checks made using",
				"truespeaker feature, and your proficiency bonus is doubled for",
				"any ability check you make using truespeaker feature.",
				"Additionally, you learn the masterpiece aria of arcane power,",
				"which does not count against the number of masterpieces you",
				"can have memorized and is detailed in the Masterpieces section.",
			]),
		},
	},
});	
AddSubClass("truespeaker", "spirits", {
	regExpSearch : /^(?=.*(truespeaker))(?=.*spirits).*$/i,
	subname : "College of Spirits",
	source : ["EL:HH", 34],
	features : {
		"subclassfeature1" : {
			name : "College of Spirits",
			source : ["EL:HH", 34],
			minlevel : 6,
			spellcastingExtra : ["Lamentation of the Lost"],
			description : desc([
				"Your arts attract all manner of spirits to your aid. When you",
				"would roll your Bardic Inspiration dice via your subclass features,",
				"you may also roll your entropy dice and add the total to",
				"the result.",
				"Additionally, you learn the masterpiece lamentation of the lost,",
				"which does not count against the number of masterpieces you",
				"can have memorized and is detailed in the Masterpieces section.",
			]),
		},
	},
});	
AddSubClass("truespeaker", "swords", {
	regExpSearch : /^(?=.*(truespeaker))(?=.*swords).*$/i,
	subname : "College of Swords",
	source : ["EL:HH", 34],
	features : {
		"subclassfeature1" : {
			name : "College of Swords",
			source : ["EL:HH", 34],
			minlevel : 6,
			spellcastingExtra : ["Iamir's Waltz of One Thousand Cuts"],
			description : desc([
				"In the hands of simpler beings, a blade is merely an instrument",
				"of death. Having learned the true name of sharpness, you",
				"can deliver death as you dance about the battlefield. When you",
				"make a successful weapon attack against an enemy creature and",
				"exceed the target’s AC by 5 or more, you immediately gain a",
				"Bardic Inspiration die, up to your maximum.",
				"Additionally, you learn the masterpiece Iamir’s waltz of one",
				"thousand cuts, which does not count against the number of",
				"masterpieces you can have memorized and is detailed in the",
				"Masterpieces section.",
			]),
		},
	},
});	
AddSubClass("truespeaker", "valor", {
	regExpSearch : /^(?=.*(truespeaker))(?=.*valor).*$/i,
	subname : "College of Valor",
	source : ["EL:HH", 34],
	features : {
		"subclassfeature1" : {
			name : "College of Valor",
			source : ["EL:HH", 34],
			minlevel : 6,
			spellcastingExtra : ["Cry of War Unending"],
			description : desc([
				"You are a legendary herald of battle. Having learned the true",
				"name of valor, your soul-stirring roars of victory can turn the",
				"tide of any conflict. When a creature that has one of your unexpended",
				"Bardic Inspiration dice takes the Attack action, it may",
				"make an additional weapon attack as a part of that action.",
				"Additionally, you learn the masterpiece cry of war unending,",
				"which does not count against the number of masterpieces",
				"you can have memorized and is detailed in the Masterpieces",
				"section.",
			]),
		},
	},
});	
AddSubClass("truespeaker", "whispers", {
	regExpSearch : /^(?=.*(truespeaker))(?=.*whipsers).*$/i,
	subname : "College of Whispers",
	source : ["EL:HH", 34],
	features : {
		"subclassfeature1" : {
			name : "College of Whispers",
			source : ["EL:HH", 34],
			minlevel : 6,
			spellcastingExtra : ["Whispers of Oblivion"],
			description : desc([
				"You are an unparalleled expert in subterfuge and intrigue.",
				"Having learned the true name of secrets, you gain the ability to",
				"obscure your spellcasting through clever deception. When you",
				"cast a spell, you may attempt a Charisma (Deception) ability",
				"check as a part of casting the spell. Creatures observing you",
				"can attempt a Wisdom (Perception) ability check as a reaction",
				"to see through your deception with a DC equal to the result of",
				"your Charisma (Deception) ability check. To creatures that do",
				"not see through your deception, you make it appear as though",
				"you are taking a different action than casting a spell. Creatures",
				"witnessing the spell’s effect are unable to determine the source",
				"of the magic, potentially preventing them from becoming hostile",
				"in response to being affected by the spell.",
				"Additionally, you learn the masterpiece whispers of oblivion,",
				"which does not count against the number of masterpieces",
				"you can have memorized and is detailed in the Masterpieces",
				"section.",
			]),
		},
	},
});

ClassList.ascendant = {
	
	regExpSearch : /ascendant/i,
	name : "Ascendant",
	source : [["EL:HH", 39]],
	primaryAbility : ["Wisdom"],
	abilitySave : 5,
	prereqs : "Wisdom 13",
	improvements : [1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5],
	scoresMaximum : [30, 30, 30, 30, 30, 30],
	die : 8,
	subclasses : ["Epic Domain", []],
	attacks : [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
	SpellcastingAbility : 5,
	features : {
		"proficiencies" : {
			name : "Proficiencies", 
			source : ["EL:HH", 40],
			minlevel : 1,
			description : "\n   " + "Saving Throws. You gain proficiency in a single saving throw of your choice. Use the Choose Feature button on the second page to select your proficiency",
			extraname : "Bonus Saving Throw",
			extrachoices : ["Dexterity", "Intelligence", "Strength", "Constitution"],
			"dexterity" : {
				name : "Dexterity",
				description : "\n   " + "You gain proficiency in Dexterity Saving Throws",
				saves : ["Dex"],
			},	
			"intelligence" : {
				name : "Intelligence",
				description : "\n   " + "You gain proficiency in Intelligence Saving Throws",
				saves : ["Int"],
			},
			"strength" : {
				name : "Strength",
				description : "\n   " + "You gain proficiency in Strength Saving Throws",
				saves : ["Str"],
			},	
			"constitution" : {
				name : "Constitution",
				description : "\n   " + "You gain proficiency in Constitution Saving Throws",
				saves : ["Con"],
			},	
		},	
		"epic feat" : {
			name : "Epic Feat",
			source : ["EL:HH", 41],
			minlevel : 1,
			description : "\n   " + "When you reach 21st level, and again at 25th and 29th level, you may select one Epic feat from the Epic feat list detailed in chapter 3. You may forgo taking an Epic feat to instead increase one ability score of your choice by 4, or you can increase two ability scores of your choice by 2.",
		},
		"acts of faith" : {
			name : "Acts of Faith",
			source : ["EL:HH", 41],
			minlevel : 1,
			description : desc([
				"You gain your first taste of raw divine power, greatly enhancing",
				"your skills and abilities. You gain the following features.",
				" Divine Competence. Your skills become divinely",
				"endowed. When you attempt an ability check with a",
				"skill in which you are proficient, you may use Wisdom",
				"instead of the usual ability score associated with the",
				"skill. For example, ascendants making a Strength",
				"(Athletics) ability check would add their Wisdom",
				"modifier instead of their Strength modifier to the result",
				"of the roll.",
				" Sacred Spells. When you expend a spell slot to cast",
				"one of your domain spells of 4th level or lower, you",
				"instead cast it as a 5th-level spell, regardless of the slot",
				"level used to cast the spell."
			]),
		},
		"divine spark" : {
			name : "Divine Spark",
			source : ["EL:HH", 41],
			minlevel : 2,
			description : desc([
				"You can manifest a fragment of godhood inside you and unleash",
				"its tremendous power. As a bonus action, you summon",
				"this force, known as a Divine Spark, and hold its power within",
				"you. You can generate a single Divine Spark at this level and",
				"can learn to generate additional Divine Sparks as you advance",
				"as an ascendant according to the Divine Spark Generations",
				"column of the ascendant class progression table. You regain",
				"all your expended Divine Spark generations when you finish",
				"a long rest. You cannot hold more than a single Divine Spark",
				"within you at a time, and while you hold a Divine Spark you",
				"gain the following benefits until that spark is expended:",
				" Your body radiates power. Your eyes glow, and your",
				"voice resonates with godlike intensity. A creature",
				"that can perceive you immediately knows you are",
				"divine.",
				" If you would roll a 9 or lower on an attack roll,",
				"saving throw, or ability check with a skill in which",
				"you are proficient, you instead roll a 10.",
				"Unless used to cast an Epic spell (see the “Epic Spellcasting”",
				"feature), a Divine Spark is expended when you finish a short",
				"or long rest."
			]),
			limfeaname : "Divine Spark",
			action : "bonus action",
			usages : [0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5],
			recovery : "long rest",
		},
		"epic spellcasting1" : {
			name : "Tier 1 Epic Spellcasting",
			source : ["EL:HH", 41],
			minlevel : 2,
			description : desc([
				"You can unleash your divine power in the form of mighty Epic",
				"spells. Once per turn, you can consume a Divine Spark you",
				"have generated to cast an Epic spell from the ascendant Epic",
				"spell list of a tier according to the Maximum Epic Spell Tier",
				"column of the ascendant class progression table. You must fulfill",
				"the other requirements of casting that spell, such as casting",
				"time, concentration, and other restrictions when applicable, and",
				"you immediately lose the benefits of the Divine Spark when",
				"you begin to cast the spell. If you would expend your Divine",
				"Spark to cast an Epic spell at a tier lower than your highest",
				"tier available, you instead cast it at that tier. If your casting is",
				"interrupted, countered, or prevented by any means before the",
				"spell is complete, your Divine Spark is wasted. See the “Epic",
				"Magic and Spellcasting” section for rules about Epic magic and",
				"the “Epic Spells” section in chapter 4 for the list of Epic spells",
				"available to the ascendant.",
			]),
			spellcastingBonus : {
				name : "Tier 1 Ascendant Spells",
				spells : ["affair of honor", "antimagic ray", "ashran's arcane absorption", "call of the lance", "catastrophe", "crown of vermin", "demecius's divine intercession", "final death", "genesis", "hungry fissure", "mera's miraculous lightning leap", "mortifying apparition", "night terror", "spell sequencer", "wave of calamity"],
				selection : ["affair of honor", "antimagic ray", "ashran's arcane absorption", "call of the lance", "catastrophe", "crown of vermin", "demecius's divine intercession", "final death", "genesis", "hungry fissure", "mera's miraculous lightning leap", "mortifying apparition", "night terror", "spell sequencer", "wave of calamity"],
				firstCol : 1,
				times : 15,
			},
			spellFirstColTitle : "DS",
		},
		"epic spellcasting2" : {
			name : "Tier 2 Epic Spellcasting",
			source : ["EL:HH", 41],
			minlevel : 4,
			description : "",
			spellcastingBonus : {
				name : "Tier 2 Ascendant Spells",
				spells : ["adjure purity", "army of darkness", "bioclasmn", "bloodbane", "congruent spellward", "determinism", "dungeon delver's delight", "exhaulted brand of absolution", "immortal legend", "planar eviction", "storm of torment"],
				selection : ["adjure purity", "army of darkness", "bioclasmn", "bloodbane", "congruent spellward", "determinism", "dungeon delver's delight", "exhaulted brand of absolution", "immortal legend", "planar eviction", "storm of torment"],
				firstCol : 1,
				times : 11,
			},
			spellFirstColTitle : "DS",			
		},
		"epic spellcasting3" : {
			name : "Tier 3 Epic Spellcasting",
			source : ["EL:HH", 41],
			minlevel : 6,
			description : "",
			spellcastingBonus : {
				name : "Tier 3 Ascendant Spells",
				spells : ["apocalypse", "cast down", "celestial tempest", "miracle", "silent scythe of slaying"],
				selection : ["apocalypse", "cast down", "celestial tempest", "miracle", "silent scythe of slaying"],
				firstCol : 1,
				times : 5,
			},
			spellFirstColTitle : "DS",
		},
		"quasi-deity" : {
			name : "Quasi-Deity",
			source : ["EL:HH", 42],
			minlevel : 4,
			description : desc([
				"Your divine ascension results in attaining the rank of quasi-deity.",
				"Though you are a minor god, you begin to receive significant",
				"worship from mortals who find meaning in your teachings and",
				"perform ceremonies in your honor. This idolatry strengthens",
				"your divine powers, granting you the following properties.",
				" Divine Will. By expending more of your magic, you can",
				"remove the need to concentrate on your spells. When you",
				"expend a spell slot to cast a spell that requires concentration",
				"to maintain its effects, you can expend an additional spell",
				"slot of that spell’s level or higher to remove the need to",
				"concentrate on the spell for its duration.",
				" Vitality of the Gods. You become immortal. You no longer",
				"suffer the effects of aging, nor do you need to eat, drink,",
				"sleep, or breathe, and you are immune to the exhaustion",
				"condition. You must still rest to recover hit points, features,",
				"spells, and other traits. When you rest, you can sense the",
				"prayers, requests, and worship of those who follow you.",
			]),
		},
		"subclassfeature1" : {
			name : "Epic Domain",
			source : ["EL:HH", 42],
			minlevel : 6,
			description : desc([
				"Your divine power expands to include your domain. As a god of",
				"your domain, you are the divine embodiment of its principles",
				"and your every act glorifies these ideals. You gain additional domain",
				"spells that you can cast as detailed in that domain’s Epic",
				"subclass features. When you cast a domain spell of 8th level or",
				"lower, instead of expending a spell slot of that spell’s level you",
				"may instead expend a use of your Channel Divinity.",
				"You gain the following features according to the domain you",
				"selected when you were advancing as a cleric.",
			]),		
		},
		"demigod" : {
			name : "Demigod",
			source : ["EL:HH", 45],
			minlevel : 8,
			action : "action",
			description : desc([
				"Your divine rank has improved to grant you the position of demigod.",
				"This close to full divinity, your circle of worshipers grows",
				"considerably, and other gods (if any) begin to consider you a serious",
				"contender for true godhood as you gain the following benefits.",
				"Annihilate Undead. When any non-Epic undead fails its saving",
				"throw against your Channel Divinity: Turn Undead feature,",
				"you can choose to destroy it utterly and reduce its body to ash.",
				"Immortal Essence. As long as you have worshipers, you",
				"cannot be truly killed. Eight hours after you are slain, your",
				"body, equipment, and soul merge into divine essence and vanish.",
				"After 7 days, you return to life with full hit points, along",
				"with all your equipment, at a holy site, temple, or other place of",
				"worship built in your name. This is a Deific effect that cannot",
				"be prevented by anything except another Deific effect.",
				"Omnipotence. As an action you can expend a use of your",
				"Divine Intervention cleric class feature to cast the spell wish.",
				"At the DM’s discretion, you may receive additional benefits (or",
				"penalties) according to the divine order of your game. Work out",
				"these details with your DM, finding a feature that best fits the",
				"theme of your game without being overly restrictive. Generally,",
				"this feature should not prevent your ascendant from continuing",
				"down your chosen path.",
			]),
		},
		"ascendancy" : {
			name : "Ascendancy",
			source : ["EL:HH", 45],
			minlevel : 10,
			description : desc([
				"You ascend to true godhood. You can choose to immediately",
				"end your current existence and take your place among the divine",
				"order or to remain in the world in an extremely powerful—",
				"but ultimately weaker—mode of existence. Should you",
				"elect not to ascend, you instead gain the following benefits:",
				" Epic effects produced by you, such as your ascendant class",
				"features and Epic spells you cast, are instead Deific effects.",
				" When you expend a Divine Spark, as a reaction you may",
				"immediately generate a new Divine Spark from your",
				"remaining Divine Sparks (if available).",
			]),
		},	
	},
};	

AddSubClass("ascendant", "arcana", {
	regExpSearch : /^(?=.*(ascendant))(?=.*arcana).*$/i,
	subname : "Arcana Domain",
	source : ["EL:HH", 42],
	features : {
		"subclassfeature1" : {
			name : "Arcana Domain",
			source : ["EL:HH", 42],
			minlevel : 6,
			spellcastingBonus : {
				name : "Epic Domain Spells",
				spells : ["arcane gate", "globe of invulnerability", "mirage arcane", "teleport", "antimagic field", "gate"],
				selection : ["arcane gate", "globe of invulnerability", "mirage arcane", "teleport", "antimagic field", "gate"],
				times : 6,
			},	
			description : desc([
				"With the power of your Divine Spark, you can store a spell’s",
				"effects to use at your convenience. Until your Divine Spark is",
				"expended, when you finish casting a non-Epic spell you can",
				"choose to prevent the spell from taking effect and instead store",
				"its magical energy for up to 1 hour or until you no longer hold",
				"that Divine Spark. When you start each of your turns, you can",
				"choose to unleash one or more stored spell’s effects as though",
				"you had cast them instantly. If a spell cast in this manner has",
				"no viable targets or areas to affect, it is instead wasted. You can",
				"store a number of spells in this manner with a combined spell",
				"level equal to your Wisdom modifier.",
			]),
		},
	},
});
AddSubClass("ascendant", "death", {
	regExpSearch : /^(?=.*(ascendant))(?=.*death).*$/i,
	subname : "Death Domain",
	source : ["EL:HH", 42],
	features : {
		"subclassfeature1" : {
			name : "Death Domain",
			source : ["EL:HH", 42],
			minlevel : 6,
			spellcastingBonus : {
				name : "Epic Domain Spells",
				spells : ["circle of death", "create undead", "etherealness", "finger of death", "mind blank", "power word kill"],
				selection : ["circle of death", "create undead", "etherealness", "finger of death", "mind blank", "power word kill"],
				times : 6,
			},	
			description : desc([
				"Your Divine Spark makes you an unrelenting avatar of death.",
				"Until your Divine Spark is expended, you are immune to necrotic",
				"damage, and living creatures are considered vulnerable to",
				"all damage dealt by you.",
			]),
		},
	},
});
AddSubClass("ascendant", "forge", {
	regExpSearch : /^(?=.*(ascendant))(?=.*forge).*$/i,
	subname : "Forge Domain",
	source : ["EL:HH", 42],
	features : {
		"subclassfeature1" : {
			name : "Forge Domain",
			source : ["EL:HH", 42],
			minlevel : 6,
			spellcastingBonus : {
				name : "Epic Domain Spells",
				spells : ["create homunculus", "investiture of flame", "delayed blast fireball", "simulacrum", "mighty fortress", "meteor swarm"],
				selection : ["create homunculus", "investiture of flame", "delayed blast fireball", "simulacrum", "mighty fortress", "meteor swarm"],
				times : 6,
			},	
			description : desc([
				"Your divine power makes you a nigh indestructible bastion that",
				"can withstand almost any injury. Until your Divine Spark is",
				"expended, you cannot be critically hit, are immune to damage",
				"from non-Epic sources, and have resistance to damage from",
				"Epic sources.",
			]),
		},
	},
});
AddSubClass("ascendant", "grave", {
	regExpSearch : /^(?=.*(ascendant))(?=.*grave).*$/i,
	subname : "Grave Domain",
	source : ["EL:HH", 42],
	features : {
		"subclassfeature1" : {
			name : "Grave Domain",
			source : ["EL:HH", 42],
			minlevel : 6,
			spellcastingBonus : {
				name : "Epic Domain Spells",
				spells : ["circle of death", "magic jar", "finger of death", "resurrection", "clone", "weird"],
				selection : ["circle of death", "magic jar", "finger of death", "resurrection", "clone", "weird"],
				times : 6,
			},	
			description : desc([
				"You can consign the living to the grave with your very presence.",
				"Until your Divine Spark is expended, when you start each",
				"of your turns, each non-Epic creature of your choice within 60",
				"feet of you with 100 hit points or fewer dies instantly. Epic and",
				"mythic creatures may make a Constitution saving throw against",
				"your spell save DC to prevent this effect.",
			]),
		},
	},
});
AddSubClass("ascendant", "knowledge", {
	regExpSearch : /^(?=.*(ascendant))(?=.*knowledge).*$/i,
	subname : "Knowledge Domain",
	source : ["EL:HH", 43],
	features : {
		"subclassfeature1" : {
			name : "Knowledge Domain",
			source : ["EL:HH", 43],
			minlevel : 6,
			spellcastingBonus : {
				name : "Epic Domain Spells",
				spells : ["eyebite", "mass suggestion", "forcecage", "sequester", "telepathy", "foresight"],
				selection : ["eyebite", "mass suggestion", "forcecage", "sequester", "telepathy", "foresight"],
				times : 6,
			},	
			action : "action",
			description : desc([
				"Your divine power allows you to learn almost everything about",
				"a creature at a glance. Until your Divine Spark is expended, you",
				"can take a Search action to learn the statistics and traits of a",
				"single creature you can see: its saving throw proficiencies, hit",
				"points and hit point maximum, proficiency bonus, skill proficiencies,",
				"and other details at the DM’s discretion. If you use",
				"this feature to learn the statistics and traits of a mythic creature,",
				"you cannot use it again for 1 year.",
			]),
		},
	},
});
AddSubClass("ascendant", "life", {
	regExpSearch : /^(?=.*(ascendant))(?=.*life).*$/i,
	subname : "Life Domain",
	source : ["EL:HH", 43],
	features : {
		"subclassfeature1" : {
			name : "Life Domain",
			source : ["EL:HH", 43],
			minlevel : 6,
			spellcastingBonus : {
				name : "Epic Domain Spells",
				spells : ["heal", "heroes' feast", "regenerate", "resurrection", "power word stun", "mass heal"],
				selection : ["heal", "heroes' feast", "regenerate", "resurrection", "power word stun", "mass heal"],
				times : 6,
			},	
			description : desc([
				"You are a beacon of life energy that can alleviate the worst of",
				"injuries. Until your Divine Spark is expended, when you cause a",
				"creature to regain hit points that exceed its hit point maximum,",
				"it gains the excess hit points as temporary hit points, up to a",
				"maximum of 100 temporary hit points. These hit points last",
				"until they are replaced by temporary hit points from another",
				"source, an affected creature finishes a short or long rest, or you",
				"no longer hold your Divine Spark.",
			]),
		},
	},
});
AddSubClass("ascendant", "light", {
	regExpSearch : /^(?=.*(ascendant))(?=.*light).*$/i,
	subname : "Light Domain",
	source : ["EL:HH", 43],
	features : {
		"subclassfeature1" : {
			name : "Light Domain",
			source : ["EL:HH", 43],
			minlevel : 6,
			spellcastingBonus : {
				name : "Epic Domain Spells",
				spells : ["sunbeam", "true seeing", "fire storm", "prismatic spray", "sunburst", "prismatic wall"],
				selection : ["sunbeam", "true seeing", "fire storm", "prismatic spray", "sunburst", "prismatic wall"],
				times : 6,
			},	
			action : "action",
			description : desc([
				"Until your Divine Spark is expended, as an action you can expend",
				"one or more cleric spell slots of 9th level or lower to call",
				"a 300-foot radius, infinitely high cylinder (or the physical distance",
				"to the sun when appropriate for your game world) centered",
				"on a point you can see within 1 mile of you becomes",
				"permanently blinded and must attempt a Constitution saving",
				"throw against your spell save DC, taking 1d12 radiant damage",
				"for each level of cleric spell slots expended on a failure, or half",
				"as much damage on a success. This feature automatically fails if",
				"the point you target is not exposed to direct sunlight or is used",
				"on a world without a sun.",
			]),
		},
	},
});
AddSubClass("ascendant", "nature", {
	regExpSearch : /^(?=.*(ascendant))(?=.*nature).*$/i,
	subname : "Nature Domain",
	source : ["EL:HH", 43],
	features : {
		"subclassfeature1" : {
			name : "Nature Domain",
			source : ["EL:HH", 43],
			minlevel : 6,
			spellcastingBonus : {
				name : "Epic Domain Spells",
				spells : ["transport via plants", "wall of thorns", "regenerate", "whirlwind", "demiplane", "shapechange"],
				selection : ["transport via plants", "wall of thorns", "regenerate", "whirlwind", "demiplane", "shapechange"],
				times : 6,
			},	
			action : "action",
			description : desc([
				"Your touch aligns the world toward the natural order. Until your",
				"Divine Spark is expended, once on each of your turns as an action",
				"you may attempt a melee spell attack against a creature within",
				"reach. On a successful hit, the target must succeed on a Wisdom",
				"saving throw against your spell save DC or be transformed into",
				"a beast, elemental, or plant of a challenge rating equal to or less",
				"than one-third your character level, rounded down. Epic and",
				"mythic creatures make this saving throw with Epic advantage.",
				"The target’s game statistics, including mental ability scores,",
				"are replaced by the statistics of the chosen creature, but the",
				"target retains its hit points, alignment, and personality.",
				"The target gains a number of temporary hit points equal to",
				"the hit points of the new form, which cannot be replaced by",
				"temporary hit points from another source. The target reverts to",
				"its normal form when it has 0 temporary hit points, it dies, or",
				"you take an action to touch the creature and dismiss the effect.",
				"The creature is limited in the actions it can perform by the",
				"nature of its new form. It can’t speak, cast spells, or do anything",
				"else that requires hands or speech unless its new form can do so",
				"normally.",
				"The creature is considered charmed by you, and you can give",
				"it verbal commands as a bonus action.",
			]),
		},
	},
});
AddSubClass("ascendant", "order", {
	regExpSearch : /^(?=.*(ascendant))(?=.*order).*$/i,
	subname : "Order Domain",
	source : ["EL:HH", 43-44],
	features : {
		"subclassfeature1" : {
			name : "Order Domain",
			source : ["EL:HH", 43-44],
			minlevel : 6,
			spellcastingBonus : {
				name : "Epic Domain Spells",
				spells : ["globe of invulnerability", "guards and wards", "forcecage", "sequester", "power word stun", "time stop"],
				selection : ["globe of invulnerability", "guards and wards", "forcecage", "sequester", "power word stun", "time stop"],
				times : 6,
			},	
			description : desc([
				"The universe bends to the authority of your divine order. When",
				"you generate a Divine Spark, you may issue a mystical decree",
				"that brings the world to order and lasts for as long as you hold",
				"that Divine Spark within you. When you issue this decree,",
				"you can decide whether to invoke weal or woe for its duration.",
				"If you invoked weal, when a creature hits you with an attack,",
				"it must succeed on a Wisdom saving throw against your spell",
				"save DC or instead miss. If you invoked woe, when you score a",
				"hit with a weapon attack, the target must succeed on a Wisdom",
				"saving throw against your spell save DC or take an additional",
				"10d12 psychic damage from the attack.",
			]),
		},
	},
});
AddSubClass("ascendant", "peace", {
	regExpSearch : /^(?=.*(ascendant))(?=.*peace).*$/i,
	subname : "Peace Domain",
	source : ["EL:HH", 44],
	features : {
		"subclassfeature1" : {
			name : "Peace Domain",
			source : ["EL:HH", 44],
			minlevel : 6,
			spellcastingBonus : {
				name : "Epic Domain Spells",
				spells : ["mass suggestion", "programmed illusion", "magnificent mansion", "teleport", "antipathy/sympathy", "power word heal"],
				selection : ["mass suggestion", "programmed illusion", "magnificent mansion", "teleport", "antipathy/sympathy", "power word heal"],
				times : 6,
			},	
			description : desc([
				"Your divine power instills peace in even the most violent of",
				"souls. While you hold your Divine Spark, you emit an aura",
				"of peace in a 120-foot radius. When an enemy creature starts",
				"its turn in the affected area, it becomes blessed with feelings",
				"of peace until the start of its next turn. A creature so blessed",
				"cannot willingly harm another creature unless the other creature",
				"has harmed it within the last hour. An Epic creature may",
				"attempt a Wisdom saving throw against your spell save DC to",
				"prevent this effect. A creature that succeeds on a saving throw",
				"in this manner becomes immune to this feature for 24 hours.",
			]),
		},
	},
});
AddSubClass("ascendant", "tempest", {
	regExpSearch : /^(?=.*(ascendant))(?=.*tempest).*$/i,
	subname : "Tempest Domain",
	source : ["EL:HH", 44],
	features : {
		"subclassfeature1" : {
			name : "Tempest Domain",
			source : ["EL:HH", 44],
			minlevel : 6,
			spellcastingBonus : {
				name : "Epic Domain Spells",
				spells : ["chain lightning", "investiture of wind", "fire storm", "reverse gravity", "tsunami", "storm of vengeance"],
				selection : ["chain lightning", "investiture of wind", "fire storm", "reverse gravity", "tsunami", "storm of vengeance"],
				times : 6,
			},	
			description : desc([
				"Lightning and thunder suffuse you, making every act an unrelenting",
				"storm. When you generate a Divine Spark, you may expend",
				"a single non-Epic cleric spell slot to charge yourself with",
				"the power of the storm. Until your Divine Spark is expended,",
				"when you would deal lightning or thunder damage, you may",
				"deal an additional 1d8 lightning or thunder damage per level of",
				"the spell slot expended when you generated the Divine Spark.",
			]),
		},
	},
});
AddSubClass("ascendant", "trickery", {
	regExpSearch : /^(?=.*(ascendant))(?=.*trickery).*$/i,
	subname : "Trickery Domain",
	source : ["EL:HH", 45],
	features : {
		"subclassfeature1" : {
			name : "Trickery Domain",
			source : ["EL:HH", 45],
			minlevel : 6,
			spellcastingBonus : {
				name : "Epic Domain Spells",
				spells : ["eyebite", "irresistible dance", "project image", "simulacrum", "dominate monster", "true polymorph"],
				selection : ["eyebite", "irresistible dance", "project image", "simulacrum", "dominate monster", "true polymorph"],
				times : 6,
			},	
			description : desc([
				"Your enemies are relentlessly mocked by your magic, making",
				"them vulnerable to your attacks. Until your Divine Spark is expended,",
				"when you hit a creature with a weapon attack that is",
				"being affected by one or more of your spells, your attack deals",
				"an additional 20d10 poison damage. If an attacked creature",
				"would be immune to poison damage dealt by the attack, it instead",
				"has resistance to the poison damage",
			]),
		},
	},
});
AddSubClass("ascendant", "twilight", {
	regExpSearch : /^(?=.*(ascendant))(?=.*twilight).*$/i,
	subname : "Twilight Domain",
	source : ["EL:HH", 45],
	features : {
		"subclassfeature1" : {
			name : "Twilight Domain",
			source : ["EL:HH", 45],
			minlevel : 6,
			spellcastingBonus : {
				name : "Epic Domain Spells",
				spells : ["conjure fey", "otherworldly guise", "mirage arcane", "prismatic spray", "mind blank", "prismatic wall"],
				selection : ["conjure fey", "otherworldly guise", "mirage arcane", "prismatic spray", "mind blank", "prismatic wall"],
				times : 6,
			},	
			description : desc([
				"Your divine power allows you to walk between the worlds in",
				"a perpetual twilight. While you hold your Divine Spark, you",
				"gain a flying (hover) speed equal to your base walking speed,",
				"can pass through objects and creatures as though they were difficult",
				"terrain, and are invisible while in dim light or darkness. If",
				"you end your turn inside a solid object, you are shunted to the",
				"nearest unoccupied space and take 1d10 force damage for every",
				"5 feet you are moved in this manner.",
			]),
		},
	},
});
AddSubClass("ascendant", "tyranny", {
	regExpSearch : /^(?=.*(ascendant))(?=.*tyranny).*$/i,
	subname : "Tyranny Domain",
	source : ["EL:HH", 45],
	features : {
		"subclassfeature1" : {
			name : "Tyranny Domain",
			source : ["EL:HH", 45],
			minlevel : 6,
			spellcastingBonus : {
				name : "Epic Domain Spells",
				spells : ["contingency", "mass suggestion", "finger of death", "forcecage", "dominate monster", "imprisonment", "hideous mandate"],
				selection : ["contingency", "mass suggestion", "finger of death", "forcecage", "dominate monster", "imprisonment", "hideous mandate"],
				times : 7,
			},	
			description : desc([
				"You add the Epic spell hideous mandate to your ascendant Epic",
				"spell list.",
				"Additionally, your divine authority empowers your voice",
				"to better subjugate those who oppose you. Until your Divine",
				"Spark is expended, if a spell you cast requires that you must",
				"see a creature in order to affect it, the spell instead requires",
				"that the creature be able to hear you, in addition to its normal",
				"restrictions.",
			]),
		},
	},
});
AddSubClass("ascendant", "war", {
	regExpSearch : /^(?=.*(ascendant))(?=.*war).*$/i,
	subname : "War Domain",
	source : ["EL:HH", 45],
	features : {
		"subclassfeature1" : {
			name : "War Domain",
			source : ["EL:HH", 45],
			minlevel : 6,
			spellcastingBonus : {
				name : "Epic Domain Spells",
				spells : ["blade barrier", "move earth", "arcane sword", "fire storm", "earthquake", "meteor swarm"],
				selection : ["blade barrier", "move earth", "arcane sword", "fire storm", "earthquake", "meteor swarm"],
				times : 6,
			},	
			description : desc([
				"Your godlike power makes you a divine engine of war, allowing",
				"you to slaughter any who oppose you. Until your Divine Spark",
				"is expended, when you hit an enemy with a weapon attack, you",
				"regain a use of your Channel Divinity feature, up to your maximum.",
				"Additionally, while you hold your Divine Spark, when",
				"one of your weapon attacks exceeds your target’s AC by 10 or",
				"more, the attack scores a critical hit.",
			]),
		},
	},
});

ClassList.primordial = {
	
	regExpSearch : /primordial/i,
	name : "Primordial",
	source : [["EL:HH", 46]],
	primaryAbility : ["Wisdom"],
	abilitySave : 5,
	prereqs : "Wisdom 13",
	improvements : [1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5],
	scoresMaximum : [30, 30, 30, 30, 30, 30],
	die : 8,
	subclasses : ["Epic Circle", []],
	attacks : [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
	SpellcastingAbility : 5,
	features : {
		"proficiencies" : {
			name : "Proficiencies", 
			source : ["EL:HH", 46],
			minlevel : 1,
			description : "\n   " + "Saving Throws. You gain proficiency in a single saving throw of your choice. Use the Choose Feature button on the second page to select your proficiency",
			extraname : "Bonus Saving Throw",
			extrachoices : ["Dexterity", "Charisma", "Strength", "Constitution"],
			"dexterity" : {
				name : "Dexterity",
				description : "\n   " + "You gain proficiency in Dexterity Saving Throws",
				saves : ["Dex"],
			},	
			"charisma" : {
				name : "Charisma",
				description : "\n   " + "You gain proficiency in Charisma Saving Throws",
				saves : ["Cha"],
			},
			"strength" : {
				name : "Strength",
				description : "\n   " + "You gain proficiency in Strength Saving Throws",
				saves : ["Str"],
			},	
			"constitution" : {
				name : "Constitution",
				description : "\n   " + "You gain proficiency in Constitution Saving Throws",
				saves : ["Con"],
			},	
		},	
		"epic feat" : {
			name : "Epic Feat",
			source : ["EL:HH", 47],
			minlevel : 1,
			description : "\n   " + "When you reach 21st level, and again at 25th and 29th level, you may select one Epic feat from the Epic feat list detailed in chapter 3. You may forgo taking an Epic feat to instead increase one ability score of your choice by 4, or you can increase two ability scores of your choice by 2.",
		},
		"living magic" : {
			name : "Living Magic",
			source : ["EL:HH", 47],
			minlevel : 1,
			description : desc([
				"Your magic can be used with an efficiency only nature can provide.",
				"When you expend a non-Epic druid spell slot to cast a",
				"spell or use a druid class or subclass feature, you may instead expend",
				"any number of druid spell slots to increase the spell’s level",
				"or the potency of the effect (when applicable) by an amount",
				"equal to the combined level of spell slots expended, to a maximum",
				"of 9th level.",
				"Additionally, when you would use your Wild Shape feature",
				"to change your form into that of another creature, you may",
				"instead expend a non-Epic druid spell slot to transform into an",
				"eligible creature of a CR equal to or lower than the level of the",
				"spell slot expended.",
			]),
		},
		"primordial evolution" : {
			name : "Primordial Evolution",
			source : ["EL:HH", 47],
			minlevel : 2,
			description : desc([
				"You tap into the most powerful and pervasive aspect of nature:",
				"the capacity to evolve. This prompts a dramatic transformation",
				"as you improve one of three aspects of your druidic abilities",
				"to new heights. Immediately after you attain 22nd level, you",
				"must choose which aspect you would like to evolve: spellcasting,",
				"communion with nature, or Wild Shape.",
				"When you evolve one of these aspects, you permanently",
				"gain the benefits of that evolution according to the details",
				"found in the “Primordial Evolutions” section. As you advance",
				"as a primordial, you gain additional primordial evolutions",
				"according to the Total Primordial Evolutions column of the",
				"primordial class progression table. You can use these new evolutions",
				"to evolve one of your aspects further or to begin evolving",
				"a new aspect. Each aspect can be evolved a maximum of",
				"three times, and you retain all the benefits of your previous",
				"evolutions.",
			]),
			extraname : "Primordial Evolutions",
			extrachoices : ["First Evolved Communion", "Second Evolved Communion", "Third Evolved Communion", "First Evolved Spellcasting", "Second Evolved Spellcasting", "Third Evolved Spellcasting", "First Evolved Wild Shape", "Second Evolved Wild Shape", "Third Evolved Wild Shape"],
			extraTimes : levels.map(function (n) {
					return n < 2 ? 0 : n < 4 ? 1 : n < 6 ? 2 : n < 8 ? 3 : n < 10 ? 4 : 5;
			}),		
			"first evolved communion" : {
				name : "First Evolved Communion",
				source : ["EL:HH", 50],
				action : ["bonus action", "Bond"],
				submenu : "[Evolved Communion]",
				description : desc([
					"As a bonus action, you create a mystical bond between yourself",
					"and an ally you can see within 120 feet of you. This bond persists",
					"until you dismiss it, bond yourself to a different ally, exceed",
					"the bond’s range, or are knocked unconscious.",
					"When you cast a non-Epic or Epic spell that affects only",
					"you, you may choose to affect your bonded ally as well, as",
					"though they were targeted by the spell. Any spell effects with",
					"a duration greater than instantaneous immediately end if you",
					"end the bond with your ally.",
				]),
			},
			"second evolved communion" : {
				name : "Second Evolved Communion",
				source : ["EL:HH", 50],
				submenu : "[Evolved Communion]",
				prereqeval : function(v) { return GetFeatureChoice('classes', 'primordial', 'primordial evolution', true).indexOf('first evolved communion') !== -1; },
				description : desc([
					"When your bonded ally takes damage, you may expend a druid",
					"spell slot (no action required) to reduce the damage taken by 10",
					"for each level of the spell slot expended.",
					"Additionally, when your bonded ally deals damage with an",
					"attack, you may expend a druid spell slot (no action required)",
					"to increase the damage dealt by that attack by 10 for each level",
					"of the spell slot expended.",
				]),
			},
			"third evolved communion" : {
				name : "Third Evolved Communion",
				source : ["EL:HH", 50],
				action : ["bonus action", "Change Bond"],
				submenu : "[Evolved Communion]",
				prereqeval : function(v) { return GetFeatureChoice('classes', 'primordial', 'primordial evolution', true).indexOf('second evolved communion') !== -1; },
				description : desc([
					"When you take a bonus action to bond to an ally, you may bond",
					"yourself to an additional ally within range. The second bonded",
					"ally gains all the benefits that you confer to your first bonded",
					"ally, and as a bonus action you may change both bonds on up to",
					"two different allies within range.",
				]),
			},
			"first evolved spellcasting" : {
				name : "First Evolved Spellcasting",
				source : ["EL:HH", 51],
				submenu : "[Evolved Spellcasting]",
				addMod : [
					{ type : "", field : "SpellSlots.CheckboxesSet.lvl1", mod : 1, text : "First Evolved Spellcasting"},
					{ type : "", field : "SpellSlots.CheckboxesSet.lvl2", mod : 1, text : "First Evolved Spellcasting"},
					{ type : "", field : "SpellSlots.CheckboxesSet.lvl3", mod : 1, text : "First Evolved Spellcasting"},
				],
				spellcastingBonus : {
					name : "First Evolved Spellcasting",
					spells : ["antimagic ray", "arboreal metamorphosis", "ashran's arcane absorption", "catastrophe", "crescent cleave", "crown of vermin", "flash freeze", "genesis", "hungry fissure", "mera's miraculous lightning leap", "sonic boom", "venom lance", "wall of dissolution"],
					selection : ["antimagic ray", "arboreal metamorphosis", "ashran's arcane absorption", "catastrophe", "crescent cleave", "crown of vermin", "flash freeze", "genesis", "hungry fissure", "mera's miraculous lightning leap", "sonic boom", "venom lance", "wall of dissolution"],
					times : 13,
				},
				limfeaname : "Tier 1 Spell Slot",
				usages : 1,	
				recovery : "long rest",
				description : desc([
					"You gain an additional 1st-, 2nd-, and 3rd-level druid spell slot.",
					"Additionally, you gain a tier 1 Epic spell slot, which is considered",
					"a primordial spell slot for you. You can use this slot to prepare",
					"and cast any tier 1 Epic spell from the primordial Epic spell",
					"list, and the spell counts against the number of total spells you",
					"can have prepared. You can find the primordial Epic spell list",
					"along with the general rules for Epic spellcasting in chapter",
					"4. You regain all expended Epic spell slots when you finish a",
					"long rest.",
					"Finally, your primordial level is added to your druid level for",
					"the purposes of determining how many spells you can have",
					"prepared.",
				]),
			},
			"second evolved spellcasting" : {
				name : "Second Evolved Spellcasting",
				source : ["EL:HH", 51],
				submenu : "[Evolved Spellcasting]",
				addMod : [
					{ type : "", field : "SpellSlots.CheckboxesSet.lvl4", mod : 1, text : "Second Evolved Spellcasting"},
					{ type : "", field : "SpellSlots.CheckboxesSet.lvl5", mod : 1, text : "Second Evolved Spellcasting"},
					{ type : "", field : "SpellSlots.CheckboxesSet.lvl6", mod : 1, text : "Second Evolved Spellcasting"},
				],
				spellcastingBonus : {
					name : "Second Evolved Spellcasting",
					spells : ["adjure purity", "anatomy augmentation", "bioclasm", "bloodbane", "caldera", "congruent spellward", "megalith", "obsidian tombs", "planar eviction", "seal fate", "torrential avalanche"],
					selection : ["adjure purity", "anatomy augmentation", "bioclasm", "bloodbane", "caldera", "congruent spellward", "megalith", "obsidian tombs", "planar eviction", "seal fate", "torrential avalanche"],
					times : 11,
				},
				prereqeval : function(v) { return GetFeatureChoice('classes', 'primordial', 'primordial evolution', true).indexOf('first evolved spellcasting') !== -1; },
				limfeaname : "Tier 2 Spell Slot",
				usages : 1,
				recovery : "long rest",
				description : desc([
					"You gain an additional 4th-, 5th-, and 6th-level druid spell slot.",
					"You gain a second tier 1 Epic primordial spell slot and a single",
					"tier 2 Epic primordial spell slot.",
					"Additionally, when you cast a spell that requires that you see",
					"your target, you instead do not need to see your target and can",
					"rely on nature to guide your spell to its destination, so long as",
					"your target is within 300 feet and not hidden from you.",
				]),
				extraLimitedFeatures : [{
					name : "Tier 1 Spell Slot",
					usages : 1,
					recovery : "long rest",
					addToExisting : true,
				}],	
			},	
			"third evolved spellcasting" : {
				name : "Third Evolved Spellcasting",
				source : ["EL:HH", 52],
				submenu : "[Evolved Spellcasting]",
				addMod : [
					{ type : "", field : "SpellSlots.CheckboxesSet.lvl7", mod : 1, text : "Third Evolved Spellcasting"},
					{ type : "", field : "SpellSlots.CheckboxesSet.lvl8", mod : 1, text : "Third Evolved Spellcasting"},
					{ type : "", field : "SpellSlots.CheckboxesSet.lvl9", mod : 1, text : "Third Evolved Spellcasting"},
				],
				spellcastingBonus : {
					name : "Third Evolved Spellcasting",
					spells : ["equinox", "hail of deadly blossoms", "release the kraken", "transmogrification", "true alchemy", "wish"],
					selection : ["equinox", "hail of deadly blossoms", "release the kraken", "transmogrification", "true alchemy", "wish"],
					times : 6,
				},
				prereqeval : function(v) { return GetFeatureChoice('classes', 'primordial', 'primordial evolution', true).indexOf('second evolved spellcasting') !== -1; },	
				limfeaname : "Tier 3 Spell Slot",
				usages : 1,
				recovery : "long rest",
				description : desc([
					"You gain an additional 7th-, 8th-, and 9th-level druid spell slot.",
					"You gain a third tier 1 Epic primordial spell slot, a second tier",
					"2 Epic primordial spell slot, and a single tier 3 Epic primordial",
					"spell slot.",
					"Additionally, you add the spell wish to the list of druid spells",
					"you can prepare and cast.",
				]),
				extraLimitedFeatures : [{
					name : "Tier 1 Spell Slot",
					usages : 1,
					recovery : "long rest",
					addToExisting : true,
				}, {
					name : "Tier 2 Spell Slot",
					usages : 1,
					recovery : "long rest",
					addToExisting : true,
				}],		
			},
			"first evolved wild shape" : {
				name : "First Evolved Wild Shape",
				source : ["EL:HH", 52],
				submenu : "[Evolved Wild Shape]",
				action : "action",
				toNotesPage : [{
					name : "Wild Affixes",
					note : [
							"Adaptive: You are resistant to all damage except psychic damage.",
							"Armored: You have a +8 bonus to your Armor Class.",
							"Brutal: Once per turn, when you deal damage to a creature of a smaller size category, you may force it to attempt a Constitution saving throw against your spell save DC, being crushed by your size and strength on a failure. A creature crushed in this manner takes an additional 10d10 bludgeoning damage from the attack.",
							"Cunning: You have Epic advantage on your attacks if you have an ally within 5 feet of your target and that ally is not incapacitated.",
							"Evasive: When you succeed on a Strength, Dexterity, or Constitution saving throw and would take damage on a success, you instead take no damage.",
							"Hulking: You have 100 temporary hit points. When you finish a short or long rest, you gain 100 temporary hit points.",
							"Intuitive: You have Epic advantage on Strength, Dexterity, and Constitution ability checks.",
							"Vicious: Your attacks score a critical hit on an attack roll of 18–20.",
					],
				}],	
				description : desc([
					"As an action, you can use your Wild Shape druid feature to",
					"gain a single wild affix from the Wild Affixes table, which provides",
					"you with its listed benefits for as long as you retain that",
					"affix. You can only benefit from a single wild affix at a time, and",
					"an affix’s effects persist until you elect to change to a different",
					"affix or are slain. The effects of a wild affix apply to any form",
					"you willingly take, including those taken through your Wild",
					"Shape or spells such as polymorph or shapechange.",
					"Additionally, if you assume the form of a non-Epic creature,",
					"you are considered an Epic creature while in that form.",
				]),
			},
			"second evolved wild shape" : {
				name : "Second Evolved Wild Shape",
				source : ["EL:HH", 52],
				submenu : "[Evolved Wild Shape]",
				prereqeval : function(v) { return GetFeatureChoice('classes', 'primordial', 'primordial evolution', true).indexOf('first evolved wild shape') !== -1; },
				description : desc([
					"When you use your action to gain or change your wild affix,",
					"you can gain or change a second wild affix from the Wild Affix",
					"table, allowing you to benefit from up to two different affixes",
					"at the same time.",
					"Additionally, if the maximum challenge rating of a creature",
					"you can turn into with your Wild Shape is based on your druid",
					"level, it is instead based on your total character level.",
				]),
			},	
			"third evolved wild shape" : {
				name : "Third Evolved Wild Shape",
				source : ["EL:HH", 52],
				submenu : "[Evolved Wild Shape]",
				prereqeval : function(v) { return GetFeatureChoice('classes', 'primordial', 'primordial evolution', true).indexOf('second evolved wild shape') !== -1; },
				description : desc([
					"When you use your action to gain or change your wild affixes,",
					"you can gain or change up to three different wild affixes from",
					"the Wild Affix table, allowing you to benefit from up to three",
					"different affixes at the same time.",
					"Additionally, when you assume a new form using your Wild",
					"Shape, you may change or gain wild affixes as though you had",
					"used your action to do so.",
				]),
			},	
		},
		"mantle of the wild" : {
			name : "Mantle of the Wild",
			source : ["EL:HH", 47],
			minlevel : 4,
			description : desc([
				"our body becomes a part of nature itself, a seamless blend of",
				"flesh, plant matter, and inorganic materials. Exactly how this",
				"affects your appearance is up to you, but these elements should",
				"be visible even at a distance, unless you take efforts to conceal",
				"them. Examples of possible changes include your skin becoming",
				"rough like bark, your hair sparkling like desert sand, or",
				"your eyes glistening like water from a crystal-clear lake. These",
				"changes grant you the following benefits. If you would take the",
				"form of another creature, you may choose to retain these benefits,",
				"but the appearance of your new form is altered to reflect",
				"the aesthetics of your natural form.",
				"Immutable Form. You are immune to spells and effects that",
				"would alter your form unless you choose to be affected.",
				"Tireless Body. You are immune to the exhaustion and petrified",
				"conditions.",
			]),
		},
		"subclassfeature1" : {
			name : "Epic Druid Circle",
			source : ["EL:HH", 47-48],
			minlevel : 6,
			description : desc([
				"Your abilities as a primordial allow you to enhance the powers",
				"of your druid circle. Most druid circles are lucky to have",
				"even a single primordial among their number, making you a",
				"figure of great wisdom and knowledge to your fellow druids.",
				"In some instances, you may even become the leader of your",
				"druid circle, the details of which should be worked out with",
				"your DM.",
				"You gain the following features according to the druid circle",
				"you selected when you were advancing as a druid.",
			]),	
		},
		"landwarden" : {
			name : "Landwarden",
			source : ["EL:HH", 50],
			minlevel : 8,
			description : desc([
				"Your very presence can restore catastrophically damaged lands",
				"to pristine condition. When you begin a long rest outside of",
				"an artificial structure or object, you may choose to return the",
				"environment around you to the natural order in a 1-mile radius",
				"centered on you. Over the course of that rest, nonmagical",
				"structures in the area crumble and fade, plants regrow, pollution",
				"is purified, and local fauna returns. At the end of the rest, you",
				"awake to find the area restored to its purest natural state. If your",
				"rest is interrupted, any progress this feature made is magically",
				"undone, forcing you to start over. Additionally, while you occupy",
				"an area restored by this feature, it is considered your lair,",
				"granting you the following benefit.",
			]),
			toNotesPage : [{
				name : "Landwarden Lair Actions",
				note : [
					"Lair Actions. On initiative count 20 (losing initiative ties),",
					"you can take a lair action to cause one of the following effects.",
					"You cannot use the same effect two rounds in a row.",
					" You cast a non-Epic druid spell of 5th level or lower with a",
					"range of 5 feet or greater. This spell has its range increased",
					"to encompass the entire area of your lair.",
					" You take the Search action, making a Wisdom",
					"(Perception) ability check or an Intelligence (Investigation)",
					"ability check.",
					" You use your Wild Shape feature as though you had taken",
					"an action or bonus action to do so.",
				],
			}],	
		},
		"nature's perfection" : {
			name : "Nature's Perfection",
			source : ["EL:HH", 50],
			minlevel : 10,
			description : desc([
				"You achieve a perfect bond with nature that enhances your",
				"most powerful Primordial Evolution, as per your Primordial",
				"Evolution feature. You gain the following benefits according to",
				"which of your Primordial Evolutions you evolved the most. If",
				"one or more of your Primordial Evolutions are equally evolved,",
				"you may instead choose which benefit to gain",
			]),
			extraname : "Nature's Perfection",
			extrachoices : ["evolved communion", "evolved spellcasting", "evolved wild shape"],
			"evolved communion" : {
				name : "Evolved Communion",
				description : desc([
					"The range at which you can have",
					"bonded allies is unlimited so long as you share the same plane",
					"of existence.",
				]),
			},
			"evolved spellcasting" : {
				name : "Evolved Spellcasting",
				limfeaname : "Tier 4 Spell Slot",
				usages : 1,
				recovery : "long rest",
				description : desc([
					"You gain a special tier 4 Epic spell",
					"slot, which can be used to cast your primordial Epic spells at",
					"higher tiers beyond even tier 3. You regain this expended spell",
					"slot when you finish a long rest.",
				]),
			},
			"evolved wild shape" : {
				name : "Evolved Wild Shape",
				description : desc([
					"Choose a single form you are able to",
					"assume using your druid or primordial features or spells. While",
					"in that form you benefit from every Wild Affix as detailed in",
					"the Wild Affixes table.",
				]),
			},	
		},	
	},
};	

AddSubClass("primordial", "dreams", {
	regExpSearch : /^(?=.*(primordial))(?=.*dreams).*$/i,
	subname : "Circle of Dreams",
	source : ["EL:HH", 48],
	features : {
		"subclassfeature1" : {
			name : "Circle of Dreams",
			source : ["EL:HH", 48],
			minlevel : 6,
			limfeaname : "Dreamscape",
			usages : 1,
			recovery : "short rest",
			spellcastingBonus : {
				name : "Circle of Dreams",
				spells : ["dreamscape"],
				selection : ["dreamscape"],
				times : 1,
				firstCol : "oncesr",
			},
			description : desc([
				"You can bring dreams into reality, altering the world around",
				"you on a whim. As an action, you may cast the tier 3 Epic spell",
				"dreamscape without the need for verbal, somatic, or material",
				"components.",
				"Once you use this feature, you must finish a short or long rest",
				"before you can use it again.",
			]),
		},
	},	
});	
AddSubClass("primordial", "land", {
	regExpSearch : /^(?=.*(primordial))(?=.*land).*$/i,
	subname : "Circle of the Land",
	source : ["EL:HH", 48],
	features : {
		"subclassfeature1" : {
			name : "Circle of the Land",
			source : ["EL:HH", 48],
			minlevel : 6,		
			action : ["reaction", "when you cast a spell"],
			description : desc([
				"You have mastered an efficient magical technique based on",
				"your observance of natural processes. As a reaction to when you",
				"cast a spell or Epic spell using one of your druid or primordial",
				"spell slots, you may recycle a portion of that spell’s energy.",
				"Doing so generates a spell slot of one level or one tier lower",
				"than the spell slot you just used, up to your spell slot maximum",
				"for that level or tier. This feature produces no effect when casting",
				"cantrips, 1st-level spells, or tier 1 Epic spells.",
			]),
		},
	},	
});	
AddSubClass("primordial", "moon", {
	regExpSearch : /^(?=.*(primordial))(?=.*moon).*$/i,
	subname : "Circle of the Moon",
	source : ["EL:HH", 48],	
	features : {
		"subclassfeature1" : {
			name : "Circle of the Moon",
			source : ["EL:HH", 48],
			minlevel : 6,
			description : desc([
				"You may change your shape into a greater variety of forms. You",
				"can transform into a dragon, elemental, fey, or plant using your",
				"Wild Shape feature, provided you have seen that creature before.",
				"You do not gain legendary actions or lair actions from your",
				"new form, and if you transform into a creature with a spellcasting",
				"feature or legendary resistance feature, you cannot use either",
				"feature. At the DM’s discretion, additional restrictions may be", 
				"imposed on the capabilities of the forms you can assume.",
				"Additionally, when you use your Wild Shape feature to",
				"transform into a creature, the maximum challenge rating of a",
				"creature you can turn into is equal to your primordial level",
				"divided by two, rounded down.",
			]),
		},
	},	
});	
AddSubClass("primordial", "shepherd", {
	regExpSearch : /^(?=.*(primordial))(?=.*shepherd).*$/i,
	subname : "Circle of the Shepherd",
	source : ["EL:HH", 49],	
	features : {
		"subclassfeature1" : {
			name : "Circle of the Shepherd",
			source : ["EL:HH", 49],
			minlevel : 6,
			limfeaname : "Megalith",
			usages : 1,
			recovery : "short rest",
			spellcastingBonus : {
				name : "Circle of the Shepherd",
				spells : ["megalith"],
				selection : ["megalith"],
				times : 1,
				firstCol : "oncesr",
			},
			description : desc([
				"Nature is always ready to aid you in battle, sending its mightiest",
				"protectors to serve your cause. When you roll initiative,",
				"you can choose to entreat nature for aid, causing the tier 2",
				"Epic spell megalith to be cast immediately and instantly as",
				"though you had cast it without the need for any verbal, somatic,",
				"or material components. This effort does not come from",
				"you, nor do you need to concentrate on the spell to maintain",
				"its effect. However, the spell must still meet the necessary terrain",
				"requirements to be cast or the effect fails. Once you use",
				"this feature, you must finish a short or long rest before you",
				"can use it again.",
			]),
		},
	},
});	
AddSubClass("primordial", "stars", {
	regExpSearch : /^(?=.*(primordial))(?=.*stars).*$/i,
	subname : "Circle of Stars",
	source : ["EL:HH", 49],
	features : {
		"subclassfeature1" : {
			name : "Circle of Stars",
			source : ["EL:HH", 49],
			minlevel : 6,
			description : desc([
				"The celestial heavens are at your beck and call, bringing their",
				"infinite cosmic power to bear. When you take an action, bonus",
				"action, or reaction, you may expend a spell slot (no action",
				"required) and offer its power to the heavens. When you do so,",
				"at the end of your turn, for each spell slot expended, a radiant star",
				"falls in a space of your choice that you can see within 500 feet.",
				"If a creature occupies that space, it takes 1d12 radiant damage,",
				"plus an additional 1d12 radiant damage per level of the spell",
				"slot expended. If the creature is friendly toward you, you may",
				"choose to instead have the creature magically regain a number",
				"of hit points equal to the damage rolled.",
			]),
		},
	},
});	
AddSubClass("primordial", "wildfire", {
	regExpSearch : /^(?=.*(primordial))(?=.*wildfire).*$/i,
	subname : "Circle of Wildfire",
	source : ["EL:HH", 49],	
	features : {
		"subclassfeature1" : {
			name : "Circle of Wildfire",
			source : ["EL:HH", 49],
			minlevel : 6,
			description : desc([
				"The purifying power of fire swells within you, manifesting as",
				"the flames of the mighty phoenix. When you would deal damage",
				"other than fire damage, you may instead deal fire damage.",
				"Additionally, when you deal fire damage to a creature, you",
				"may instead cause it to regain a number of hit points equal to",
				"the fire damage it would have taken before its damage resistances",
				"and immunities were applied.",
			]),
		},
	},
});		
AddSubClass("primordial", "woad", {
	regExpSearch : /^(?=.*(primordial))(?=.*woad).*$/i,
	subname : "Circle of the Woad",
	source : ["EL:HH", 50],	
	features : {
		"subclassfeature1" : {
			name : "Circle of Woad",
			source : ["EL:HH", 49],
			minlevel : 6,
			description : desc([
				"When you use your Wild Shape feature to transform into a",
				"plant, you can choose to transform into a creature that once",
				"walked the world before creatures of flesh defiled it, the arbor",
				"titan. Once you use this feature, you must finish a long rest",
				"before you can use it again.",
			]),
		},
	},
});	

CreatureList = {
	"arbor titan" : {
		name : "Arbor Titan",
		nameAlt : ["Titan, Arbor"],
		source : ["EL:HH", 49],
		size : 1,
		type : "Plant",
		alignment : "Chaotic Neutral",
		ac : 22,
		hp : 527,
		hd : [34, 12],
		speed : "50 ft",
		scores : [27, 10, 28, 14, 18, 6],
		saves : [15, "", 16, "", 11, ""],
		skills : {
			"nature" : 9,
			"perception" : 11,
		},
		damage_vulnerabilities : "fire",
		damage_immunities : ["bludgeoning", "piercing"],
		senses : "Arborsight 60 ft",
		languages : ["Common", "Druidic", "Elvish", "Sylvan"],
		challengeRating : "Epic 2",
		proficiencyBonus : 7,
		attacksAction : 3,
		attacks : [{
			name : "Slam",
			ability : 1,
			damage : [8, 10, "bludgeoning"],
			range : "Melee (15 ft)",
			description : "The titan makes three attacks, or one attack and one other action."
		}, {
			name : "Vine",
			ability : 1,
			damage : [4, 6, "piercing"],
			range : "Melee (25 ft)",
			dc : true,
			description : "the target is grappled (escape DC 23) and restrained.",
		}],
		traits : [{
			name : "Arborsight",
			description : "Creatures that aren’t plants within 60 feet of the titan cannot be hidden or invisible to it.",
		}, {
			name : "False Appearance",
			description : "While the titan remains motionless, it is indistinguishable from a nonmagical plant of its choice of the same size.",
		}, {
			name : "Magic Protection",
			description : "The titan takes half damage from spells of 5th level or lower and automatically succeeds on saving throws against such spells.",
		}, {
			name : "Natural Defender",
			description : "The titan deals double damage to objects and structures. On each of its turns, it can spend half of its movement to deal 50 points of bludgeoning damage to an object or structure within 5 feet of it.",
		}],
		actions : [{
			name : "Subsume (1/Day)",
			description : desc([
				"One living creature that isn’t a plant",
				"that the titan can see within 5 feet of it must succeed",
				"on a DC 24 Constitution saving throw or have its",
				"body merge with the titan’s; the titan then disappears,",
				"and the target is incapacitated and loses control of its",
				"body. The titan now controls the body (acting on the",
				"titan’s turn) but doesn’t deprive the target of awareness.",
				"The titan can’t be targeted by any attack, spell, or other",
				"effect. It retains its alignment, Intelligence, Wisdom,",
				"and Charisma, and it cannot be charmed or frightened.",
				"It otherwise uses the merged target’s statistics but",
				"doesn’t gain access to the target’s knowledge, features,",
				"or proficiencies. At the start of each of its turns, the",
				"creature the titan is merged with has its hit point",
				"maximum reduced by 50. The merge lasts until the body",
				"drops to 0 hit points, the titan ends it as a bonus action,",
				"or the target receives 100 or more hit points of magical",
				"healing from an Epic effect. When the merge ends, the",
				"titan appears in an unoccupied space within 5 feet of the",
				"target.",
			]),	
		}],
		wildshapeString : "Arborvision 60 ft| Knows Common, Elvish, Sylvan, Druidic| Vulnerable to: fire damage| Immune to: bludgeoning and piercing| Arborsight: Creatures that aren’t plants within 60 feet of the titan cannot be hidden or invisible to it., False Appearance: While the titan remains motionless, it is indistinguishable from a nonmagical plant of its choice of the same size., Magic Protection: The titan takes half damage from spells off 5th level or lower and automatically succeeds on saving throws against such spells., Natural Defender: The titan deals double damage to objects and structures. On each of its turns, it can spend half of its movement to deal 50 points of bludgeoning damage to an object or structure within 5 feet of it.| Subsume (1/Day): see Epic Legacy: Hero's Handbook page 49"
	},
};	

ClassList.ascendant = {
	
regExpSearch : /dreadnought/i,
	name : "Dreadnought",
	source : [["EL:HH", 53]],
	primaryAbility : ["Strength"],
	abilitySave : 1,
	prereqs : "Strength 13",
	improvements : [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10],
	scoresMaximum : [30, 30, 30, 30, 30, 30],
	die : 10,
	subclasses : ["Epic Martial Archetype", []],
	attacks : [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
	SpellcastingAbility : 4,
	features : {
		"proficiencies" : {
			name : "Proficiencies", 
			source : ["EL:HH", 54],
			minlevel : 1,
			description : "\n   " + "Saving Throws. You gain proficiency in a single saving throw of your choice. Use the Choose Feature button on the second page to select your proficiency",
			extraname : "Bonus Saving Throw",
			extrachoices : ["Dexterity", "Intelligence", "Wisdom", "Charisma"],
			"dexterity" : {
				name : "Dexterity",
				description : "\n   " + "You gain proficiency in Dexterity Saving Throws",
				saves : ["Dex"],
			},	
			"intelligence" : {
				name : "Intelligence",
				description : "\n   " + "You gain proficiency in Intelligence Saving Throws",
				saves : ["Int"],
			},
			"wisdom" : {
				name : "Wisdom",
				description : "\n   " + "You gain proficiency in Wisdom Saving Throws",
				saves : ["Wis"],
			},	
			"charisma" : {
				name : "Charisma",
				description : "\n   " + "You gain proficiency in Charisma Saving Throws",
				saves : ["Cha"],
			},	
		},	
		"epic feat" : {
			name : "Epic Feat",
			source : ["EL:HH", 54],
			minlevel : 1,
			description : "\n   " + "When you reach 21st level, and again at 25th and 29th level, you may select one Epic feat from the Epic feat list detailed in chapter 3. You may forgo taking an Epic feat to instead increase one ability score of your choice by 4, or you can increase two ability scores of your choice by 2.",
		},
		"epic fighting style" : {
			name : "Epic Fighting Style",
			source : ["EL:HH", 54],
			minlevel : 1,
			description : desc([
				"Beginning at 21st level, you improve on the fighting styles you",
				"have mastered during your career as a warrior. You lose any",
				"fighting styles you gained while advancing as a fighter, which",
				"are replaced with their corresponding Epic versions, as detailed",
				"in the Epic Fighting Styles table.",
			]),
			extraname : "Epic Fighting Style",
			extrachoices : ["epic archery", "epic blind fighting", "epic defense", "epic dueling", "epic great weapon fighting", "epic interception", "epic protection", "epic superior technique", "epic thrown weapon fighting", "epic two-weapon fighting", "epic unarmed fighting"],
			"epic archery" : {
				name : "Epic Archery",
				description : desc([
					"You gain a +4 bonus to attack rolls you make with ranged weapons.",
				]),
				calcChanges : {
					atkCalc : [
						function (fields, v, output) {
							if (v.isRangedWeapon && !v.isNaturalWeapon && !v.isDC) output.extraHit += 2;
						},
						"My ranged weapons get an extra +2 bonus on the To Hit."
					]
				}
			},
			"epic blind fighting" : {
				name : "Epic Blind Fighting",
				description : desc([
					"You have blindsight with a range of 30 ft. Within that range, you can effectively",
					"see anything that isn’t behind total cover, even if you’re blinded or in darkness,",
					"including invisible creatures that are not hidden from you.",
				]),
				vision : [["Blindsight", 30]],
			},
			"epic defense" : {
				name : "Epic Defense",
				description : desc([
					"While you are wearing armor, you gain a +3 bonus to AC and have resistance to",
					"bludgeoning, piercing, and slashing damage from non-Epic sources.",
				]),
				dmres : ["Bludgeoning", "Piercing", "Slashing"],
				extraAC : {
					name : "Epic Defense Fighting Style", // necessary for features referring to fighting style properties directly
					mod : 2,
					text : "I gain an additional +2 bonus to AC while wearing armor.",
					stopeval : function (v) { return !v.wearingArmor; }
				},
			},
			"epic dueling" : {
				name : "Epic Dueling",
				descriptiong : desc([
					"When you are wielding a melee weapon in one hand and no other weapons, you",
					"gain a +4 bonus to damage rolls with that weapon.",
				]),
				calcChanges : {
					atkCalc : [
						function (fields, v, output) {
							for (var i = 1; i <= FieldNumbers.actions; i++) {
								if ((/off.hand.attack/i).test(What('Bonus Action ' + i))) return;
							}
							if (v.isMeleeWeapon && !v.isNaturalWeapon && !(/((^|[^+-]\b)2|\btwo).?hand(ed)?s?\b/i).test(fields.Description)) output.extraDmg += 2;
						},
						"When I'm wielding a melee weapon in one hand and no weapon in my other hand, I do an additioal +2 damage with that melee weapon. This condition will always be false if the bonus action 'Off-hand Attack' exists."
					],
				},
			},
			"epic great weapon fighting" : {
				name : "Epic Great Weapon Fighting",
				description : desc([
					"When you roll a 3 or lower on a damage die for an attack you make with a melee",
					"weapon with the two-handed or versatile property, you instead roll a 4",
				]),
				calcChanges : {
					atkAdd : [
						function (fields, v) {
							if (v.isMeleeWeapon && (/(\bversatile|((^|[^+-]\b)2|\btwo).?hand(ed)?s?)\b/i).test(fields.Description)) {
								fields.Description += (fields.Description ? '; ' : '') + 'Rolls of 3 or lower damage die count as 4' + ((/versatile/i).test(fields.Description) ? ' when two-handed' : '');
							}
						},
						"While wielding a two-handed or versatile melee weapon in two hands, Rolls of 3 or lower damage die count as 4."
					],
				},
			},
			"epic interception" : {
				name : "Epic Interception",
				description : desc([
					"As a reaction when a creature you can see hits another target within 5 ft. of you",
					"with an attack, you may reduce the damage the target takes by an amount equal to",
					"your character level. You must be wielding a shield or weapon to use this reaction.",
				]),
				action : ["reaction", ""],
			},	
			"epic protection" : {
				name : "Epic Protection",
				description : desc([
					"As a reaction when a creature you can see attacks another target that is within",
					"5 ft. of you, you can impose Epic disadvantage on the attack roll. You must be",
					"wielding a shield to use this reaction, and if the attack misses its target, you gain an",
					"additional reaction, which lasts until the start of your next turn.",
				]),
				action : ["reaction", ""],
			},
			"epic superior technique" : {
				name : "Epic Superior Technique",
				description : desc([
					"You learn three maneuvers of your choice. If a maneuver you use requires your",
					"target to make a saving throw to resist the maneuver’s effects, the saving throw",
					"DC equals 8 + your proficiency bonus + your Strength or Dexterity modifier (your",
					"choice).",
					"Additionally, you have a number of superiority dice to use these maneuvers equal",
					"to half your dreadnought level (rounded down, minimum of 1), which are d8s.",
					"You regain your expended superiority dice when finish a short or long rest. If you",
					"already have a subclass feature that provides dice for these maneuvers, these dice",
					"are instead added to that feature’s dice.",
				]),
				bonusClassExtrachoices : [{
					"class" : "fighter",
					"subclass" : "fighter-battle master",
					"feature" : "subclassfeature3.1",
					"bonus" : 2	
				}],
				extraLimitedFeatures : [{
					name : "Combat Superiority",
					usages : [1, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5],
					additional : 'd8',
					recovery : "short rest",
					addToExisting : true
				}],
			},	
			"epic thrown weapon fighting" : {
				name : "Epic Thrown Weapon Fighting",
				description : desc([
					"If you would need to draw a weapon with the thrown property to make a ranged",
					"weapon attack with it on a turn, you may do so as a part of making that attack.",
					"Additionally, when you hit with a ranged weapon attack with a thrown weapon,",
					"you gain a +4 bonus to the damage roll.",
				]),
				calcChanges : {
					atkAdd : [
						function (fields, v) {
							if (v.isThrownWeapon && v.isMeleeWeapon) {
								fields.Description += (fields.Description ? '; ' : '') + '+2 damage when thrown';
							}
						},
						"I deal an additional +2 damage when I hit a ranged attack made with a thrown weapon."
					],
					atkCalc : [
						function (fields, v, output) {
							if (v.isThrownWeapon && !v.isMeleeWeapon) {
								output.extraDmg += 2;
							}
						},
						""
					]
				}
			},	
			"epic two-weapon fighting" : {
				name : "Epic Two-Weapon Fighting",
				description : desc([
					"When you engage in two-weapon fighting, you can add your attack’s ability",
					"modifier to the damage of any attack you make. Additionally, when you use your",
					"bonus action to make an attack with your off-hand weapon, you may attack twice",
					"instead of once.",
				]),
				action : ["bonus action", "Off-hand attacks (2)"],
			},	
			"epic unarmed fighting" : {
				name : "Epic Unarmed Fighting",
				description : desc([
					"Your unarmed strikes deal bludgeoning damage equal to 1d12 + your Strength",
					"modifier on a hit.",
					"Additionally, at the start of each of your turns, you can deal 1d12 bludgeoning",
					"damage to creatures grappled by you.",
				]),
				calcChanges : {
					atkAdd : [
						function (fields, v) {
							if (v.baseWeaponName == "unarmed strike") {
								if (fields.Damage_Die == 1 || fields.Damage_Die == "1d4" || fields.Damage_Die == "1d6") fields.Damage_Die = '1d12';
								fields.Description += (fields.Description ? '; ' : '') + 'at start of turn if grappling deal 1d12';
							}
						},
						"My unarmed strikes deal 1d12 damage instead of 1, at the start of each of your turns, you can deal 1d12 bludgeoning damage to creatures grappled by you.",
						1
					],
				},
			},
		},	
		"combat stances" : {
			name : "Combat Stances",
			source : ["EL:HH", 54],
			minlevel : 2,
			description : desc([
				"You master extraordinary techniques that afford tremendous advantages",
				"in battle called combat stances. You learn two combat",
				"stances of your choice, as detailed in the “Combat Stances” section.",
				"You learn additional combat stances as you advance as a dreadnought",
				"according to the dreadnought class progression table.",
				"Once per round when you are in combat, as a bonus action",
				"you may enter a combat stance that you know, gaining the benefits",
				"detailed in that combat stance’s description. When you do",
				"so, you leave any existing combat stances you may be in, losing",
				"their benefits. A combat stance lasts until you are no longer in",
				"combat or become incapacitated.",
				"Epic Strikes. Each combat stance has a unique feature called",
				"an Epic strike, which is an extremely powerful technique only",
				"a dreadnought possesses the martial skill to perform while in",
				"that combat stance. A combat stance’s description details how",
				"and when an Epic strike may be used. When you make an Epic",
				"strike, you make a single weapon attack against a creature within",
				"range or cast a spell of 1st level or higher with a casting time",
				"of 1 action.",
			]),
			extraname : "Combat Stances",
			extrachoices : ["aegis stance", "brawling stance", "defensive stance", "juggernaut stance", "razorwinds stance", "sentinel stance", "skirmishing stance", "sniper stance", "steelbreaker stance", "surging stance", "throwning stance", "warmage stance"],
			extraTimes : levels.map(function (n) {
					return n < 2 ? 0 : n < 4 ? 2 : n < 6 ? 3 : n < 8 ? 4 : n < 10 ? 5 : 6;
			}),
			"aegis stance" : {
				name : "Aegis Stance",
				description : desc([
					"You masterfully defend yourself against incoming attacks, using",
					"your armor to its full advantage. While you are in this stance,",
					"wearing armor, and wielding a shield, you gain a +5 bonus to",
					"your Armor Class, and creatures cannot have advantage or Epic",
					"advantage on attacks against you.",
					"Epic Strike: Shining Lance",
					"As an action, you lash out with a single blow of unparalleled",
					"precision, making a single weapon attack or casting a spell that",
					"requires a spell attack. If this attack would miss, it instead hits",
					"and deals radiant damage instead of its normal damage type.",
					"Damage Multiplier: Damage dealt by this Epic strike is doubled.",
				]),
				action : ["action", "Shining Lance"],
			},	
			"brawling stance" : {
				name : "Brawling Stance",
				description : desc([
					"Your skills in grappling are legendary. While you are in this",
					"stance, you may attempt a grapple as a bonus action, and you",
					"have Epic advantage on ability checks to grapple a creature or",
					"when making contests to maintain a grapple.",
					"Additionally, if a creature is freed from your grapple by any",
					"means, it provokes an opportunity attack from you before it escapes",
					"your grapple.",
					"Epic Strike: Crushing Grip",
					"As an action, you tighten your grip on a creature you are grappling,",
					"crushing it with your strength. Instead of making a",
					"weapon attack as a part of this Epic strike, you instead attempt",
					"a Strength (Athletics) ability check contested by the target’s",
					"Strength (Athletics) or Dexterity (Acrobatics) ability check",
					"(target’s choice). On a success, you automatically hit the target",
					"with an unarmed strike attack, and the target is restrained until",
					"the grapple ends.",
					"Damage Multiplier: Damage dealt by this Epic strike is quadrupled.",
				]),
				action : ["aciton", "Crushing Grip"],
			},	
			"defensive stance" : {
				name : "Defensive Stance",
				description : desc([
					"You are the shield that guards your allies from harm, able to",
					"withstand devastating blows with ease. While you are in this",
					"stance and wearing armor, you are resistant to all damage except",
					"psychic damage.",
					"Epic Strike: Counterstrike",
					"As an action, you take the Ready action to prepare a blow of",
					"catastrophic power to intercept your enemy’s attacks with a",
					"weapon attack or a spell that deals damage. As a reaction to",
					"when a creature you can see makes a successful attack, you may",
					"use your readied Epic strike to move up to twice your speed",
					"toward that creature. If you end this movement and the attacking",
					"creature is within range of your weapon attack or spell, you",
					"may make your readied attack or cast your readied spell against",
					"that creature. The damage of the creature’s attack is reduced by",
					"the damage it takes from your attack or spell.",
					"Damage Multiplier: Damage dealt by this Epic strike is tripled.",
				]),
				action : ["action", "Counterstrike"],
			},	
			"juggernaut stance" : {
				name : "Juggernaut Stance",
				description : desc([
					"You know how to best maximize your own durability in combat.",
					"While you are in this stance, you may add your Constitution",
					"modifier to your weapon attack and damage rolls instead of",
					"your Strength or Dexterity modifier, and you cast spells without",
					"the need for somatic and/or material components.",
					"Additionally, at the end of each of your turns, if you have no",
					"uses of your Second Wind feature, you regain one use.",
					"Epic Strike: Unstoppable Blow",
					"As an action, you let loose a mighty war cry and make a single",
					"weapon attack or cast a spell. If a non-Epic spell or effect would",
					"prevent you from taking this action, the spell or effect ends, and",
					"you must immediately make the Epic strike. If an Epic spell or",
					"effect with a save DC would prevent you from making an Epic",
					"strike, you may attempt a Constitution saving throw against",
					"the spell or effect’s DC to become immune to the spell or effect",
					"until the end of your turn. If the effect is suppressed because",
					"you succeeded on this saving throw, you may immediately make",
					"the Epic strike.",
					"Damage Multiplier: Damage dealt by this Epic strike is doubled.",
				]),
				action : ["action", "Unstoppable Blow"],
			},
			"razorwind stance" : {
				name : "Razorwind Stance",
				description : desc([
					"You can effortlessly wield two weapons at the same time, striking",
					"with vicious flurries of attacks. While you are in this stance",
					"and engage in two-weapon fighting, attacks made with your",
					"weapons are made with Epic advantage.",
					"Epic Strike: Hail of Steel",
					"As an action while you are dual wielding, you unleash a withering",
					"series of blows that dice your foes to ribbons, making a",
					"single weapon attack with both of your weapons. If both attacks",
					"hit the same target and you are not incapacitated, you",
					"may immediately make this Epic strike again against the same",
					"target (no action required). You cannot make this Epic strike",
					"more than five times each time you use this Epic Strike.",
					"Damage Multiplier: Damage dealt by this Epic strike is not multiplied.",
				]),
				action : ["action", "Hail of Steel"],
			},
			"sentinel stance" : {
				name : "Sentinel Stance",
				description : desc([
					"With perfect poise and patience, you strike foes when they least",
					"expect it. While you are in this stance and use your reaction to",
					"make a successful opportunity attack, at the end of that turn",
					"you gain an additional reaction that lasts until the start of your",
					"next turn.",
					"Epic Strike: Incision of a Thousand Diamonds",
					"As an action, you strike in a way to open a perfect window for",
					"your allies, allowing them to join you in the assault. You make",
					"a single weapon attack or cast a spell that affects one or more",
					"enemy creatures. Each creature attacked or affected in this manner",
					"provokes an opportunity attack from allied creatures within reach.",
					"Damage Multiplier: Damage dealt by this Epic strike is doubled.",
				]),
				action : ["action", "Incision of a Thousand Diamonds"],
			},	
			"skirmishing stance" : {
				name : "Skirmishing Stance",
				description : desc([
					"You move about the battlefield with extreme ease, avoiding",
					"your foes to find the perfect position to attack. While you are",
					"in this stance, your movement speed is doubled, you are unaffected",
					"by difficult terrain, and non-Epic spells and magical effects",
					"cannot reduce your speed.",
					"Epic Strike: One Step Ahead",
					"As an action, you strike your foe while preparing for its next",
					"move, preventing its escape. You make a single weapon attack",
					"or cast a spell that affects a single enemy creature. If the target",
					"of that attack or spell ends its next turn in a space different than",
					"the one it occupied when you made this Epic strike, you may",
					"use your reaction to move up to your speed toward the target",
					"and make this Epic strike again.",
					"Damage Multiplier: Damage dealt by this Epic strike is doubled.",
				]),
				action : ["action", "One Step Ahead"],
			},	
			"sniper stance" : {
				name : "Sniper Stance",
				description : desc([
					"Aiming with godlike precision, you can deliver lethal attacks at",
					"extreme range. You cannot enter this stance if you have moved",
					"on your turn or have left the space you started your turn in.",
					"While in this stance, your speed is 0 and you cannot willingly",
					"leave your space. However, your successful ranged weapon and",
					"spell attacks always deal damage as though they had scored a",
					"critical hit.",
					"Epic Strike: Find the Center",
					"As an action, you fire a ranged attack that deals extreme",
					"damage to those it hits. You make a single ranged weapon",
					"attack or cast a spell that requires a ranged spell attack.",
					"The range for attacks or spells made with this Epic strike is",
					"quadrupled.",
					"Damage Multiplier: Damage dealt by this Epic strike is quadrupled.",
				]),
				action : ["action", "Find the Center"],
			},	
			"steelbreaker stance" : {
				name : "Steelbreaker Stance",
				description : desc([
					"Your attacks and spells sunder enemy armor, crushing their",
					"defenses with relentless power. While you are in this stance,",
					"if a creature has resistance to damage dealt by you, it instead",
					"does not have resistance. If a creature would be immune to",
					"damage dealt by you, it instead has resistance to damage dealt",
					"by you.",
					"Epic Strike: Overwhelming Assault",
					"As an action, you open a hole in your enemy’s defenses, making",
					"it vulnerable to you and your allies. You make a single",
					"melee weapon attack or cast a spell that requires a melee spell",
					"attack.",
					"Damage Multiplier: Damage dealt by this Epic strike is",
					"doubled. If the attack exceeds the target’s AC by 5 or more,",
					"the damage multiplication increases by one for every interval",
					"of 5 it exceeds the target’s AC (tripled becomes quadrupled,",
					"quadrupled becomes quintupled, etc.).",
				]),
				action : ["action", "Overwhelming Asault"],
			},	
			"surging stance" : {
				name : "Surging Stance",
				description : desc([
					"You can transfer the power of your movement into your attacks,",
					"darting about the battlefield to deliver punishing hits. While",
					"you are in this stance, if you move at least 10 feet in a straight",
					"line and immediately make a melee weapon or spell attack at",
					"the end of that movement, you have a +5 bonus to that attack",
					"roll.",
					"Epic Strike: Meteoric Blow",
					"As an action, you strike a target with such force as to knock",
					"it flying into obstacles and terrain. You make a single weapon",
					"attack roll or cast a spell that requires a melee spell attack. On",
					"a successful hit, the target must attempt a Strength (Athletics)",
					"ability check contested by your Strength (Athletics) ability",
					"check. If the target fails, it is pushed up to 100 feet in a straight",
					"line away from you and knocked prone. On a critical hit, the",
					"target is pushed an additional 100 feet.",
					"Damage Multiplier: Damage dealt by this Epic strike is doubled.",
				]),
				action : ["action", "Meteoric Blow"],
			},	
			"throwning stance" : {
				name : "Throwing Stance",
				description : desc([
					"You can hurl weapons with physics-defying precision, leaving",
					"your enemies awestruck and severely damaged. When you",
					"would make a ranged weapon attack with a thrown weapon,",
					"you may throw a second weapon with the thrown property as",
					"a part of that attack using the same hand(s). The attack’s damage",
					"is increased by the second weapon’s damage dice plus the",
					"attack’s ability modifier.",
					"Additionally, the short and long range of weapons you wield",
					"with the thrown property is increased by 60 feet.",
					"Epic Strike: Deadeye",
					"As an action, you hurl a weapon in a manner that circumvents",
					"any cover or defense. Make a single ranged weapon attack with",
					"a thrown weapon against a target you are aware of within range.",
					"So long as you target a space the target is occupying, this attack",
					"automatically hits, regardless of whether your target has total",
					"cover or other protections against your attacks. When this attack",
					"hits, you still roll a d20 to determine whether you scored",
					"a critical hit.",
					"Damage Multiplier: Damage dealt by this Epic strike is tripled.",
				]),
				action : ["action", "Deadeye"],
			},	
			"warmage stance" : {
				name : "Warmage Stance",
				description : desc([
					"Your magic charges your weapon with arcane energy that can",
					"cleave through even the heartiest foes. While you are in this",
					"stance, you may add either your Strength or Dexterity modifier",
					"to your spell save DC and spell attack rolls, in addition to your",
					"normal modifiers.",
					"Epic Strike: Arcane Evisceration",
					"As an action, you empower your magic well beyond its normal",
					"limits by combining it with martial prowess. Make a single",
					"weapon attack or cast a spell that requires a spell attack. On a",
					"successful hit, the next spell that is not a cantrip you cast before",
					"the end of your next turn is treated as though you had expended",
					"an 8th-level spell slot to cast it, regardless of what level spell",
					"slot you used to cast the spell.",
					"Damage Multiplier: Damage dealt by this Epic strike is not multiplied.",
				]),
				action : ["action", "Arcane Evisceration"],
			},	
		},
		"supplimental training" : {
			name : "Supplimental Training", 
			source : ["EL:HH", 56],
			minlevel : 4,
			description : desc([
				"When you reach 22nd level, and again at 24th, 26th, 28th, and",
				"30th level, you can continue training other elements of your",
				"body and mind in the background while you advance your other",
				"Epic abilities. You can increase one ability score of your choice",
				"by 2, or two ability scores of your choice by 1. You can’t increase",
				"an ability score above 20 using this feature. If you are using the",
				"5th Edition feats variant, you can instead select a non-Epic feat.",
			]),
		},
		"subclassfeature1" : {
			name : "Epic Martial Archetype",
			source : ["EL:HH", 56],
			minlevel : 6,
			description : desc([
				"The powerful new techniques you’ve developed as a dreadnought",
				"allow you to improve your martial archetype. You gain",
				"the following features according to the martial archetype you",
				"selected when you were advancing as a fighter.",
			]),
		},	
		"peerless veteran" : {
			name : "Peerless Veteran",
			source : ["EL:HH", 57],
			minlevel : 8,
			description : desc([
				"Your vast combat experience allows you to change your techniques",
				"with remarkable efficiency. When you enter or change a",
				"combat stance, you may do so with no action required, instead",
				"of as a bonus action. You may still only change or enter a stance",
				"once per round on each of your turns.",
			]),
		},	
		"legendary champion" : {
			name : "Legendary Champion",
			source : ["EL:HH", 57],
			minlevel : 10,
			description : desc([
				"You have no equal on the field of battle, unleashing mighty attacks",
				"of unrelenting power. When you take the Attack action,",
				"you may make a single Epic strike from those listed in combat",
				"stances you know as a part of that action. When you use your",
				"action to make only an Epic strikes from those listed in combat",
				"stances you know, you may make two Epic strikes instead of",
				"one as a part of that action.",
			]),
		},
	},
};	
AddSubClass("dreadnought", "arcane archer", {
	regExpSearch : /^(?=.*(dreadnought))(?=.*(arcane archer)).*$/i,
	subname : "Arcane Archer Martial Archetype",
	source : ["EL:HH", 56],	
	features : {
		"subclassfeature1" : {
			name : "Arcane Archer Martial Archetype",
			source : ["EL:HH", 56],
			minlevel : 6,
			description : desc([
				"Your expertise in the fields of magic and archery allow you to",
				"perfectly blend your mystic weaponry with martial skill. When",
				"you hit a creature with an Epic strike using a shortbow or longbow,",
				"you may apply one of your Arcane Shot options to the attack.",
				"When you do so, you do not expend a use of your Arcane",
				"Shot feature. If you do not have any uses of your Arcane Shot",
				"feature, you cannot benefit from this feature.",
				"Additionally, when you use your Action Surge fighter feature,",
				"you also regain all expended uses of your Arcane Shot feature.",
			]),
		},
	},
});
AddSubClass("dreadnought", "battle master", {
	regExpSearch : /^(?=.*(dreadnought))(?=.*(battle master)).*$/i,
	subname : "Battle Master Martial Archetype",
	source : ["EL:HH", 56],	
	features : {
		"subclassfeature1" : {
			name : "Battle Master Martial Archetype",
			source : ["EL:HH", 56],
			minlevel : 6,
			description : desc([
				"You can unleash a dizzying number of maneuvers by pushing",
				"yourself to your limit. As a bonus action, you can expend a use",
				"of your Action Surge feature to regain all of your expended",
				"superiority dice.",
			]),
			action : ["bonus action", "Expend Action Surge, Regain All Superiority Dice"],
		},
	},
});
AddSubClass("dreadnought", "cavalier", {
	regExpSearch : /^(?=.*(dreadnought))(?=.*cavalier).*$/i,
	subname : "Cavalier Martial Archetype",
	source : ["EL:HH", 56],	
	features : {
		"subclassfeature1" : {
			name : "Cavalier Martial Archetype",
			source : ["EL:HH", 56],
			minlevel : 6,
			description : desc([
				"You and your mount fight as one, a perfect synergy that devastates",
				"your enemies. While you are mounted, your mount cannot",
				"be charmed or frightened unless you are also charmed or",
				"frightened, and your mount’s speed cannot be reduced below",
				"half its base movement speed.",
				"Additionally, while you are mounted, your critical hits roll all",
				"your attack’s damage dice three times, instead of twice. If you",
				"score a critical hit with a lance, you instead roll your attack’s",
				"damage dice four times.",
			]),
		},
	},
});
AddSubClass("dreadnought", "champion", {
	regExpSearch : /^(?=.*(dreadnought))(?=.*champion).*$/i,
	subname : "Champion Martial Archetype",
	source : ["EL:HH", 56],	
	features : {
		"subclassfeature1" : {
			name : "Champion Martial Archetype",
			source : ["EL:HH", 56],
			minlevel : 6,
			description : desc([
				"You don’t bother with fancy tricks or overcomplicated techniques—",
				"instead, you focus on causing death with every blow.",
				"Your weapon attacks score a critical hit on a roll of 16–20.",
			]),
		},
	},
});
AddSubClass("dreadnought", "eldritch knight", {
	regExpSearch : /^(?=.*(dreadnought))(?=.*(eldritch knight)).*$/i,
	subname : "Eldritch Knight Martial Archetype",
	source : ["EL:HH", 56],	
	features : {
		"subclassfeature1" : {
			name : "Edritch Knight Martial Archetype",
			source : ["EL:HH", 56],
			minlevel : 6,
			description : desc([
				"You can combine your magic with your mightiest attacks, creating",
				"a frighteningly powerful combination of magic and steel.",
				"When you cast a spell by expending an Eldritch Knight spell",
				"slot as a part of making an Epic strike, you may treat that spell",
				"as if you had cast it using a 4th-level spell slot, regardless of the",
				"actual spell slot level used to cast the spell.",
				"Additionally, when you use your Action Surge feature, you",
				"regain all expended eldritch knight spell slots.",
			]),
		},
	},
});
AddSubClass("dreadnought", "gladiator", {
	regExpSearch : /^(?=.*(dreadnought))(?=.*gladiator).*$/i,
	subname : "Gladiator Martial Archetype",
	source : ["EL:HH", 56],	
	features : {
		"subclassfeature1" : {
			name : "Gladiator Martial Archetype",
			source : ["EL:HH", 56],
			minlevel : 6,
			description : desc([
				"You can use a creature you are grappling as an improvised weapon.",
				"When you deal damage to a target using a creature as an",
				"improvised weapon, the creature being used as the weapon takes",
				"bludgeoning damage equal to the damage dealt by the attack.",
			]),
		},
	},
});
AddSubClass("dreadnought", "psi warrior", {
	regExpSearch : /^(?=.*(dreadnought))(?=.*(psi warrior)).*$/i,
	subname : "Psi Warrior Martial Archetype",
	source : ["EL:HH", 56],	
	features : {
		"subclassfeature1" : {
			name : "Psi Warrior Martial Archetype",
			source : ["EL:HH", 56],
			minlevel : 6,
			description : desc([
				"Your psionic potential has reached its zenith, seamlessly blending",
				"your mind and body into a deadly martial weapon. When",
				"you score a hit with an Epic attack, you may roll a number of",
				"your Psionic Energy dice granted by your subclass feature, up to",
				"your Intelligence modifier, to gain one of the following benefits:",
				"You are surrounded by a shield of psionic energy for 1",
				"minute, granting you a number of temporary hit points",
				"equal to the amount rolled on the Psionic Energy dice.",
				"The target becomes charged with harmful psionic energy",
				"until the end of its next turn or until it deals damage to",
				"one if its enemies, whichever comes first. If the target deals",
				"damage to one of its enemies, it takes psychic damage equal",
				"to the amount rolled.",
				"Additionally, when you use your Action Surge, you regain all",
				"your expended Psionic Energy dice.",
			]),
		},
	},
});
AddSubClass("dreadnought", "purple dragon knight", {
	regExpSearch : /^(?=.*(dreadnought))(?=.*(purple dragon knight)).*$/i,
	subname : "Purple Dragon Knight Martial Archetype",
	source : ["EL:HH", 56-57],	
	features : {
		"subclassfeature1" : {
			name : "Purple Dragon Knight Martial Archetype",
			source : ["EL:HH", 56-57],
			minlevel : 6,
			description : desc([
				"You are a nearly endless source of strength and courage for your",
				"allies. While you aren’t incapacitated, allies within 60 feet of",
				"you that can see or hear you are proficient in any saving throws",
				"in which you are proficient.",
				"Additionally, when you would use your Indomitable feature",
				"to reroll a failed saving throw, you instead automatically succeed",
				"on that saving throw.",
			]),
		},
	},
});
AddSubClass("dreadnought", "rune knight", {
	regExpSearch : /^(?=.*(dreadnought))(?=.*(rune knight)).*$/i,
	subname : "Rune Knight Martial Archetype",
	source : ["EL:HH", 57],	
	features : {
		"subclassfeature1" : {
			name : "Rune Knight Martial Archetype",
			source : ["EL:HH", 57],
			minlevel : 6,
			description : desc([
				"When you invoke your magic runes, you become infused with",
				"potent elemental energies. When you invoke one of the runes",
				"granted by your subclass features, a weapon you are holding or",
				"your unarmed strike becomes imbued with elemental energies",
				"until the start of your next turn or when you next score a hit with",
				"the weapon or unarmed strike, whichever comes first. When",
				"you score a hit using that weapon or unarmed strike, you deal an",
				"additional 5d10 damage, the type of which is determined by the",
				"rune you invoked, as detailed in the Elemental Infusions table.",
			]),
			toNotesPage : [{
				name : "Elemental Infusions",
        note : [
					"Rune		Damage Type",
					"Cloud Rune		Thunder",
					"Fire Rune		Fire",
					"Frost Rune		Cold",
					"Hill Rune		Necrotic",
					"Stone Rune		Force",
					"Storm Rune		Lightning",
        ],
			}],	
		},
	},
});
AddSubClass("dreadnought", "samurai", {
	regExpSearch : /^(?=.*(dreadnought))(?=.*samurai).*$/i,
	subname : "Samurai Martial Archetype",
	source : ["EL:HH", 57],	
	features : {
		"subclassfeature1" : {
			name : "Samurai Martial Archetype",
			source : ["EL:HH", 57],
			minlevel : 6,
			description : desc([
				"You can draw your weapons and attack in an elegant display of",
				"deadly skill and speed. Immediately before initiative is rolled,",
				"you may expend a use of your Action Surge to act with lightning",
				"speed. This allows you to take a special turn before combat",
				"begins. During this turn, you may take only a single action and",
				"spend your movement, and enemies cannot take reactions in",
				"response to what you do that turn.",
			]),
		},
	},
});

ClassList.enlightenedfist = {
	
	regExpSearch : /enlightened fist/i,
	name : "Enlightened Fist",
	source : [["EL:HH", 60]],
	primaryAbility : ["Dexterity"],
	abilitySave : 2,
	prereqs : "Dexterity 13",
	improvements : [1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5],
	scoresMaximum : [30, 30, 30, 30, 30, 30],
	die : 8,
	subclasses : ["Epic Monastic Tradition", []],
	attacks : [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
	features : {
		"epic feat" : {
			name : "Epic Feat",
			source : ["EL:HH", 61],
			minlevel : 1,
			description : "\n   " + "When you reach 21st level, and again at 25th and 29th level, you may select one Epic feat from the Epic feat list detailed in chapter 3. You may forgo taking an Epic feat to instead increase one ability score of your choice by 4, or you can increase two ability scores of your choice by 2.",
		},
		"battle meditation" : {
			name : "Battle Meditation",
			source : ["EL:HH", 61],
			minlevel : 1,
			limfeaname : "Battle Meditation",
			usages : [1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3],
			recovery : "long rest",
			description : desc([
				"You tap into the infinite ki of the universe and draw it into your",
				"body. At the start of your turn, you may forgo taking an action,",
				"taking a bonus action, and moving, and instead activate this feature",
				"to regain ki points up to your maximum. Once you use this",
				"feature, you can’t use it again until you finish a long rest. You can",
				"use this feature twice between long rests starting at 25th level",
				"and three times between long rests starting at 29th level.",
			]),
		},
		"epic monastic training" : {
			name : "Epic Monastic Training",
			source : ["EL:HH", 61],
			minlevel : 1,
			limfeaname : "Additional Ki",
			usages : levels.map(function (n) { return n < 1 ? "" : n }),
			recovery : "short rest",
			description : desc([
				"You continue your training in the techniques of the monk. Your",
				"number of ki points continues to increase as you advance as",
				"an enlightened fist. Your enlightened fist level determines how",
				"many ki points you have, as shown in the Ki Points column of",
				"the enlightened fist class progression table.",
				"Additionally, you can roll 1d12 in place of the normal damage",
				"of your unarmed strike or monk weapon. This die changes",
				"as you gain levels as an enlightened fist, as shown in the Martial",
				"Arts column of the enlightened fist class progression table.",
			]),
		},
		"epic monastic training2" : {
			name : "",
			source : ["EL:HH", 61],
			minlevel : 1,
				additional : levels.map(function (n) {
					return "1d" + (n < 4 ? 12 : "");
				}),
				action : [["bonus action", "Unarmed Strike (with Attack action)"]],
				eval : function() {
					AddString('Extra.Notes', 'Monk features:\n\u25C6 If I wear armor/shield, I lose Unarmored Defense, Martial Arts, and Unarmored Movement');
					show3rdPageNotes();
				},
				removeeval : function() {
					RemoveString('Extra.Notes', 'Monk features:\n\u25C6 If I wear armor/shield, I lose Unarmored Defense, Martial Arts, and Unarmored Movement');
				},
				calcChanges : {
					atkAdd : [
						function (fields, v) {
							if (classes.known.enlightenedfist && classes.known.enlightenedfist.level && (v.theWea.monkweapon || v.baseWeaponName == "unarmed strike" || v.baseWeaponName == "shortsword" || (v.isMeleeWeapon && (/simple/i).test(v.theWea.type) && !(/heavy|((^|[^+-]\b)2|\btwo).?hand(ed)?s?/i).test(fields.Description)))) {
								v.theWea.monkweapon = true;
								var aMonkDie = function (n) { return n < 4 ? 12 : ""; }(classes.known.enlightenedfist.level);
								try {
									var curDie = eval_ish(fields.Damage_Die.replace('d', '*'));
								} catch (e) {
									var curDie = 'x';
								}
								if (isNaN(curDie) || curDie < aMonkDie) {
									fields.Damage_Die = '1d' + aMonkDie;
								}
								if (fields.Mod === 1 || fields.Mod === 2 || What(AbilityScores.abbreviations[fields.Mod - 1] + " Mod") < What(AbilityScores.abbreviations[v.StrDex - 1] + " Mod")) {
									fields.Mod = v.StrDex;
								}
							}
						},
						"I can use either Strength or Dexterity and my Martial Arts damage die in place of the normal damage die for any 'Monk Weapons', which include unarmed strike, shortsword, and any simple melee weapon that is not two-handed or heavy.",
						4,
					],
				},	
		},
		"epic monastic training3" : {
			name : "",
			source : ["EL:HH", 61],
			minlevel : 4,
				additional : levels.map(function (n) {
					return "2d" + (n < 7 ? 6 : n < 10 ? 8 : 10);
				}),
				action : [["bonus action", "Unarmed Strike (with Attack action)"]],
				eval : function() {
					AddString('Extra.Notes', 'Monk features:\n\u25C6 If I wear armor/shield, I lose Unarmored Defense, Martial Arts, and Unarmored Movement');
					show3rdPageNotes();
				},
				removeeval : function() {
					RemoveString('Extra.Notes', 'Monk features:\n\u25C6 If I wear armor/shield, I lose Unarmored Defense, Martial Arts, and Unarmored Movement');
				},
				calcChanges : {
					atkAdd : [
						function (fields, v) {
							if (classes.known.enlightenedfist && classes.known.enlightenedfist.level && (v.theWea.monkweapon || v.baseWeaponName == "unarmed strike" || v.baseWeaponName == "shortsword" || (v.isMeleeWeapon && (/simple/i).test(v.theWea.type) && !(/heavy|((^|[^+-]\b)2|\btwo).?hand(ed)?s?/i).test(fields.Description)))) {
								v.theWea.monkweapon = true;
								var aMonkDie = function (n) { return n < 7 ? 6 : n < 10 ? 8 : 10; }(classes.known.enlightenedfist.level);
								try {
									var curDie = eval_ish(fields.Damage_Die.replace('d', '*'));
								} catch (e) {
									var curDie = 'x';
								}
								if (isNaN(curDie) || curDie < aMonkDie) {
									fields.Damage_Die = '2d' + aMonkDie;
								}
								if (fields.Mod === 1 || fields.Mod === 2 || What(AbilityScores.abbreviations[fields.Mod - 1] + " Mod") < What(AbilityScores.abbreviations[v.StrDex - 1] + " Mod")) {
									fields.Mod = v.StrDex;
								}
							}
						},
						"I can use either Strength or Dexterity and my Martial Arts damage die in place of the normal damage die for any 'Monk Weapons', which include unarmed strike, shortsword, and any simple melee weapon that is not two-handed or heavy.",
						4,
					],
				},			
		},
		"flowing power" : {
			name : "Flowing Power",
			source : ["EL:HH", 61-62],
			minlevel : 2,
			limfeaname : "Flowing Power",
			usages : [0, 1, 1, 1, 2, 2, 2, 3, 3, 3, 0, 1, 1, 1, 2, 2, 2, 3, 3, 3],
			recovery : "per turn",
			description : desc([
				"Your ki can flow through your body effortlessly via a technique",
				"called flow. When you take a bonus action, you may immediately",
				"spend 2 ki points to gain an additional bonus action,",
				"which lasts until the end of that turn. You may use this feature",
				"once per turn. As you advance as an enlightened fist, you gain",
				"additional uses of this feature per turn, as shown in the Flowing",
				"Power column of the enlightened fist class progression table.",
				"Additionally, when you would spend ki points as a part of taking",
				"your action or casting a spell with a casting time of 1 action,",
				"you may instead do so as 1 bonus action. If you would cast a spell",
				"as 1 bonus action using ki points instead of spell slots, you are",
				"not prevented from casting additional spells that turn, as long as",
				"any additional spells cast in this manner are cast using ki points",
				"instead of spell slots.",
			]),
		},
		"lessons of the enlightened fist" : {
			name : "Lessons of the Enlightened Fist",
			source : ["EL:HH", 62],
			minlevel : 2, 
			extraname : "Lessons",
			extrachoices : ["Echoing Blows", "Energy Sense", "Harmonious Advance", "Karmic Reversal", "Ki Infusion", "Mystic Strikes", "Radiant Spirit Spell Shield", "Raging Ki Death Blow", "Roaring Dragon Style", "Seven-Sided Strike"],
			extratimes : levels.map(function (n) {
					return n < 2 ? 0 : n < 4 ? 1 : n < 6 ? 2 : n < 8 ? 3 : 4;
			}),
			"echoing blows" : {
				name : "Echoing Blows",
				description : desc([
					"When a creature succeeds on a saving throw against your",
					"Stunning Strike feature, it takes thunder damage equal to your",
					"Martial Arts feature’s damage dice.",
				]),
			},
			"energy sense" : {
				name : "Energy Sense",
				description : desc([
					"You can detect the presence of ki within the world around you,",
					"granting you blindsight out to a range 300 feet. This sense persists",
					"even if you are blinded, knocked unconscious, or otherwise",
					"incapacitated.",
				]),
			},
			"harmonious advance" : {
				name : "Harmonious Advance",
				description : desc([
					"When you use your Step of the Wind feature on your turn, until",
					"the end of that turn you cannot have your speed reduced and",
					"are immune to all damage while you are moving.",
				]),
			},
			"karmic reversal" : {
				name : "Karmic Reversal",
				description : desc([
					"When you use your reaction via your Deflect Missiles feature to",
					"reduce the damage you take from a ranged weapon attack, you",
					"may spend 1 or more ki points to reduce the damage by 10 additional",
					"points for each ki point spent. If you reduce the damage",
					"of the attack to 0 with this feature, you gain an additional",
					"reaction that lasts until the start of your next turn.",
				]),
			},
			"ki infusion" : {
				name : "Ki Infusion",
				action : [["action", ""], ["bonus action", ""]],
				description : desc([
					"As an action or bonus action, you may spend 7 ki points and",
					"infuse a willing creature within reach with your ki for 1 minute.",
					"When you do so, the target gains proficiency in a saving throw",
					"of your choice and becomes immune to disease and poison, immediately",
					"ending those conditions if ongoing.",
				]),
			},
			"mystic strikes" : {
				name : "Mystic Strikes",
				action : [["action", ""], ["bonus action", ""]],
				description : desc([
					"As an action or bonus action, you may spend up to 3 ki points",
					"to grant your unarmed strikes and spell attacks a bonus to attack",
					"and damage rolls for 1 minute or until you use this feature",
					"again. The bonus equals the number of ki points spent.",
				]),
			},
			"radiant spirit spell shield" : {
				name : "Radiant Spirit Spell Shield",
				action : "reaction",
				description : desc([
					"As a reaction to when you are targeted by a spell by a creature",
					"you are aware of within 120 feet, you may spend a number of ki",
					"points equal to half the spell’s level (rounded down) to attempt",
					"to deflect the spell back at its caster. If the spell is an Epic spell,",
					"you must spend 5 ki points to attempt to deflect a tier 1 Epic",
					"spell, 7 ki points to attempt to deflect a tier 2 Epic spell, and",
					"10 ki points to attempt to deflect a tier 3 Epic spell. After you",
					"spend the necessary ki points, you must make a melee weapon",
					"attack as a part of that action to strike the magic. If the final result",
					"of the attack roll is equal to or greater than the caster’s spell",
					"save DC, the spell is reflected back at the caster and the caster",
					"becomes the target instead of you. If the result of the attack roll",
					"is lower than the caster’s spell save DC, you are affected by the",
					"spell normally.",
				]),
			},
			"raging ki death blow" : {
				name : "Raging Ki Death Blow",
				action : [["action", ""], ["bonus action", ""]],
				description : desc([
					"As an action or bonus action, you make a single weapon attack.",
					"If the attack hits, you must spend all your remaining ki points.",
					"The attack deals an additional 20 damage per ki point spent in",
					"this manner.",
				]),
			},
			"roaring dragon style" : {
				name : "Roaring Dragon Style",
				description : desc([
					"When you take the Dodge action, you may spend 3 ki points",
					"to gain the following benefits until the start of your next turn:",
					" When you use your reaction to make a successful",
					"weapon attack, you gain an additional reaction that",
					"lasts until the start of your next turn.",
					" Your AC equals 10 + your Dexterity modifier +",
					"your Wisdom modifier + your proficiency bonus.",
				]),
			},
			"seven-sided strike" : {
				name : "Seven-Sided Strike",
				description : desc([
					"As an action you may spend 4 ki points to make a single melee",
					"weapon attack and target any number of creatures of your",
					"choice within 120 feet of you with the attack, whether or not",
					"they would be within your reach.",
				]),
			},
		},	
	},
};	

AddSubClass("enlightenedfist", "way of the ascendant dragon", {
	regExpSearch : /^(?=.*(enlightened fist))(?=.*ascendant dragon).*$/i,
	subname : "Way of the Ascendant Dragon",
	source : ["EL:HH", 62],	
	features : {
		"subclassfeature1" : {
			name : "Way of the Ascendant Dragon",
			source : ["EL:HH", 62],
			minlevel : 6,
			description : desc([
				"Your ki burns with the fury of a dragon, allowing your power",
				"to rival the mightiest of wyrms. When you spend 1 or more ki",
				"points using your subclass features, you gain a special dragon",
				"die for each ki point you spend, which is a d8 and lasts for 1",
				"minute. This dice represents the draconic fury building within",
				"you. When you deal acid, cold, fire, lightning, or poison damage",
				"using your subclass features, you may expend and roll all your",
				"dragon dice and",
			]),
		},
	},
});

AddSubClass("enlightenedfist", "way of the astral self", {
	regExpSearch : /^(?=.*(enlightened fist))(?=.*astral self).*$/i,
	subname : "Way of the Astral Self",
	source : ["EL:HH", 63],	
	features : {
		"subclassfeature1" : {
			name : "Way of the Astral Self",
			source : ["EL:HH", 63],
			minlevel : 6,
			description : desc([
				"Your body and ki become one, transforming you into a being",
				"of pure spiritual energy. While in this state, you always benefit",
				"from the effects of your subclass features that last 10 minutes or",
				"longer, even if you are incapacitated.",
				"Additionally, when you would spend 2 or more ki points in a",
				"single instance, you instead spend 1 fewer ki point.",
			]),
		},
	},
});

AddSubClass("enlightenedfist", "way of the drunken master", {
	regExpSearch : /^(?=.*(enlightened fist))(?=.*drunken master).*$/i,
	subname : "Way of the Drunken Master",
	source : ["EL:HH", 63],	
	features : {
		"subclassfeature1" : {
			name : "Way of the Drunken Master",
			source : ["EL:HH", 63],
			minlevel : 6,
			description : desc([
				"You can use your ki to induce an intoxicated rage in yourself to",
				"fight as a true drunken master should. On your turn as a bonus action,",
				"you can spend 5 ki points to mystically intoxicate yourself and",
				"enter a drunken rage, gaining the following benefits for 1 minute:",
				"* When you make your first attack on your turn, you can",
				"decide to attack drunkenly. Doing so gives you Epic",
				"advantage on melee weapon attacks for that turn,",
				"but at the end of the turn you fall prone.",
				"* You add your Wisdom modifier to damage rolls",
				"made with your weapon attacks.",
				"* You are immune to the stunned and unconscious conditions.",
			]),
		},
	},
});

AddSubClass("enlightenedfist", "way of the four elements", {
	regExpSearch : /^(?=.*(enlightened fist))(?=.*four elements).*$/i,
	subname : "Way of the Four Elements",
	source : ["EL:HH", 63],	
	features : {
		"subclassfeature1" : {
			name : "Way of the Four Elements",
			source : ["EL:HH", 63],
			minlevel : 6,
			description : desc([
				"You can masterfully control the elements with ki, combining",
				"them with martial techniques into an extraordinary fighting",
				"force. You learn all elemental disciplines available from your",
				"Disciple of the Elements subclass feature. In addition, you",
				"learn four Epic elemental disciplines, as follows.",
			]),
			eval : function() { AddFeat("Elemental Mastery"); },
				removeeval : function() { RemoveFeat("Elemental Mastery"); },
			extraname : "Epic Elemental Discipline",
			extrachoices : ["Maelstrom of Wandering Spirits", "Radiant Inferno Blast", "Rising Force Thunder Strike", "Tectonic Embrace"],
			extraTimes : 4,
			"maelstrom of wandering spirits" : {
				name : "Maelstrom of Wandering Spirits",
				description : desc([
					"As a bonus action, you can spend 8 ki points to create swirling",
					"vortices of water that permit travel between two points. Choose",
					"two unoccupied spaces that you can see: one space within 10",
					"feet of you and one space within 500 feet of you. A swirling",
					"portal of water that occupies a 10-foot cube appears at each",
					"point and remains suspended as if in the air.",
					"Each portal is only accessible from one face of the cube, which",
					"you select when the cube is created, and appears like the mouth",
					"of a whirlpool. The other faces of the cube appear as swirling",
					"masses of water and prevent entry. You must designate one of the",
					"portals to be the entrance and the other the exit when the cubes",
					"are created. A creature cannot enter the exit portal by any means.",
					"Any Large or smaller creature adjacent to the entrance portal’s",
					"side of the cube when it is created must succeed on a Strength",
					"saving throw or be pulled through the vortex. A creature can",
					"choose to fail this saving throw and be pulled through the vortex",
					"voluntarily. When a creature enters the portal, you can choose",
					"to deal 10d6 bludgeoning damage from the maelstrom of swirling",
					"water. A creature that passes through the entrance portal",
					"appears in the nearest unoccupied space at the exit portal, or an",
					"occupied space if it is unable to appear in an unoccupied space.",
					"The portals last until the end of your turn, and a creature cannot",
					"pass through the entrance portal more than once per turn.",
				]),
				action : "bonus action",
			},
			"radiant inferno blast" : {
				name : "Radiant Inferno Blast",
				description : desc([
					"As an action, you can spend 8 ki points to unleash a blast of radiant",
					"flame in a 30-foot radius centered on you. Each creature",
					"of your choice in the area must succeed on a Dexterity saving",
					"throw or take 12d6 fire and 12d6 radiant damage, or half as",
					"much damage on a success. Friendly creatures of your choice in",
					"the effect’s area regain 24d6 hit points.",
				]),
				action : "action",
			},
			"rising force thunder strike" : {
				name : "Rising Force Thunder Strike",
				description : desc([
					"When you make a successful weapon attack against a creature",
					"up to two size categories larger than you, you can spend 8 ki",
					"points to deal an additional 10d8 thunder damage, and you and",
					"your target are knocked 100 feet straight into the air. Both you",
					"and your target remain in the air until the end of that turn, and",
					"any additional attacks you make against the target that turn",
					"have Epic advantage.",
				]),
			},
			"tectonic embrace" : {
				name : "Tectonic Embrace",
				description : desc([
					"As an action, you can spend 8 ki points to force a single creature",
					"within 30 feet to attempt a Constitution saving throw, becoming",
					"petrified for 1 minute on a failure. At the end of each of its",
					"turns, a petrified creature can attempt a Constitution saving",
					"throw, ending the effect on a success.",
				]),
				action : "action",
			},	
		},	
	},
});

FeatsList["elemental mastery"] = {
	name : "Elemental Mastery",
	source : [["EL:HH", 63]],
	descriptionFull : "",
	description : "",
	bonusClassExtrachoices : [{
		"class" : "monk",
		"subclass" : "monk-way of the four elements",
		"feature" : "subclassfeature3",
		"bonus" : 12,
	}],
};			

AddSubClass("enlightenedfist", "way of the kensei", {
	regExpSearch : /^(?=.*(enlightened fist))(?=.*kensei).*$/i,
	subname : "Way of the Kensei",
	source : ["EL:HH", 64],	
	features : {
		"subclassfeature1" : {
			name : "Way of the Kensei",
			source : ["EL:HH", 64],
			minlevel : 6,
			description : desc([
				"Your kensei weapons are exceptionally deadly, dealing critical",
				"damage to your foes. Damage from your kensei weapons cannot",
				"be reduced or prevented by any means, and you cannot be",
				"disarmed of your kensei weapons unless you are incapacitated.",
				"Additionally, as a bonus action you can spend 2 ki points to",
				"charge a single kensei weapon you are holding with destructive",
				"ki. The next hit you score with that weapon on that turn automatically",
				"scores a critical hit. A single weapon cannot benefit",
				"from this feature more than once per turn.",
			]),
		},
	},
});

AddSubClass("enlightenedfist", "way of the long death", {
	regExpSearch : /^(?=.*(enlightened fist))(?=.*long death).*$/i,
	subname : "Way of the Long Death",
	source : ["EL:HH", 64],	
	features : {
		"subclassfeature1" : {
			name : "Way of the Long Death",
			source : ["EL:HH", 64],
			minlevel : 6,
			description : desc([
				"You learn a terrifying technique that allows you to tear the souls",
				"from your victims. As an action, you can spend 5 ki points to",
				"force a creature within 60 feet of you to attempt a Constitution",
				"saving throw. On a failure, a fragment of the creature’s soul is",
				"drawn from its body and appears in a space adjacent to you",
				"for 1 minute. The soul floats in the air, occupies a 5-foot space,",
				"and is an object with an AC of 15 and 300 hit points. The soul",
				"cannot take damage from any source other than your weapon",
				"attacks, cannot regain hit points, and cannot be moved from its",
				"space by any means. When the soul takes damage, the creature",
				"it was pulled from takes an equal amount of damage of the",
				"same type regardless of the distance between the creature and",
				"its soul fragment. A soul fragment with 1 or more hit points",
				"at the end of the duration returns immediately to the creature",
				"it was pulled from. If its soul fragment is reduced to 0",
				"hit points, the creature must succeed on a Constitution saving",
				"throw against your ki save DC or die instantly. On a success,",
				"the creature doesn’t die but takes 300 necrotic damage.",
			]),
		},
	},
});

AddSubClass("enlightenedfist", "way of mercy", {
	regExpSearch : /^(?=.*(enlightened fist))(?=.*mercy).*$/i,
	subname : "Way of Mercy",
	source : ["EL:HH", 64],	
	features : {
		"subclassfeature1" : {
			name : "Way of Mercy",
			source : ["EL:HH", 64],
			minlevel : 6,
			description : desc([
				"Your ki can be used to spare friend and foe alike from unspeakable",
				"fates. As a reaction when a creature you can see within 120",
				"feet of you takes 50 or more damage in from a single attack or",
				"effect, you can spend 8 ki points to intervene with a merciful",
				"hand. If the creature is friendly to you, it instead takes half",
				"as much damage. If the creature is an enemy, it must succeed",
				"on a Constitution saving throw against your ki save DC or be",
				"knocked unconscious for 1 hour or until it next takes damage,",
				"whichever comes first.",
			]),
		},
	},
});

AddSubClass("enlightenedfist", "way of the open hand", {
	regExpSearch : /^(?=.*(enlightened fist))(?=.*open hand).*$/i,
	subname : "Way of the Open Hand",
	source : ["EL:HH", 64],	
	features : {
		"subclassfeature1" : {
			name : "Way of the Open Hand",
			source : ["EL:HH", 64],
			minlevel : 6,
			description : desc([
				"You can strike a creature’s vital points and nerve centers, rendering",
				"their extremities useless. When you hit a living creature",
				"with your unarmed strikes, you may spend 3 ki points",
				"and force the target to attempt a Constitution saving throw",
				"against your ki save DC. On a failure, a limb of your choice the",
				"creature possesses falls limp and becomes useless for 1 hour.",
				"The targeted creature drops any creatures, weapons, or objects",
				"held by that limb, and the creature cannot make attacks or cast",
				"spells that require the use of that limb. Typically, a limb constitutes",
				"a body part used to attack, cast spells, hold objects, or",
				"move. However, at your DM’s discretion, a creature may possess",
				"anatomy that makes it immune to this effect. If an affected",
				"creature is an Epic creature, it can attempt a Constitution saving",
				"throw at the end of each of its turns, ending the effect on",
				"itself on a success.",
			]),
		},
	},
});

AddSubClass("enlightenedfist", "way of shadow", {
	regExpSearch : /^(?=.*(enlightened fist))(?=.*shadow).*$/i,
	subname : "Way of Shadow",
	source : ["EL:HH", 64],	
	features : {
		"subclassfeature1" : {
			name : "Way of Shadow",
			source : ["EL:HH", 64],
			minlevel : 6,
			description : desc([
				"You can transform your body into deadly shadows that can",
				"pierce a creature’s body. At the start of each of your turns, you",
				"may spend 8 ki points to turn your body into a mass of kiinfused",
				"shadows until the end of your turn. While in this state,",
				"you are heavily obscured, can move through other creatures and",
				"objects as though they were difficult terrain, and have Epic advantage",
				"on Dexterity (Stealth) ability checks. When you move",
				"into another creature’s space for the first time on a turn, you",
				"can choose to deal 10d10 necrotic damage to it. If you end your",
				"turn inside an object, you are moved to the nearest unoccupied",
				"space and take 1d10 force damage for every 5 feet moved.",
			]),
		},
	},
});

AddSubClass("enlightenedfist", "way of the sun soul", {
	regExpSearch : /^(?=.*(enlightened fist))(?=.*sun soul).*$/i,
	subname : "Way of the Sun Soul",
	source : ["EL:HH", 64],	
	features : {
		"subclassfeature1" : {
			name : "Way of the Sun Soul",
			source : ["EL:HH", 64],
			minlevel : 6,
			description : desc([
				"You unleash your ki in a single blast of escalating intensity. The",
				"range of your spell attacks made with your subclass features",
				"increases to 300 feet.",
				"Additionally, when you would make a spell attack using",
				"your subclass features, you can choose to instead forgo making",
				"the attack and hold the power as you charge up your ki.",
				"While you do so, you must concentrate, as though concentrating",
				"on a spell. While concentrating in this manner, each time",
				"you would make a spell attack using your subclass features,",
				"you instead continue to charge your attack. When you score a",
				"hit with a spell attack using your subclass features, you can end",
				"your concentration and deal an additional 2d12 radiant damage",
				"for each time you charged the attack over the course of your",
				"concentration.",
			]),
		},
	},
});

ClassList.crusader = {
	
	regExpSearch : /crusader/i,
	name : "Crusader",
	source : [["EL:HH", 65]],
	primaryAbility : ["Charisma"],
	abilitySave : 6,
	prereqs : "Charisma 13",
	improvements : [1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5],
	scoresMaximum : [30, 30, 30, 30, 30, 30],
	die : 10,
	subclasses : ["Epic Sacred Oath", []],
	attacks : [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
	features : {
		"proficiencies" : {
			name : "Proficiencies", 
			source : ["EL:HH", 66],
			minlevel : 1,
			description : "\n   " + "Saving Throws. You gain proficiency in a single saving throw of your choice. Use the Choose Feature button on the second page to select your proficiency",
			extraname : "Bonus Saving Throw",
			extrachoices : ["Strength", "Dexterity", "Constitution", "Intelligence"],
			"strength" : {
				name : "Strength",
				description : "\n   " + "You gain proficiency in Strength Saving Throws",
				saves : ["Str"],
			},	
			"dexterity" : {
				name : "Dexterity",
				description : "\n   " + "You gain proficiency in Dexterity Saving Throws",
				saves : ["Dex"],
			},
			"constitution" : {
				name : "Constitution",
				description : "\n   " + "You gain proficiency in Constitution Saving Throws",
				saves : ["Con"],
			},	
			"intelligence" : {
				name : "Intelligence",
				description : "\n   " + "You gain proficiency in Intelligence Saving Throws",
				saves : ["Int"],
			},	
		},	
		"epic feat" : {
			name : "Epic Feat",
			source : ["EL:HH", 67],
			minlevel : 1,
			description : "\n   " + "When you reach 21st level, and again at 25th and 29th level, you may select one Epic feat from the Epic feat list detailed in chapter 3. You may forgo taking an Epic feat to instead increase one ability score of your choice by 4, or you can increase two ability scores of your choice by 2.",
		},	
		"zealous magic" : {
			name : "Zealous Magic",
			source : ["EL:HH", 67],
			minlevel : 1,
			description : desc([
				"Beginning at 21st level, you can draw on even greater levels of",
				"divine magic as you embark on your crusades. You gain new",
				"spell slots and can prepare higher-level spells as you advance",
				"as a crusader. The crusader class progression table shows how",
				"many spell slots you have available to cast your spells between",
				"both your paladin and crusader levels. These new spell slots",
				"count as both paladin and crusader spell slots, and you can",
				"cast your paladin spells using these new, higher-level spell",
				"slots or use them to prepare new spells from the crusader spell",
				"list. Crusader spells function identically to your paladin spells,",
				"using the same spellcasting ability and restrictions for their",
				"casting and preparation.",
				"Additionally, you add your crusader level to the number of",
				"paladin or crusader spells you can have prepared.",
			]),
			addMod : [
				{ type : "", field : "SpellSlots.CheckboxesSet.lvl1", mod : 4, text : ""},
				{ type : "", field : "SpellSlots.CheckboxesSet.lvl2", mod : 3, text : ""},
				{ type : "", field : "SpellSlots.CheckboxesSet.lvl3", mod : 3, text : ""},
				{ type : "", field : "SpellSlots.CheckboxesSet.lvl4", mod : 3, text : ""},
				{ type : "", field : "SpellSlots.CheckboxesSet.lvl5", mod : 2, text : ""},
				{ type : "", field : "SpellSlots.CheckboxesSet.lvl6", mod : 1, text : ""},
			],
			spellcastingBonus : [{
				name : "Crusader Spells",
				spells : ["blade barrier", "harm", "heroes' feast", "sunbeam", "true seeing"],
				selection : ["blade barrier", "harm", "heroes' feast", "sunbeam", "true seeing"],
				times : 5
			}],	
		},
		"grand crusade" : {
			name : "Grand Crusade",
			source : ["EL:HH", 67],
			minlevel : 2,
			description : "\n   " + "Your zeal for your cause makes you ever ready for battle. When you roll initiative and are not surprised, you can choose to immediately produce one of the following benefits (no action required) See Notes Page for Options. As you advance as a crusader, you learn to share these benefits with your allies. At 24th level, when you use your Grand Crusade feature you can choose a friendly creature of your choice within 60 feet that you are aware of to also gain those benefits. At 26th, 28th, and 30th level, you may grant those benefits to an additional friendly creature within range, to a maximum of four additional friendly creatures at 30th level. Once you use this feature, you must finish a short or long rest until you can use it again.",
			usages : 1,
			recovery : "short rest",
			toNotesPage : [{
				name : "Grand Crusade",
				note : [
						"◆ Move up to your base walking speed.",
						"◆ Use a non-Epic class feature you could ordinarily take as an action or bonus action.",
						"◆ Cast a non-Epic spell with a casting time of 1 action or bonus action that does not affect an enemy creature.",
						"◆ Take the Dodge, Hide, Search, or Use an Object action.",
						"◆ Use a magic item of legendary quality or lower that can be used as an action.",
						"◆ Gain resistance to a damage type of your choice until the end of your next turn.",
						"◆ Score a critical hit on a roll of 18–20 on your weapon attacks until the end of your next turn.",
				],
			}],
		},
		"sacred boons" : {
			name : "Sacred Boons",
			source : ["EL:HH", 67],
			minlevel : 2,
			description : "\n   " + "You are imbued with sacred boons as a reward for your actions as a crusader. You gain your first boon at 22nd level, and you gain an additional boon at 24th, 26th, 28th, and 30th level. When you gain a boon, you can choose to permanently improve one of your paladin class features, transforming it into a sacred version of that feature and granting it the following benefits.",
			extraname : "Sacred Boons",
			extrachoices : ["Sacred Auras", "Sacred Cleansing Touch", "Sacred Channel Divinity", "Sacred Divine Sense", "Sacred Divine Smite", "Sacred Lay on Hands", "Sacred Spellcasting"],
			extraTimes : levels.map(function (n) {
					return n < 2 ? 0 : n < 4 ? 1 : n > 6 ? 2 : n > 8 ? 3 : n > 10 ? 4 : 5;
			}),
			"sacred auras" : {
				name : "Sacred Auras",
				description : desc([
					"The radius of the auras granted by your paladin class and subclass features is increased to 120 feet.",
				]),
			},
			"sacred cleansing touch" : {
				name : "Sacred Cleansing Touch",
				description : desc([
					"Your Cleansing Touch feature can end Epic spells and magical effects.",
				]),
			},
			"sacred channel divinity" : {
				name : "Sacred Channel Divinity",
				description : desc([
					"You can use your Channel Divinity feature a number of times",
					"equal to your proficiency bonus, and you regain all expended",
					"uses when you finish a long rest. Additionally, as a bonus action,",
					"you may use your Channel Divinity to regain a number of",
					"expended paladin or crusader spell slots whose combined spell",
					"level is no greater than 8th level.",
				]),
			},
			"sacred divine sense" : {
				name : "Sacred Divine Sense",
				description : desc([
					"You may use your Divine Sense feature as a bonus action.",
					"Additionally, you can perceive creatures detected via your Divine",
					"Sense as though you have blindsight, and you have Epic advantage",
					"on attacks against creatures you perceive in this manner.",
				]),
			},
			"sacred divine smite" : {
				name : "Sacred Divine Smite",
				description : desc([
					"Your Divine Smite’s maximum extra damage gained from spell slots is increased to 11d8.",
				]),
			},
			"sacred lay on hands" : {
				name : "Sacred Lay on Hands",
				description : desc([
					"Your pool of healing power for your Lay on Hands feature is",
					"quadrupled. Additionally, you can expend 100 hit points from",
					"your pool of healing to touch a creature slain within the last",
					"hour and restore it to life with 100 hit points or its hit point",
					"maximum, whichever is less.",
				]),
			},
			"sacred spellcasting" : {
				name : "Sacred Spellcasting",
				description : desc([
					"When you take the Attack action for the first time on your",
					"turn, you may forgo making an attack with that action to instead",
					"cast a spell with a casting time of 1 action or bonus action.",
				]),
			},	
		},
		"3" : {
			name : "",
			source : "",
			minlevel : 3,
			description : "",
			addMod : [
				{ type : "", field : "SpellSlots.CheckboxesSet.lvl1", mod : 4, text : ""},
				{ type : "", field : "SpellSlots.CheckboxesSet.lvl2", mod : 3, text : ""},
				{ type : "", field : "SpellSlots.CheckboxesSet.lvl3", mod : 3, text : ""},
				{ type : "", field : "SpellSlots.CheckboxesSet.lvl4", mod : 3, text : ""},
				{ type : "", field : "SpellSlots.CheckboxesSet.lvl5", mod : 2, text : ""},
				{ type : "", field : "SpellSlots.CheckboxesSet.lvl6", mod : 1, text : ""},
				{ type : "", field : "SpellSlots.CheckboxesSet.lvl7", mod : 1, text : ""},
			],
			spellcastingBonus : {
				name : "Crusader Spells",
				spells : ["divine word", "plane shift", "resurrection"],
				selection : ["divine word", "plane shift", "resurrection"],
				times : 3,
			},	
		},
		"5" : {
			name : "",
			source : "",
			minlevel : 5,
			description : "",
			addMod : [
				{ type : "", field : "SpellSlots.CheckboxesSet.lvl1", mod : 4, text : ""},
				{ type : "", field : "SpellSlots.CheckboxesSet.lvl2", mod : 3, text : ""},
				{ type : "", field : "SpellSlots.CheckboxesSet.lvl3", mod : 3, text : ""},
				{ type : "", field : "SpellSlots.CheckboxesSet.lvl4", mod : 3, text : ""},
				{ type : "", field : "SpellSlots.CheckboxesSet.lvl5", mod : 2, text : ""},
				{ type : "", field : "SpellSlots.CheckboxesSet.lvl6", mod : 1, text : ""},
				{ type : "", field : "SpellSlots.CheckboxesSet.lvl7", mod : 1, text : ""},
				{ type : "", field : "SpellSlots.CheckboxesSet.lvl8", mod : 1, text : ""},
			],
			spellcastingBonus : {
				name : "Crusader Spells",
				spells : ["holy aura", "sunburst"],
				selection : ["holy aura", "sunburst"],
				times : 2,
			},	
		},
		"subclassfeature1" : {
			name : "Epic Sacred Oath",
			source : ["EL:HH", 68],
			minlevel : 6,
			description : desc([
				"While your crusades carry you across worlds through countless",
				"conflicts, your sacred oath continues to guide your hand.",
				"At 26th level, you gain the following features according to the",
				"sacred oath you took when you were advancing as a paladin.",
			]),
		},
		"7" : {
			name : "",
			source : "",
			minlevel : 7,
			description : "",
			addMod : [
				{ type : "", field : "SpellSlots.CheckboxesSet.lvl1", mod : 4, text : ""},
				{ type : "", field : "SpellSlots.CheckboxesSet.lvl2", mod : 3, text : ""},
				{ type : "", field : "SpellSlots.CheckboxesSet.lvl3", mod : 3, text : ""},
				{ type : "", field : "SpellSlots.CheckboxesSet.lvl4", mod : 3, text : ""},
				{ type : "", field : "SpellSlots.CheckboxesSet.lvl5", mod : 2, text : ""},
				{ type : "", field : "SpellSlots.CheckboxesSet.lvl6", mod : 1, text : ""},
				{ type : "", field : "SpellSlots.CheckboxesSet.lvl7", mod : 1, text : ""},
				{ type : "", field : "SpellSlots.CheckboxesSet.lvl8", mod : 1, text : ""},
				{ type : "", field : "SpellSlots.CheckboxesSet.lvl9", mod : 1, text : ""},
			],
			spellcastingBonus : {
				name : "Crusader Spells",
				spells : ["foresight", "gate"],
				selection : ["foresight", "gate"],
				times : 2,
			},	
		},
		"9" : {
			name : "",
			source : "",
			minlevel : 9,
			description : "",
			addMod : [
				{ type : "", field : "SpellSlots.CheckboxesSet.lvl1", mod : 4, text : ""},
				{ type : "", field : "SpellSlots.CheckboxesSet.lvl2", mod : 3, text : ""},
				{ type : "", field : "SpellSlots.CheckboxesSet.lvl3", mod : 3, text : ""},
				{ type : "", field : "SpellSlots.CheckboxesSet.lvl4", mod : 3, text : ""},
				{ type : "", field : "SpellSlots.CheckboxesSet.lvl5", mod : 2, text : ""},
				{ type : "", field : "SpellSlots.CheckboxesSet.lvl6", mod : 2, text : ""},
				{ type : "", field : "SpellSlots.CheckboxesSet.lvl7", mod : 1, text : ""},
				{ type : "", field : "SpellSlots.CheckboxesSet.lvl8", mod : 1, text : ""},
				{ type : "", field : "SpellSlots.CheckboxesSet.lvl9", mod : 1, text : ""},
			],
		},	
		"will of the crusader" : {
			name : "Will of the Crusader",
			source : ["EL:HH", 70],
			minlevel : 10,
			description : desc([
				"Your holy cause can wait no longer as divine power spurs you",
				"to victory. When you use your Grand Crusade feature, you may",
				"choose to instead gain and grant two benefits.",
				"Additionally, when you use your grand crusade feature, you",
				"do not need to finish a short or long rest before you can use it",
				"again.",
			]),	
			addMod : [
				{ type : "", field : "SpellSlots.CheckboxesSet.lvl1", mod : 4, text : ""},
				{ type : "", field : "SpellSlots.CheckboxesSet.lvl2", mod : 3, text : ""},
				{ type : "", field : "SpellSlots.CheckboxesSet.lvl3", mod : 3, text : ""},
				{ type : "", field : "SpellSlots.CheckboxesSet.lvl4", mod : 3, text : ""},
				{ type : "", field : "SpellSlots.CheckboxesSet.lvl5", mod : 2, text : ""},
				{ type : "", field : "SpellSlots.CheckboxesSet.lvl6", mod : 2, text : ""},
				{ type : "", field : "SpellSlots.CheckboxesSet.lvl7", mod : 2, text : ""},
				{ type : "", field : "SpellSlots.CheckboxesSet.lvl8", mod : 1, text : ""},
				{ type : "", field : "SpellSlots.CheckboxesSet.lvl9", mod : 1, text : ""},
			],
		},
	},
};
AddSubClass("crusader", "oath of the ancients", {
	regExpSearch : /^(?=.*(crusader))(?=.*ancients).*$/i,
	subname : "Oath of the Ancients",
	source : ["EL:HH", 68],	
	features : {
		"subclassfeature1" : {
			name : "Oath of the Ancients",
			source : ["EL:HH", 68],
			minlevel : 6,
			description : desc([
				"* Healing Hands. When you would make a melee weapon attack,",
				"you can forgo making that attack to instead mystically",
				"heal yourself or a creature within reach by expending a paladin",
				"or crusader spell slot. The target regains 2d8 hit points for a",
				"1st-level spell slot, plus 1d8 for each spell level higher than 1st.",
				"* Improved Aura of Warding. Whenever an allied creature",
				"within 30 feet of you succeeds on a saving throw against a non-",
				"Epic spell or magical effect and would suffer an effect on a",
				"success, it instead suffers no effect.",
			]),
			spellcastingBonus : {
				name : "Expanded Oath Spells",
				spells : ["conjure fey", "wall of thorns", "etherealness", "regenerate", "animal shapes"],
				selection : ["conjure fey", "wall of thorns", "etherealness", "regenerate", "animal shapes"],
				times : 5,
			},	
		},
		"subclassfeature1.1" : {
			name : "Expanded Oath Spells",
			source : ["EL:HH", 68],
			minlevel : 7,
			description : "Expanded Oath Spells. You gain additional oath spells that can be cast using your crusader spell slots.",
			spellcastingBonus : {
				name : "Expanded Oath Spells",
				spells : "true resurrection",
				selection : "true resurrection",
				times : 1,
			},
		},	
	},
});
AddSubClass("crusader", "oathbreaker", {
	regExpSearch : /^(?=.*(crusader))(?=.*oathbreaker).*$/i,
	subname : "Oathbreaker",
	source : ["EL:HH", 68],	
	features : {
		"subclassfeature1" : {
			name : "Oathbreaker",
			source : ["EL:HH", 68],
			minlevel : 6,
			description : desc([
				"* General of Undeath. As a reaction when you kill a humanoid",
				"creature that still has a body, you may raise that creature as a",
				"zombie or skeleton under your command. You can command",
				"undead created with this feature verbally and are able to issue",
				"specific orders (no action required).",
				"* Unholy Smite. When you hit a creature with a melee weapon",
				"attack and expend a paladin spell slot using your Divine Smite",
				"paladin class feature to deal radiant damage to the target, you",
				"can choose to turn that attack into an Unholy Smite. When",
				"you do so, the damage dice granted by your Divine Smite feature",
				"become d12s and the attack deals necrotic damage instead",
				"of radiant damage.",
			]),
			spellcastingBonus : {
				name : "Expanded Oath Spells",
				spells : ["circle of death", "create undead", "finger of death", "teleport", "feeblemind"],
				selection : ["circle of death", "create undead", "finger of death", "teleport", "feeblemind"],
				times : 5,
			},	
		},
		"subclassfeature1.1" : {
			name : "Expanded Oath Spells",
			source : ["EL:HH", 68],
			minlevel : 7,
			description : "Expanded Oath Spells. You gain additional oath spells that can be cast using your crusader spell slots.",
			spellcastingBonus : {
				name : "Expanded Oath Spells",
				spells : "power word kill",
				selection : "power word kill",
				times : 1,
			},
		},	
	},
});
AddSubClass("crusader", "oath of conquest", {
	regExpSearch : /^(?=.*(crusader))(?=.*conquest).*$/i,
	subname : "Oath of Conquest",
	source : ["EL:HH", 68],	
	features : {
		"subclassfeature1" : {
			name : "Oath of Conquest",
			source : ["EL:HH", 68],
			minlevel : 6,
			description : desc([
				"* Aura of Dread. If a creature within 30 feet of you is immune",
				"to the frightened condition, it is instead not immune to that",
				"condition and has Epic advantage on saving throws against effects",
				"that cause the frightened condition.",
				"* Executioner’s Strikes. When you score a critical hit on an",
				"enemy creature, each enemy creature of your choice that can see",
				"you must succeed on a Wisdom saving throw against your ",
				"save DC or become frightened. If the creature ends its turn in a",
				"space where you are not within its line of sight, the effect ends.",
			]),
			spellcastingBonus : {
				name : "Expanded Oath Spells",
				spells : ["disintigrate", "soul cage", "fire storm", "power word pain", "maddening darkness"],
				selection : ["disintigrate", "soul cage", "fire storm", "power word pain", "maddening darkness"],
				times : 5,
			},	
		},
		"subclassfeature1.1" : {
			name : "Expanded Oath Spells",
			source : ["EL:HH", 68],
			minlevel : 7,
			description : "Expanded Oath Spells. You gain additional oath spells that can be cast using your crusader spell slots.",
			spellcastingBonus : {
				name : "Expanded Oath Spells",
				spells : "psychic scream",
				selection : "psychic scream",
				times : 1,
			},
		},	
	},
});
AddSubClass("crusader", "oath of the crown", {
	regExpSearch : /^(?=.*(crusader))(?=.*crown).*$/i,
	subname : "Oath of the Crown",
	source : ["EL:HH", 69],	
	features : {
		"subclassfeature1" : {
			name : "Oath of the Crown",
			source : ["EL:HH", 69],
			minlevel : 6,
			description : desc([
				"* Aura of Allegiance. As a reaction when a creature within 30",
				"feet of you takes damage, you can magically cause that creature",
				"to take no damage, and instead you take damage equal to",
				"the amount of damage the affected creature would have taken.",
				"Damage from this feature cannot be reduced or prevented in any",
				"way, and the feature doesn’t transfer any other effects that might",
				"accompany the damage, such as conditions or magical effects.",
				"* Shielding Magic. When you cast a spell that affects any number",
				"of allied creatures, the creatures become wreathed in magical",
				"energy until the end of their next turns. While so wreathed, if",
				"the creature’s AC is lower than your AC, it instead has your AC.",
			]),
			spellcastingBonus : {
				name : "Expanded Oath Spells",
				spells : ["globe of invulnerability", "guards and wards", "mordenkainen's magnificent mansion", "symbol", "power word stun"],
				selection : ["globe of invulnerability", "guards and wards", "mordenkainen's magnificent mansion", "symbol", "power word stun"],
				times : 5,
			},	
		},
		"subclassfeature1.1" : {
			name : "Expanded Oath Spells",
			source : ["EL:HH", 69],
			minlevel : 7,
			description : "Expanded Oath Spells. You gain additional oath spells that can be cast using your crusader spell slots.",
			spellcastingBonus : {
				name : "Expanded Oath Spells",
				spells : "mass heal",
				selection : "mass heal",
				times : 1,
			},
		},	
	},
});
AddSubClass("crusader", "oath of devotion", {
	regExpSearch : /^(?=.*(crusader))(?=.*devotion).*$/i,
	subname : "Oath of Devotion",
	source : ["EL:HH", 69],	
	features : {
		"subclassfeature1" : {
			name : "Oath of Devotion",
			source : ["EL:HH", 69],
			minlevel : 6,
			description : desc([
				"* Holy Rituals. You can cast your paladin and crusader spells",
				"with a casting time of 1 action or bonus action as special holy",
				"rituals. When you cast a spell as a holy ritual, the spell’s casting",
				"time increases to 10 minutes but casting it does not expend a",
				"spell slot. If you cast a spell as a holy ritual that is 4th level or",
				"lower, you instead cast it as though it were a 5th-level spell. You",
				"must have the spell prepared to cast it as a holy ritual.",
				"* Wings of Justice. You grow a pair of feathered wings from your",
				"back, granting you a flying speed of 90 feet. If your wings are",
				"removed, they naturally grow back when you finish a long rest.",
			]),
			spellcastingBonus : {
				name : "Expanded Oath Spells",
				spells : ["forbiddance", "planar ally", "conjure celestial", "sequester", "earthquake"],
				selection : ["forbiddance", "planar ally", "conjure celestial", "sequester", "earthquake"],
				times : 5,
			},	
		},
		"subclassfeature1.1" : {
			name : "Expanded Oath Spells",
			source : ["EL:HH", 69],
			minlevel : 7,
			description : "Expanded Oath Spells. You gain additional oath spells that can be cast using your crusader spell slots.",
			spellcastingBonus : {
				name : "Expanded Oath Spells",
				spells : "imprisonment",
				selection : "imprisonment",
				times : 1,
			},
		},	
	},
});
AddSubClass("crusader", "oath of glory", {
	regExpSearch : /^(?=.*(crusader))(?=.*glory).*$/i,
	subname : "Oath of Glory",
	source : ["EL:HH", 69],	
	features : {
		"subclassfeature1" : {
			name : "Oath of Glory",
			source : ["EL:HH", 69],
			minlevel : 6,
			description : desc([
				"* Heroic Strike. When you score a hit with a melee weapon attack",
				"and expend a 9th-level crusader spell to use your Divine",
				"Smite feature, that hit instead becomes a critical hit.",
				"* Living Legend. Even among Epic heroes, you are exceptional.",
				"Choose two ability scores. Your current and maximum for that",
				"score increases by 2, to a maximum of 32.",
			]),
			spellcastingBonus : {
				name : "Expanded Oath Spells",
				spells : ["find the path", "move earth", "crown of stars", "regenerate", "earthquake"],
				selection : ["find the path", "move earth", "crown of stars", "regenerate", "earthquake"],
				times : 5,
			},	
		},
		"subclassfeature1.1" : {
			name : "Expanded Oath Spells",
			source : ["EL:HH", 69],
			minlevel : 7,
			description : "Expanded Oath Spells. You gain additional oath spells that can be cast using your crusader spell slots.",
			spellcastingBonus : {
				name : "Expanded Oath Spells",
				spells : "power word heal",
				selection : "power word heal",
				times : 1,
			},
		},	
	},
});
AddSubClass("crusader", "oath of redemption", {
	regExpSearch : /^(?=.*(crusader))(?=.*redemption).*$/i,
	subname : "Oath of Redemption",
	source : ["EL:HH", 69],	
	features : {
		"subclassfeature1" : {
			name : "Oath of Redemption",
			source : ["EL:HH", 69],
			minlevel : 6,
			description : desc([
				"* Armor of Serenity. While you are not wearing armor, using",
				"a shield, or carrying weapons on your person, your armor class",
				"becomes 10 + your Dexterity modifier + your Charisma modifier",
				"+ half your crusader level (rounded down).",
				"* Vow of Peace. When you would deal damage to a creature,",
				"you can choose to instead deal no damage and impose a peaceful",
				"existence on the creature. The creature gains special points",
				"called tranquility points equal to the damage you would have",
				"dealt. Attacks and hostile abilities you use to grant a creature",
				"tranquility points are not considered attacks or hostile abilities.",
				"Tranquility points last until the creature finishes a short or long",
				"rest and are considered an Epic magical effect from an allied",
				"creature, even if you are not allied with the affected creature.",
				"If a creature’s current hit points become less than its tranquility",
				"point total, the creature is immediately overcome with feelings",
				"of peace and harmony for 24 hours, becoming friendly",
				"toward you and all other creatures it encounters. If in combat,",
				"the creature immediately ceases hostile activities toward other",
				"creatures. If the creature is attacked or affected with a hostile",
				"ability taken after it has become peaceful, it defends itself but",
				"makes every effort to end combat and avoid harming the offending",
				"creature. An affected creature regrets its actions during",
				"combat and does its best to make amends for any actions it",
				"took that caused harm to others.",
			]),
			spellcastingBonus : {
				name : "Expanded Oath Spells",
				spells : ["mental prison", "primordial ward", "forcecage", "project image", "antimagic field"],
				selection : ["mental prison", "primordial ward", "forcecage", "project image", "antimagic field"],
				times : 5,
			},	
		},
		"subclassfeature1.1" : {
			name : "Expanded Oath Spells",
			source : ["EL:HH", 69],
			minlevel : 7,
			description : "Expanded Oath Spells. You gain additional oath spells that can be cast using your crusader spell slots.",
			spellcastingBonus : {
				name : "Expanded Oath Spells",
				spells : "wish",
				selection : "wish",
				times : 1,
			},
		},	
	},
});
AddSubClass("crusader", "oath of vengeance", {
	regExpSearch : /^(?=.*(crusader))(?=.*vengeance).*$/i,
	subname : "Oath of Vengeance",
	source : ["EL:HH", 70],	
	features : {
		"subclassfeature1" : {
			name : "Oath of Vengeance",
			source : ["EL:HH", 70],
			minlevel : 6,
			description : desc([
				"* Hateful Pursuit. You have resistance to all damage and Epic",
				"advantage on saving throws you incur while moving toward enemy",
				"creatures on your turn.",
				"* Relentless Smites. When you hit a creature and expend a paladin",
				"or crusader spell slot via your Divine Smite paladin class",
				"feature, you may expend any number of spell slots to increase",
				"the total dice of the Divine Smite feature by their combined",
				"total spell level, up to your Divine Smite’s maximum.",
			]),
			spellcastingBonus : {
				name : "Expanded Oath Spells",
				spells : ["find the path", "harm", "forcecage", "teleport", "mind blank"],
				selection : ["find the path", "harm", "forcecage", "teleport", "mind blank"],
				times : 5,
			},	
		},
		"subclassfeature1.1" : {
			name : "Expanded Oath Spells",
			source : ["EL:HH", 70],
			minlevel : 7,
			description : "Expanded Oath Spells. You gain additional oath spells that can be cast using your crusader spell slots.",
			spellcastingBonus : {
				name : "Expanded Oath Spells",
				spells : "storm of vengeance",
				selection : "storm of vengeance",
				times : 1,
			},
		},	
	},
});
AddSubClass("crusader", "oath of the watchers", {
	regExpSearch : /^(?=.*(crusader))(?=.*watchers).*$/i,
	subname : "Oath of the Watchers",
	source : ["EL:HH", 70],	
	features : {
		"subclassfeature1" : {
			name : "Oath of the Watchers",
			source : ["EL:HH", 70],
			minlevel : 6,
			description : desc([
				"* Ceaseless Vigil. You are immune to the unconscious condition",
				"and no longer need to sleep (though you must still rest to",
				"recover your features).",
				"* Mark the Trespasser. When you score a hit against a creature",
				"and expend a spell slot to use your Divine Smite feature, you may",
				"force the target to attempt a Charisma saving throw against your",
				"spell save DC. On a failure, the creature is branded as a trespasser",
				"and cursed for as long as it remains on this plane. A creature so",
				"cursed takes 6d12 force damage at the end of each of its turns",
				"if it is within 60 feet of you. If a creature succeeds on the saving",
				"throw, it is immune to this feature for 24 hours.",
			]),
			spellcastingBonus : {
				name : "Expanded Oath Spells",
				spells : ["globe of invulnerability", "guards and ward", "dream of the blue veil", "forcecage", "antipath/sympathy"],
				selection : ["globe of invulnerability", "guards and ward", "dream of the blue veil", "forcecage", "antipath/sympathy"],
				times : 5,
			},	
		},
		"subclassfeature1.1" : {
			name : "Expanded Oath Spells",
			source : ["EL:HH", 70],
			minlevel : 7,
			description : "Expanded Oath Spells. You gain additional oath spells that can be cast using your crusader spell slots.",
			spellcastingBonus : {
				name : "Expanded Oath Spells",
				spells : "imprisonment",
				selection : "imprisonment",
				times : 1,
			},
		},	
	},
});
ClassList.slayer = {
	
	regExpSearch : /slayer/i,
	name : "Slayer",
	source : [["EL:HH", 71]],
	primaryAbility : ["Wisdom"],
	abilitySave : 5,
	prereqs : "Wisdom 13",
	improvements : [1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5],
	scoresMaximum : [30, 30, 30, 30, 30, 30],
	die : 10,
	subclasses : ["Epic Ranger Archetype", []],
	attacks : [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
	features : {
		"proficiencies" : {
			name : "Proficiencies", 
			source : ["EL:HH", 72],
			minlevel : 1,
			description : "\n   " + "Saving Throws. You gain proficiency in a single saving throw of your choice. Use the Choose Feature button on the second page to select your proficiency",
			extraname : "Bonus Saving Throw",
			extrachoices : ["Constitution", "Intelligence", "Wisdom", "Charisma"],
			"constitution" : {
				name : "Constitution",
				description : "\n   " + "You gain proficiency in Constitution Saving Throws",
				saves : ["Con"],
			},	
			"intelligence" : {
				name : "Intelligence",
				description : "\n   " + "You gain proficiency in Intelligence Saving Throws",
				saves : ["Int"],
			},
			"wisdom" : {
				name : "Wisdom",
				description : "\n   " + "You gain proficiency in Wisdom Saving Throws",
				saves : ["Wis"],
			},	
			"charisma" : {
				name : "Charisma",
				description : "\n   " + "You gain proficiency in Charisma Saving Throws",
				saves : ["Cha"],
			},	
		},	
		"epic feat" : {
			name : "Epic Feat",
			source : ["EL:HH", 72],
			minlevel : 1,
			description : "\n   " + "When you reach 21st level, and again at 25th and 29th level, you may select one Epic feat from the Epic feat list detailed in chapter 3. You may forgo taking an Epic feat to instead increase one ability score of your choice by 4, or you can increase two ability scores of your choice by 2.",
		},	
		"nemesis" : {
			name : "Nemesis",
			source : ["EL:HH", 72],
			minlevel : 1,
			description : desc([
				"You adapt to face any enemy, allowing you to gain considerable",
				"advantages against those who oppose you. At the start of each",
				"of your turns, you may designate a single creature you can see to",
				"be your nemesis. You may treat your nemesis as though it were",
				"affected by your Favored Enemy feature or the optional ranger",
				"features that replaced your Favored Enemy feature. A creature",
				"remains your nemesis for as long as it is alive, until you go 1",
				"continuous month without tracking or seeing your nemesis, or",
				"until you designate a new nemesis.",
				"Additionally, you cannot have disadvantage or Epic disadvantage",
				"on attacks made against your nemesis.",
			]),
		},
		"ultimate predator" : {
			name : "Ultimate Predator",
			source : ["EL:HH", 73],
			minlevel : 2,
			description : desc([
				"Your enemies have great cause to fear your peerless hunting",
				"skills. You gain the ability to generate special dice from hunting",
				"your prey, called slayer dice, which are d12s. Slayer dice",
				"represent your escalating expertise in fighting certain enemies",
				"over time as you steadily gain the upper hand in battle. You",
				"can have a maximum number of slayer dice according to the",
				"Slayer Dice Maximum column of the slayer class progression",
				"table. Any excess slayer dice that would be gained are instead",
				"lost. Slayer dice are gained in a variety of methods, as detailed",
				"here. When you finish a long rest, any unspent slayer dice are",
				"lost.",
				"At the start of each of your turns in which you are in combat,",
				"you may generate the number of slayer dice according to the",
				"Slayer Dice Generation column of the slayer class progression",
				"table.",
				"Slayer dice can be expended in the following ways.",
			]),
			additional : ["", "4d12/Turn", "5d12/Turn", "6d12/Turn", "7d12/Turn", "8d12/Turn", "9d12/Turn", "10d12/Turn", "11d12/Turn", "12d12/Turn", 12, 12, 12, 12, 12, 12, 12, 12, 12, 12],
			usages : ["", "8d12", "10d12", "12d12", "14d12", "16d12", "18d12", "20d12", "22d12", "24d12", "24d12", "24d12", "24d12", "24d12", "24d12", "24d12", "24d12", "24d12", "24d12", "24d12"],
			recovery : "long rest",
			toNotesPage : [{
				name : "Ultimate Predator",
				note : [
						"◆ Slayer’s Defense. When you take damage from a favored enemy, you may expend and roll any number of your slayer dice and reduce the damage by the total amount rolled.",
						"◆ Slayer’s Focus. When you cast a ranger spell of 1st level or higher that requires concentration to maintain its effect, you may expend a number of slayer dice equal to its level to instinctively concentrate on the spell for its duration. When you do so, you automatically succeed on Constitution saving throws to maintain concentration on the spell.",
						"◆ Slayer’s Magic. When you would cast a ranger spell of 1st level or higher, you may expend a number of slayer dice equal to its level to instead cast it without expending a spell slot.",
						"◆ Slayer’s Strike. When you deal damage to one or more favored enemies with a weapon attack or spell, you may roll any number of your slayer dice to deal additional damage equal to the amount rolled to all affected enemy creatures.",
				],
			}],
		},
		"legendary survivalist" : {
			name : "Legendary Survivalist",
			source : ["EL:HH", 73],
			minlevel : 4,
			description : desc([
				"You can adapt to and live comfortably in even the most extreme",
				"environments, including those of other worlds. If you spend 1",
				"hour traveling or interacting with a non-artificial environment,",
				"you become immune to the average weather and environmental",
				"effects of that environment. This allows you to find adequate",
				"sustenance, to breathe, and to thrive as though you were a native",
				"of that environment. For example, a slayer adventuring in",
				"the hells may use this feature to become immune to the sulfurous",
				"toxic fumes of a vile swamp or the supernaturally frigid",
				"cold of a desolate glacier.",
				"However, this effect does not protect you from magical effects",
				"in the environment or other intentionally harmful environmental",
				"manipulations (such as those generated by a creature’s",
				"lair actions).",
			]),	
		},	
		"subclassfeature1" : {
			name : "Epic Ranger Archetype",
			source : ["EL:HH", 74],
			minlevel : 6,
			description : desc([
				"While you can hunt down and slay almost any foe with ease,",
				"your specialization allows you to do so in unique and terrifying",
				"ways. You gain the following features according to the",
				"ranger archetype you selected when you were advancing as a",
				"ranger.",
			]),
		},
		"huntmaster" : {
			name : "Huntmaster",
			source : ["EL:HH", 75],
			minlevel : 8,
			description : desc([
				"You are able to relentlessly track even the most dogged foes.",
				"The time required for you to finish a long rest is halved.",
				"Additionally, when you finish a long rest, instead of losing all",
				"your current slayer dice, you instead lose half your current slayer",
				"dice (rounded up).",
			]),
		},	
		"dread slayer" : {
			name : "Dread Slayer",
			source : ["EL:HH", 75],
			minlevel : 10,
			description : desc([
				"Those who have earned your wrath have no hope of survival.",
				"You have Epic advantage on attack rolls, saving throws, and",
				"ability checks against your favored enemies.",
			]),	
		},
	},
};
AddSubClass("slayer", "beast master", {
	regExpSearch : /^(?=.*(slayer))(?=.*beast master).*$/i,
	subname : "Beast Master",
	source : ["EL:HH", 74],	
	features : {
		"subclassfeature0" : {
			name : "Epic Companion",
			source : ["EL:HH", 71],
			minlevel : 1,
			description : desc([
				"The hit point maximum of the",
				"animal companion increases by 25 for every slayer",
				"level the character has, and the animal companion is",
				"considered an Epic creature.",
			]),
		},
		"subclassfeature1" : {
			name : "Beast Master",
			source : ["EL:HH", 74],
			minlevel : 6,
			description : desc([
				"Your beast companion becomes bonded to your very soul.",
				"While you are alive, when your beast companion would be reduced",
				"to 0 hit points, it instead is reduced to 1 hit point.",
				"Additionally, your companion is empowered to Epic heights,",
				"gaining the following benefits:",
				"* When your companion scores a hit with a weapon",
				"attack, it deals an additional 1d6 damage for each",
				"slayer die you have.",
				"* Your companion is immune to non-Epic spells and",
				"magical effects.",
				"* You can verbally command (no action required) your",
				"companion to take the Attack action.",
			]),
		},	
	},
});
AddSubClass("slayer", "drakewarden", {
	regExpSearch : /^(?=.*(slayer))(?=.*drakewarden).*$/i,
	subname : "Drakewarden",
	source : ["EL:HH", 74],	
	features : {
		"subclassfeature0" : {
			name : "Epic Companion",
			source : ["EL:HH", 71],
			minlevel : 1,
			description : desc([
				"The hit point maximum of the",
				"animal companion increases by 25 for every slayer",
				"level the character has, and the animal companion is",
				"considered an Epic creature.",
			]),
		},	
		"subclassfeature1" : {
			name : "Drakewarden",
			source : ["EL:HH", 74],
			minlevel : 6,
			description : desc([
				"Your bond with your draconic spirit is unshakable, allowing you",
				"to fight and adventure together in perfect symbiosis, granting",
				"you the following benefits:",
				"* You and your drake take your turns simultaneously.",
				"* Your drake is an Epic creature.",
				"* While you are mounted on your drake, you cannot be",
				"forcibly dismounted or magically teleported unless you",
				"allow it.",
				"* Your drake can expend your slayer dice via your Ultimate",
				"Predator feature to grant itself the benefits of the Slayer’s",
				"Defense and Slayer’s Strike options.",
			]),
		},	
	},
});
AddSubClass("slayer", "fey wanerer", {
	regExpSearch : /^(?=.*(slayer))(?=.*fey wanderer).*$/i,
	subname : "Fey Wanderer",
	source : ["EL:HH", 74],	
	features : {
		"subclassfeature1" : {
			name : "Fey Wanderer",
			source : ["EL:HH", 74],
			minlevel : 6,
			description : desc([
				"You walk between the worlds, finding solace in the shining twilight",
				"where mortals dare not tread. When you magically teleport,",
				"you become imbued with mystical fey energies until the",
				"end of that turn. While so imbued, your weapon attacks ignore",
				"all forms of cover and can pass through solid objects as though",
				"they did not exist.",
			]),
		},	
	},
});
AddSubClass("slayer", "gloom stalker", {
	regExpSearch : /^(?=.*(slayer))(?=.*gloom stalker).*$/i,
	subname : "Gloom Stalker",
	source : ["EL:HH", 74],	
	features : {
		"subclassfeature1" : {
			name : "Gloom Stalker",
			source : ["EL:HH", 74],
			minlevel : 6,
			description : desc([
				"You strike from the shadows with supernatural skill, fading into",
				"darkness before your foes have a chance to respond. As a reaction",
				"to when you score a hit with a weapon attack, you may turn",
				"invisible for 1 minute and take the Hide action. This invisibility",
				"ends early when you make an attack or cast a spell.",
			]),
		},	
	},
});
AddSubClass("slayer", "horizon walker", {
	regExpSearch : /^(?=.*(slayer))(?=.*horizon walker).*$/i,
	subname : "Horizon Walker",
	source : ["EL:HH", 74],	
	features : {
		"subclassfeature1" : {
			name : "Horizon Walker",
			source : ["EL:HH", 74],
			minlevel : 6,
			description : desc([
				"Your understanding of the planes lets you manipulate their",
				"energies with unparalleled skill. When you cast a ranger spell",
				"that affects one or more enemy creatures, you can choose to",
				"force any affected creatures to attempt a Charisma saving",
				"throw against your spell save DC. On a failure, they are magically",
				"teleported to unoccupied spaces of your choice within",
				"60 feet of them. If a creature fails this saving throw by 5 or",
				"more, you may choose to instead banish it back to its home",
				"plane (when applicable).",
			]),
		},	
	},
});
AddSubClass("slayer", "hunter", {
	regExpSearch : /^(?=.*(slayer))(?=.*hunter).*$/i,
	subname : "Hunter",
	source : ["EL:HH", 74],	
	features : {
		"subclassfeature1" : {
			name : "Legendary Defense",
			source : ["EL:HH", 74],
			minlevel : 6,
			description : desc([
				"",
			]),
			extraname : "Legendary Defense",
			extrachoices : ["Cunning Tactics", "Healing Surge"],
			extraTimes : 1,
			"cunning tactics" : {
				name : "Cunning Tactics",
				extraAC : [{
					mod : "Wis",
					magic : false,
				}],
				description : desc([
					"You gain a bonus to your Armor Class equal to your Wisdom modifier.",
				]),
			},
			"healing surge" : {
				name : "Healing Surge",
				description : desc([
					"As a bonus action, you can spend your Hit Dice to regain hit points as though you had instantly taken a short rest.",
				]),
			},
		},	
		"subclassfeature1.1" : {
			name : "Sentinel",
			source : ["EL:HH", 74],
			minlevel : 6,
			description : desc([
				"",
			]),
			extraname : "Sentinel",
			extrachoices : ["+1 Extra Attack", "Shatterpoint"],
			extraTimes : 1,
			"+1 extra attack" : {
				name : "+1 Extra Attack",
				attacks : [2, 2, 2, 2, 2, 3, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2],
				action : "action",
				description : desc([
					"When you take the Attack action, you can make an additional attack as a part of that action.",
				]),
			},
			"shatterpoint" : {
				name : "Shatterpoint",
				description : desc([
					"Favored enemies cannot have resistance or immunity to damage dealt by you.",
				]),
			},
		},
	},
});
AddSubClass("slayer", "monster slayer", {
	regExpSearch : /^(?=.*(slayer))(?=.*monster slayer).*$/i,
	subname : "Monster Slayer",
	source : ["EL:HH", 74],	
	features : {
		"subclassfeature1" : {
			name : "Monster Slayer",
			source : ["EL:HH", 74],
			minlevel : 6,
			description : desc([
				"Your blows can fell horrors of any size and strength, potentially",
				"killing them instantly. As a bonus action, you can prepare",
				"yourself to strike against a single favored enemy you see.",
				"Until the end of that turn, when you next score a hit with a",
				"weapon attack against the target, the creature must succeed on",
				"a Constitution saving throw against your spell save DC or die",
				"instantly if it has 200 or fewer hit points. Once you have slain",
				"a creature with this feature, you must finish a short or long rest",
				"before you can use it again.",
			]),
		},	
	},
});
AddSubClass("slayer", "swarmkeeper", {
	regExpSearch : /^(?=.*(slayer))(?=.*swarmkeeper).*$/i,
	subname : "Swarmkeeper",
	source : ["EL:HH", 74],	
	features : {
		"subclassfeature1" : {
			name : "Swarmkeeper",
			source : ["EL:HH", 74],
			minlevel : 6,
			description : desc([
				"Your swarm and you become one, many minds acting as a single",
				"whole. When you hit a creature with a weapon attack for",
				"the first time on a turn or affect a creature with a spell for the",
				"first time on a turn, you can choose to inflict a portion of your",
				"swarm on it. A creature so afflicted takes 4d6 piercing damage",
				"at the end of each of its turns. This effect is cumulative, and",
				"creatures reduced to 0 hit points by this damage are skeletonized.",
				"This effect ends early if you are slain or if an affected creature",
				"is ever farther than 500 feet from you.",
			]),
		},	
	},
});
ClassList.grifter = {
	
	regExpSearch : /grifter/i,
	name : "Grifter",
	source : [["EL:HH", 76]],
	primaryAbility : ["Dexterity"],
	abilitySave : 2,
	prereqs : "Dexterity 13",
	improvements : [1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5],
	scoresMaximum : [30, 30, 30, 30, 30, 30],
	die : 8,
	subclasses : ["Epic Rougish Archetype", []],
	attacks : [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
	features : {
		"proficiencies" : {
			name : "Proficiencies", 
			source : ["EL:HH", 72],
			minlevel : 1,
			description : "\n   " + "Saving Throws. You gain proficiency in a single saving throw of your choice. Use the Choose Feature button on the second page to select your proficiency",
			extraname : "Bonus Saving Throw",
			extrachoices : ["Strength", "Constitution", "Wisdom", "Charisma"],
			"strength" : {
				name : "Strength",
				description : "\n   " + "You gain proficiency in Strength Saving Throws",
				saves : ["Str"],
			},	
			"constitution" : {
				name : "Constitution",
				description : "\n   " + "You gain proficiency in Constitution Saving Throws",
				saves : ["Con"],
			},
			"wisdom" : {
				name : "Wisdom",
				description : "\n   " + "You gain proficiency in Wisdom Saving Throws",
				saves : ["Wis"],
			},	
			"charisma" : {
				name : "Charisma",
				description : "\n   " + "You gain proficiency in Charisma Saving Throws",
				saves : ["Cha"],
			},	
		},	
		"epic feat" : {
			name : "Epic Feat",
			source : ["EL:HH", 72],
			minlevel : 1,
			description : "\n   " + "When you reach 21st level, and again at 25th and 29th level, you may select one Epic feat from the Epic feat list detailed in chapter 3. You may forgo taking an Epic feat to instead increase one ability score of your choice by 4, or you can increase two ability scores of your choice by 2.",
		},	
		"cheap shot" : {
			name : "Cheap Shot",
			source : ["EL:HH", 77],
			minlevel : 1,
			description : desc([
				"You are able to strike with guile and cunning that few can",
				"match. You may add either your Intelligence, Wisdom, or",
				"Charisma modifier to your weapon attack and damage rolls, in",
				"addition to its ordinary modifiers.",
			]),
		},
		"devious talents" : {
			name : "Devious Talents",
			source : ["EL:HH", 77],
			minlevel : 2,
			description : desc([
				"Your roguish abilities continue to improve by leaps and bounds,",
				"granting you the following benefits.",
				"* Epic Skills. At 22nd level, you may gain proficiency in a single",
				"skill of your choice or double your proficiency bonus for any",
				"ability check you make for a skill in which you are proficient.",
				"You gain the benefits of the feature again at 24th, 26th, 28th,",
				"and 30th level.",
				"* Epic Sneak Attack. When you use your Sneak Attack rogue",
				"feature, the amount of extra damage increases as you gain levels",
				"in this Epic prestige class, as shown in the Sneak Attack",
				"column of the grifter class progression table. This amount of",
				"extra damage includes extra damage gained from your Sneak",
				"Attack feature from when you were advancing as a rogue.",
			]),
			additional : levels.map(function (n) {
					return Math.ceil(10 + n) + "d6";
			}),
				calcChanges : {
					atkAdd : [
						function (fields, v) {
							if (classes.known.grifter && classes.known.grifter.level && !v.isSpell && !v.isDC && (v.isRangedWeapon || (/\bfinesse\b/i).test(fields.Description))) {
								v.sneakAtk = Math.ceil(classes.known.grifter.level + 10);
								fields.Description += (fields.Description ? '; ' : '') + 'Sneak attack ' + v.sneakAtk + 'd6';
							}
						},
						"Once per turn, when I attack with a ranged or finesse weapon while I have advantage or an conscious ally is within 5 ft of the target, I can add my sneak attack damage to the attack.",
						700
					]
				}
		},
		"reality grifting" : {
			name : "Reality Grifting",
			source : ["EL:HH", 77],
			minlevel : 2,
			description : desc([
				"You begin mastering extraordinary roguish talents that test the",
				"limits of what is physically possible. This talent is called reality",
				"grifting and is tied to your proficiency in certain skills. When",
				"you would deal damage to a creature on an attack that benefits",
				"from your Sneak Attack rogue class feature, you can choose to",
				"turn that attack into a combo by applying your proficiency in a",
				"single skill to the attack. Doing so augments the Sneak Attack",
				"with the benefits afforded by the combo. You cannot use a combo",
				"with an associated skill in which you are not proficient. The",
				"effects of a combo are detailed in the “Grifting Combos” section.",
			]),
			toNotesPage : [{
				name : "Grifting Combos",
				note : [
					"* Acrobatics: Mount: When you use this combo on a creature of your size or larger, you may attempt a Dexterity (Acrobatics) ability check with a DC equal to the target’s Dexterity score. On a success, you leap on the creature and enter its space without provoking an opportunity attack. You remain bestride the target for as long you are not incapacitated or until you choose to jump off by expending half your movement. Additionally, you have Epic advantage on attacks against the creature, and the creature has Epic disadvantage on attacks against you. When the creature moves, youmove with the creature. The creature can attempt to shake you off by taking an action to attempt a Strength (Athletics) ability check contested by your Dexterity (Acrobatics) ability check, throwing you off on a success.",
					"* Animal Handling: Pack Tactics: When you use this combo on a creature, you may attempt a Wisdom (Animal Handling) ability check with a DC equal to the target’s Dexterity score. On a success, the creature provokes an opportunity attack from each enemy creature within reach other than you.",
					"* Arcana: Spellbreaker: When you use this combo on a creature, you may attempt an Intelligence (Arcana) ability check with a DC equal to the target’s spellcasting ability score. On a success, the target immediately loses concentration on any spells or Epic spells it is currently concentrating on.",
					"* Athletics: Momentous Strikes: When you use this combo on a creature, you attempt a Strength (Athletics) ability check with a DC equal to the target’s Strength score. You have Epic disadvantage on this check against a creature two or more size categories larger than you. On a success, you may move up to 60 feet along the ground in a straight line and push the target ahead of you.",
					"* Deception: Deceptive Wager: When you use this combo on a creature, you may attempt a Charisma (Deception) ability check with a DC equal to the target’s Wisdom score. On a success, you gain an additional bonus action that turn. This bonus action can only be used to take a Cunning Action.",
					"* History: Hidden Wounds: When you use this combo on a creature, you may attempt an Intelligence (History) ability check with a DC equal to the target’s Wisdom score. On a success, you can choose to deal no damage with the attack and instead leave the creature with a hidden wound. Record the result of your Intelligence (History) ability check as well as the amount of damage you would have dealt with the attack, and designate a period of time up to 24 hours from the time when you damaged the creature with the attack. At that time, the creature takes the damage from the attack that you recorded, as the effects of the wound finally manifest, along with any additional effects that would accompany the attack (such as poison or magical effects). Creatures without anatomy (such as oozes) are immune to the effects of this combo. To an affected creature, it appears as though the attack miraculously did no damage on a hit. A hidden wound can be detected by a successful Wisdom (Medicine) ability check against a DC equal to the result of your Intelligence (History) ability check made to inflict the wound.",
					"* Insight: Intuitive Strike: When you use this combo on a creature, you may attempt a Wisdom (Insight) ability check with a DC equal to the target’s Constitution score. On a success, the target’s vitals are disrupted until the start of its next turn. When an affected creature would attempt a Strength, Dexterity, or Constitution saving throw, it rolls a d8 and subtracts the amount rolled from the result.",
					"* Intimidation: Frightful Injury: When you use this combo on a creature, you may attempt a Charisma (Intimidation) ability check with a DC equal to the target’s Wisdom score. On a success, the target is intimidated by you until the end of its next turn. A creature so intimidated cannot willingly attack you unless it cannot attack another enemy creature.",
					"* Investigation: Exploit Vulnerability: When you use this combo on a creature, you may attempt an Intelligence (Investigation) ability check with a DC equal to the target’s Wisdom score. On a success, the target becomes staggered by the blow and incapacitated until the end of your turn.",
					"* Medicine: Surgical Mangling: When you use this combo on a creature, you may attempt a Wisdom (Medicine) ability check with a DC equal to the target’s Constitution score. On a success, the target becomes mangled until the end of its next turn. While so mangled, the target’s speed is halved and it has Epic disadvantage on attack rolls.",
					"* Nature: Savage Rending: When you use this combo on a creature, you may attempt an Intelligence (Nature) ability check with a DC equal to the target’sConstitution score. On a success, the creature suffers a grievous wound, which lasts until it finishes a short or long rest. When a creature so wounded would regain hit points, it instead regains half as many hit points. The wound can be prematurely healed by an affected creature receiving the benefits of a Wisdom (Medicine) ability check with a DC equal to the result of your Intelligence (Nature) ability check.",
					"* Perception: Deadly Accuracy: When you use this combo on a creature, you may attempt a Wisdom (Perception) ability check with a DC equal to the target’s Constitution score. On a success, the creature cannot have resistance or immunity to damage dealt by the attack.",
					"* Performance: Whirling Dervish: When you use this combo on a creature, you may attempt a Charisma (Performance) ability check with a DC equal to the target’s Charisma score. On a success, you fascinate the creature with your elegant maneuvers until the end of its next turn. A creature so fascinated cannot willingly move away from you using its movement.",
					"* Persuasion: Lethal Promise: When you use this combo on a creature, you may attempt a Charisma (Persuasion) ability check with a DC equal to the target’s Wisdom score. On a success, you gain an additional reaction, which lasts until the start of your next turn. This reaction can only be used to make opportunity attacks against the target creature.",
					"* Religion: Profane Strike: When you use this combo on a creature, you may attempt an Intelligence (Religion) ability check with a DC equal to the target’s Charisma score. On a success, if the target is a celestial, fey, or fiend, it is stunned until the start of its next turn.",
					"* Sleight of Hand: Filch: When you use this combo on a creature, you may attempt to steal something from it by attempting a Dexterity (Sleight of Hand) ability check with a DC equal to the target’s Dexterity score. On a success, if the creature is holding a weapon or object or carrying an object that you are aware of, you may disarm or steal a single weapon or object on its person. If you are able to carry the stolen item (requiring the necessary carrying capacity and a free hand), it enters your possession. Otherwise, it falls to the ground.",
					"* Stealth: Shadow in the Night: When you use this combo on a creature, you may attempt a Dexterity (Stealth) ability check with a DC equal to the target’s Wisdom score. On a success, the target does not perceive you attacked it, and if you are hidden the attack does not reveal your position.",
					"* Survival: Survivor's Gambit: When you use this combo on a creature, you may attempt a Wisdom (Survival) ability check with a DC equal to the target’s Constitution score. On a success, you gain temporary hit points equal to half the damage dealt (rounded down), which last until the start of your next turn or until they are replaced by temporary hit points from another source.",
				],
			}],
		},	
		"cut deep" : {
			name : "Cut Deep",
			source : ["EL:HH", 77],
			minlevel : 4,
			description : desc([
				"Your attacks find not only the right weak points but also just",
				"how to hurt them. When you score a hit against a creature and",
				"the attack roll exceeds your target’s AC by 10 or more, it deals",
				"double damage. If the attack already would deal double damage,",
				"it instead deals quadruple damage.",
			]),	
		},	
		"subclassfeature1" : {
			name : "Epic Roguish Archetype",
			source : ["EL:HH", 77],
			minlevel : 6,
			description : desc([
				"The techniques you mastered as a rogue are expanded to Epic levels,",
				"making you an uncontested master of subterfuge and intrigue.",
				"You gain the following features according to the roguish archetype",
				"you selected when you were advancing as a rogue.",
			]),
		},
		"perfect blade" : {
			name : "Perfect Blade",
			source : ["EL:HH", 80],
			minlevel : 8,
			description : desc([
				"You perform expertly with weapons you have mastered. You",
				"cannot have disadvantage or Epic disadvantage on weapon attacks",
				"made with weapons you are proficient with.",
			]),
		},	
		"untouchable" : {
			name : "Untouchable",
			source : ["EL:HH", 80],
			minlevel : 10,
			description : desc([
				"You are nearly impossible to injure, as you avoid hostile effects",
				"with ease. When you succeed on a saving throw and would suffer",
				"an effect on a success, you instead suffer no effect.",
			]),	
		},
	},
};
AddSubClass("grifter", "arcane trickster", {
	regExpSearch : /^(?=.*(grifter))(?=.*arcane trickster).*$/i,
	subname : "Arcane Trickster",
	source : ["EL:HH", 74],	
	abilitySave : 4,
	spellcastingFactor : 3,
	spellcastingList : {
		"class" : "wizard",
		school : ["Ench", "Illus"],
		level : [1, 9],
	},
	spellcastingKnown : {
		cantrips : [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
		spells : [0, 0, 0, 0, 0, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13],
	},
	features : {
		"subclassfeature1" : {
			name : "Arcane Trickster",
			source : ["EL:HH", 78],
			minlevel : 6,
			addMod : [
				{ type : "", field : "SpellSlots.CheckboxesSet.lvl3", mod : 3, text : ""},
				{ type : "", field : "SpellSlots.CheckboxesSet.lvl4", mod : 3, text : ""},
				{ type : "", field : "SpellSlots.CheckboxesSet.lvl5", mod : 3, text : ""},
				{ type : "", field : "SpellSlots.CheckboxesSet.lvl6", mod : 2, text : ""},
				{ type : "", field : "SpellSlots.CheckboxesSet.lvl7", mod : 2, text : ""},
				{ type : "", field : "SpellSlots.CheckboxesSet.lvl8", mod : 1, text : ""},
				{ type : "", field : "SpellSlots.CheckboxesSet.lvl9", mod : 1, text : ""},
			],
			description : desc([
				"Your magic becomes even more conniving and subtle. Your",
				"Spellcasting subclass feature improves, and you gain additional",
				"spell slots and spells known for that feature according to the",
				"Arcane Trickster Spellcasting table. These additional spells and",
				"spell slots can be used in the same manner as those provided by",
				"your subclass’s non-Epic features.",
				"Additionally, you can use your Cunning Action to cast a",
				"non-Epic spell of 1st level or higher with a casting time of 1",
				"action or bonus action.",
			]),
		},
	},
});
AddSubClass("grifter", "assassin", {
	regExpSearch : /^(?=.*(grifter))(?=.*assassin).*$/i,
	subname : "Assassin",
	source : ["EL:HH", 78],	
	features : {
		"subclassfeature1" : {
			name : "Assassin",
			source : ["EL:HH", 78],
			minlevel : 6,
			description : desc([
				"Your killing skills are honed to their finest. A creature slain",
				"by your weapon attacks cannot be returned to life, except by",
				"Deific means.",
				"Additionally, when you take the Hide action on your turn and",
				"no other actions, your next attack against a creature from which",
				"you are hidden treats the target as though it were surprised for",
				"the purposes of benefiting from your Assassin subclass features.",
			]),
		},	
	},
});
AddSubClass("grifter", "inquisitive", {
	regExpSearch : /^(?=.*(grifter))(?=.*inquisitive).*$/i,
	subname : "Inquisitive",
	source : ["EL:HH", 78],	
	features : {
		"subclassfeature1" : {
			name : "Inquisitive",
			source : ["EL:HH", 78],
			minlevel : 6,
			description : desc([
				"Your powers of observation allow for the nearly instantaneous",
				"assessment of your enemies. When you take the Search action,",
				"you can attempt to analyze one enemy creature you can see",
				"and look for a weak point. If the result of your Intelligence",
				"(Investigation) or Wisdom (Perception) ability check exceeds",
				"the target’s AC or Constitution score (whichever is higher),",
				"you learn a weak point in its defenses. A creature that knows",
				"of this weak point can choose to attack it, and the target’s AC",
				"against an attack on its weak point is always 10. After a creature’s",
				"weak point has been hit by an attack, that specific weak",
				"point cannot be hit again. Once you have successfully analyzed",
				"a creature in this manner, you cannot analyze it again until you",
				"finish a short or long rest.",
			]),
		},	
	},
});
AddSubClass("grifter", "mastermind", {
	regExpSearch : /^(?=.*(grifter))(?=.*mastermind).*$/i,
	subname : "Mastermind",
	source : ["EL:HH", 78],	
	features : {
		"subclassfeature1" : {
			name : "Mastermind",
			source : ["EL:HH", 78],
			minlevel : 6,
			description : desc([
				"Your tactical acumen allows allies to benefit from your surgical",
				"precision. As a reaction to when an ally that can hear or see you",
				"scores a hit on a weapon attack and is benefiting from a Help",
				"action provided by you, you may add your Sneak Attack damage",
				"to that attack’s damage.",
			]),
		},	
	},
});
AddSubClass("grifter", "phantom", {
	regExpSearch : /^(?=.*(grifter))(?=.*phantom).*$/i,
	subname : "Phantom",
	source : ["EL:HH", 78],	
	features : {
		"subclassfeature1" : {
			name : "Phantom",
			source : ["EL:HH", 78],
			minlevel : 6,
			description : desc([
				"Your affiliation with death has rewarded you with strange gifts",
				"that defy explanation. As a reaction when you deal 100 or more",
				"damage in a single instance to a creature with a soul, you may",
				"choose to reap some of its essence. When you do so, the creature",
				"instead takes no damage and has its hit point maximum",
				"reduced by twice the damage that would have been dealt (before",
				"the target’s resistances and immunities are applied), and",
				"it loses proficiency in a saving throw of your choice. This hit",
				"point maximum reduction lasts for 24 hours. Once a creature",
				"has been affected in this manner, it cannot be affected again",
				"until 24 hours have passed.",
			]),
		},	
	},
});
AddSubClass("grifter", "scout", {
	regExpSearch : /^(?=.*(grifter))(?=.*scout).*$/i,
	subname : "Scout",
	source : ["EL:HH", 78],	
	features : {
		"subclassfeature1" : {
			name : "Scout",
			source : ["EL:HH", 78],
			minlevel : 6,
			description : desc([
				"Your speed and mobility allow for superior combat prowess",
				"when engaging enemies. When you take the Dash action, until",
				"the end of that turn your Sneak Attack damage dice become",
				"d8s instead of d6s.",
			]),
		},	
	},
});
AddSubClass("grifter", "soulknife", {
	regExpSearch : /^(?=.*(grifter))(?=.*soulknife).*$/i,
	subname : "Soulknife",
	source : ["EL:HH", 78],	
	features : {
		"subclassfeature1" : {
			name : "Soulknife",
			source : ["EL:HH", 78],
			minlevel : 6,
			description : desc([
				"Your psionic power allows you to create the ultimate weapon",
				"to be used against any who dare doubt your strength of mind.",
				"When you would expend one of your Psionic Energy dice",
				"granted by your subclass features, you may roll the dice, record",
				"the result, and charge yourself with psionic energy for up",
				"to 1 hour. This effect is cumulative, adding to the charge of",
				"psionic energy each time the dice are rolled. When you score",
				"a hit against a creature, you can choose to expend this energy,",
				"dealing additional psychic damage equal to the charge stored.",
			]),
		},	
	},
});
AddSubClass("grifter", "swashbuckler", {
	regExpSearch : /^(?=.*(grifter))(?=.*swashbuckler).*$/i,
	subname : "Swashbuckler",
	source : ["EL:HH", 78],	
	features : {
		"subclassfeature1" : {
			name : "Swashbuckler",
			source : ["EL:HH", 78],
			minlevel : 6,
			description : desc([
				"As a reaction when a creature you can see makes an attack against",
				"you, you may attempt to parry the attack by making a single",
				"melee weapon attack. If the result of your attack roll is greater",
				"than the result of the incoming attack roll, the triggering attack",
				"misses and you may make a single melee weapon attack against",
				"the source of the attack (if within range) at Epic advantage.",
			]),
		},	
	},
});
AddSubClass("grifter", "thief", {
	regExpSearch : /^(?=.*(grifter))(?=.*thief).*$/i,
	subname : "Thief",
	source : ["EL:HH", 80],	
	features : {
		"subclassfeature1" : {
			name : "Thief",
			source : ["EL:HH", 80],
			minlevel : 6,
			description : desc([
				"Your skills at thievery are so extraordinary that you can steal a",
				"little of time itself. As a bonus action on each of your turns, you",
				"may gain one level of exhaustion to take an additional action",
				"that turn.",
			]),
		},	
	},
});
ClassList.archon = {
	
	regExpSearch : /archon/i,
	name : "Archon",
	source : [["EL:HH", 76]],
	primaryAbility : ["Charisma"],
	abilitySave : 6,
	prereqs : "Charisma 13",
	improvements : [1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5],
	scoresMaximum : [30, 30, 30, 30, 30, 30],
	die : 6,
	subclasses : ["Epic Sorcerous Origin", []],
	attacks : [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
	spellcastingFactor : 2,
	spellcastingKnown : {
		cantrips : 0,
		spells : [0, 2, 3, 4, 5, 6, 7, 8, 9, 10, 10 ,10 ,10, 10, 10, 10 ,10 ,10, 10, 10],
	},	
	features : {
		"proficiencies" : {
			name : "Proficiencies", 
			source : ["EL:HH", 82],
			minlevel : 1,
			description : "\n   " + "Saving Throws. You gain proficiency in a single saving throw of your choice. Use the Choose Feature button on the second page to select your proficiency",
			extraname : "Bonus Saving Throw",
			extrachoices : ["Strength", "Dexterity", "Intelligence", "Wisdom"],
			"strength" : {
				name : "Strength",
				description : "\n   " + "You gain proficiency in Strength Saving Throws",
				saves : ["Str"],
			},	
			"dexterity" : {
				name : "Dexterity",
				description : "\n   " + "You gain proficiency in Dexterity Saving Throws",
				saves : ["Dex"],
			},
			"intelligence" : {
				name : "Intelligence",
				description : "\n   " + "You gain proficiency in Intelligence Saving Throws",
				saves : ["Int"],
			},	
			"wisdom" : {
				name : "Wisdom",
				description : "\n   " + "You gain proficiency in Wisdom Saving Throws",
				saves : ["Wis"],
			},
		},	
		"epic feat" : {
			name : "Epic Feat",
			source : ["EL:HH", 83],
			minlevel : 1,
			description : "\n   " + "When you reach 21st level, and again at 25th and 29th level, you may select one Epic feat from the Epic feat list detailed in chapter 3. You may forgo taking an Epic feat to instead increase one ability score of your choice by 4, or you can increase two ability scores of your choice by 2.",
		},	
		"arcane lifeblood" : {
			name : "Arcane Lifeblood",
			source : ["EL:HH", 83],
			minlevel : 1,
			description : desc([
				"Your Flexible Casting sorcerer class feature expands to accommodate",
				"your power, allowing you to create spell slots for some",
				"of your most powerful spells according to the following table.",
			]),
			toNotesPage : [{
				name : "Arcane Lifeblood",
				note : [
					"Spell Slot level				Sorcery Point Cost",
					"		6th								9",
					"		7th								11",
					"		8th								13",
				],
			}],
		},
		"epic spellcasting" : {
			name : "Epic Spellcasting",
			source : ["EL:HH", 83],
			minlevel : 2,
			description : desc([
				"You can draw forth from your body the most powerful magic",
				"in the world, which you manifest into the fearsome shapes of",
				"Epic spells. See the “Epic Spellcasting” section in chapter 4 for",
				"details and the general rules of Epic magic, and refer to the",
				"archon Epic spell list. You cannot apply non-Epic Metamagic",
				"options you know to Epic spells you cast, but you may apply",
				"Epic Metamagic options you know.",
				"The archon class progression table shows how many Epic",
				"spell slots you have available to cast your Epic spells of tier 1 or",
				"higher. To cast one of these Epic spells, you must expend a slot",
				"of the spell’s tier or higher. You regain all expended Epic spell",
				"slots when you finish a long rest.",
			]),
		},
		"epic cantrip" : {
			name : "Sorcerous Supremacy1",
			source : ["EL:HH", 77],
			minlevel : 2,
			description : desc([
				"You effortlessly expand your arcane power and begin to discover",
				"newfound levels of mastery over Epic magic. You choose",
				"two options from the following list. You can choose two options",
				"from the list again at 24th, 26th, 28th, and 30th level. You",
				"cannot choose the same option twice per level but can choose",
				"an option you have selected at lower levels.",
			]),
			extraname : "Epic Cantrip",
			extrachoices : ["Epic Cantrip 1", "Epic Cantrip 2", "Epic Cantrip 3", "Epic Cantrip 4", "Epic Cantrip 5"],
			extraTimes : [0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5],
			"epic cantrip 1" : {
				name : "Epic Cantrip 1",
				description : desc([
					"When you cast a cantrip that deals damage,",
					"you may improve its potency. When you do so, when you cast",
					"that cantrip it deals one additional damage die on its effects.",
					"A cantrip can benefit from this feature multiple times.",
				]),
			},	
			"epic cantrip 2" : {
				name : "Epic Cantrip 2",
				description : desc([
					"When you cast a cantrip that deals damage,",
					"you may improve its potency. When you do so, when you cast",
					"that cantrip it deals one additional damage die on its effects.",
					"A cantrip can benefit from this feature multiple times.",
				]),
			},
			"epic cantrip 3" : {
				name : "Epic Cantrip 3",
				description : desc([
					"When you cast a cantrip that deals damage,",
					"you may improve its potency. When you do so, when you cast",
					"that cantrip it deals one additional damage die on its effects.",
					"A cantrip can benefit from this feature multiple times.",
				]),
			},
			"epic cantrip 4" : {
				name : "Epic Cantrip 4",
				description : desc([
					"When you cast a cantrip that deals damage,",
					"you may improve its potency. When you do so, when you cast",
					"that cantrip it deals one additional damage die on its effects.",
					"A cantrip can benefit from this feature multiple times.",
				]),
			},
			"epic cantrip 5" : {
				name : "Epic Cantrip 5",
				description : desc([
					"When you cast a cantrip that deals damage,",
					"you may improve its potency. When you do so, when you cast",
					"that cantrip it deals one additional damage die on its effects.",
					"A cantrip can benefit from this feature multiple times.",
				]),
			},
		},	
		"epic metamagic" : {
			name : "Sorcerous Supremacy2",
			source : ["EL:HH", 84],
			minlevel : 2, 
			description : "You gain one Epic Metamagic option of your choice.",
			extraname : "Epic Metamagic", 
			extrachoices : ["Annihilating Spell", "Chain Spell", "Eternal Spell", "Instant Spell", "Precise Spell", "Secret Spell", "Sequestered Spell", "Unyielding Spell"],
			extraTimes : [0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5],
			"annihilating spell" : {
				name : "Annihilating Spell",
				description : desc([
					"When you cast a spell that deals damage, you may gain three",
					"levels of overload if the spell was an Epic spell, or two levels of",
					"overload if the spell was a non-Epic spell, to deal maximum",
					"damage with that spell on all its damage dice.",
				]),
			},	
			"chain spell" : {
				name : "Chain Spell",
				description : desc([
					"When you cast a spell that targets only one creature and doesn’t",
					"have a range of touch, you can gain two levels of overload if the",
					"spell was a non-Epic spell, or three levels of overload if the spell",
					"was an Epic spell. When you do so, you can target up to three",
					"additional creatures within range with the same spell. You can",
					"use this Epic Metamagic option multiple times with a single",
					"casting of a spell, allowing you to target additional creatures",
					"with the spell.",
				]),	
			},	
			"eternal spell" : {
				name : "Eternal Spell",
				description : desc([
					"When you cast a spell with a duration of 1 minute or longer,",
					"you can gain two levels of overload if the spell was a non-Epic",
					"spell, or four levels of overload if the spell was an Epic spell.",
					"When you do so, you increase the spell’s duration to permanent",
					"and no longer need to concentrate on the spell to maintain",
					"its effects (when applicable). While the spell is in effect, your",
					"levels of overload cannot be reduced below two if the spell was",
					"a non-Epic spell, or four if the spell was an Epic spell. A spell",
					"affected by this Epic Metamagic option immediately ends if",
					"you use this Epic Metamagic option again on a different spell",
				]),	
			},
			"instant spell" : {
				name : "Instant Spell",
				description : desc([
					"When you cast a spell with a casting time of 1 action or bonus",
					"action, you can gain two levels of overload to cast the spell instantly",
					"without expending either action.",
				]),	
			},
			"precise spell" : {
				name : "Precise Spell",
				description : desc([
					"When you cast a spell that affects other creatures that you can",
					"see, you can gain one level of overload to make any number of",
					"affected creatures of your choice immune to the effects of that",
					"spell for its duration.",
				]),	
			},
			"secret spell" : {
				name : "Secret Spell",
				description : desc([
					"When you cast a spell, you can gain one level of overload to",
					"remove the need for somatic or verbal components to cast that",
					"spell. If you were hidden or invisible when you cast the spell,",
					"you are neither revealed nor rendered visible by casting the",
					"spell. A creature may still determine your presence and space",
					"you occupy based on the effects of the spell.",
				]),	
			},
			"sequestered spell" : {
				name : "Sequestered Spell",
				description : desc([
					"When you cast a spell, you can gain one level of overload to",
					"magically perceive all creatures and objects in a 120-foot radius",
					"centered on you, including hidden ones. You may then cast the",
					"spell from any space within the area as though you were in that",
					"space.",
				]),	
			},
			"unyielding spell" : {
				name : "Unyielding Spell",
				description : desc([
					"When you cast a spell that forces one or more creatures to attempt",
					"a saving throw, you may gain two levels of overload to",
					"force all affected creatures to roll a 1 on their first saving throw",
					"against the spell.",
				]),	
			},
		},
		"expanded sorcery points" : {
			name : "Sorcerous Supremacy3",
			source : ["EL:HH", 84],
			minlevel : 2, 
			description : "",
			extraname : "Expanded Sorcery Points", 
			extrachoices : ["Expanded Sorcery Points 1", "Expanded Sorcery Points 2", "Expanded Sorcery Points 3", "Expanded Sorcery Points 4", "Expanded Sorcery Points 5"],
			extraTimes : [0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5],
			"expanded sorcery points 1" : {
				name : "Expanded Sorcery Points 1",
				description : "Your sorcery point maximum increases by 5.",
				extraLimitedFeatures : [{
					name : "Sorcery Points",
					usages : 5,
					recovery : "long rest",
					addToExisting : true,
				}],	
			},	
			"expanded sorcery points 2" : {
				name : "Expanded Sorcery Points 2",
				description : "Your sorcery point maximum increases by 5.",
				extraLimitedFeatures : [{
					name : "Sorcery Points",
					usages : 5,
					recovery : "long rest",
					addToExisting : true,
				}],
			},
			"expanded sorcery points 3" : {
				name : "Expanded Sorcery Points 3",
				description : "Your sorcery point maximum increases by 5.",
				extraLimitedFeatures : [{
					name : "Sorcery Points",
					usages : 5,
					recovery : "long rest",
					addToExisting : true,
				}],
			},
			"expanded sorcery points 4" : {
				name : "Expanded Sorcery Points 4",
				description : "Your sorcery point maximum increases by 5.",
				extraLimitedFeatures : [{
					name : "Sorcery Points",
					usages : 5,
					recovery : "long rest",
					addToExisting : true,
				}],
			},
			"expanded sorcery points 5" : {
				name : "Expanded Sorcery Points 5",
				description : "Your sorcery point maximum increases by 5.",
				extraLimitedFeatures : [{
					name : "Sorcery Points",
					usages : 5,
					recovery : "long rest",
					addToExisting : true,
				}],
			},
		},
		"spell knowledge" : {
			name : "Sorcerous Supremacy4",
			source : ["EL:HH", 84],
			minlevel : 2,
			description : "",
			extraname : "Spell Knowledge", 
			extrachoices : ["Spell Knowledge",],
			extraTimes : [0, 1],
			"spell knowledge" : {
				name : "Spell Knowledge",
				description : "You learn three non-Epic spells from the sorcerer spell list, or one non-Epic spell from any class spell list. A spell learned in this manner must be of a level for which you have spell slots.",
				eval : function() { AddFeat("Spell Knowledge"); },
				removeeval : function() { RemoveFeat("Spell Knowledge"); },
			},
		},	
		"spell cycling" : {
			name : "Spell Cycling",
			source : ["EL:HH", 85],
			minlevel : 4,
			description : desc([
				"You can absorb Epic magic, granting you a tremendous amount",
				"of energy. As a bonus action, you can expend one Epic spell",
				"slot and gain a number of special temporary sorcery points.",
				"These temporary sorcery points can be used in the same manner",
				"as your normal sorcery points but do not count toward",
				"the maximum number of sorcery points you can have. You can",
				"never have a number of temporary sorcery points greater than",
				"your character level. You gain 12 temporary sorcery points",
				"from expending a tier 1 Epic spell slot, 15 from a tier 2 Epic",
				"spell slot, and 19 from a tier 3 Epic spell slot. When you finish",
				"a long rest, temporary sorcery points gained from this feature",
				"are lost.",
			]),	
			action : "bonus action",
			addMod : [
				{ type : "", field : "SpellSlots.CheckboxesSet.lvl2", mod : 1, text : ""},
			],
		},
		"" : {
			name : "",
			source :["EL:HH", 83],
			minlevel : 5,
			description : "",
			addMod : [
				{ type : "", field : "SpellSlots.CheckboxesSet.lvl1", mod : -1, text : ""},
			],
		},	
		"subclassfeature1" : {
			name : "Epic Sorcerous Origin",
			source : ["EL:HH", 77],
			minlevel : 6,
			description : desc([
				"Your bloodline allows you to master secrets of Epic power from",
				"your ancestry. These secrets take the form of special benefits",
				"and an Epic Metamagic unique to your ancestry. You gain the",
				"following features according to the sorcerous origin you selected",
				"as a sorcerer.",
			]),
			addMod : [
				{ type : "", field : "SpellSlots.CheckboxesSet.lvl1", mod : -1, text : ""},
				{ type : "", field : "SpellSlots.CheckboxesSet.lvl3", mod : 1, text : ""},
			],
		},
		"d" : {
			name : "",
			source : ["EL:HH", 83],
			minlevel : 7,
			description : "",
			addMod : [
				{ type : "", field : "SpellSlots.CheckboxesSet.lvl1", mod : -1, text : ""},
				{ type : "", field : "SpellSlots.CheckboxesSet.lvl2", mod : -1, text : ""},
				{ type : "", field : "SpellSlots.CheckboxesSet.lvl3", mod : 1, text : ""},
			],
		},	
		"magic reactor" : {
			name : "Magic Reactor",
			source : ["EL:HH", 88],
			minlevel : 8,
			description : desc([
				"Your body can efficiently process and reformat your magic.",
				"When you use your bonus action via your Flexible Casting",
				"sorcerer class feature to create a spell slot with your sorcery",
				"points, you may create any number of spell slots as a part of",
				"using that feature, as long as you have the necessary sorcery",
				"points to do so.",
				"When you use your bonus action via your Flexible Casting",
				"sorcerer class feature to convert a spell slot to sorcery points,",
				"you may convert any number of your spell slots to sorcery",
				"points as a part of that action.",
			]),
			addMod : [
				{ type : "", field : "SpellSlots.CheckboxesSet.lvl1", mod : -1, text : ""},
				{ type : "", field : "SpellSlots.CheckboxesSet.lvl2", mod : -1, text : ""},
				{ type : "", field : "SpellSlots.CheckboxesSet.lvl3", mod : 1, text : ""},
			],
		},	
		"e" : {
			name : "",
			source : ["EL:HH", 83],
			minlevel : 9,
			description : "",
			addMod : [
				{ type : "", field : "SpellSlots.CheckboxesSet.lvl1", mod : -1, text : ""},
				{ type : "", field : "SpellSlots.CheckboxesSet.lvl2", mod : -1, text : ""},
				{ type : "", field : "SpellSlots.CheckboxesSet.lvl3", mod : -1, text : ""},
			],
		},	
		"power overwhelming" : {
			name : "Power Overwhelming",
			source : ["EL:HH", 88],
			minlevel : 10,
			description : desc([
				"You overflow with tremendous raw power, allowing you to",
				"call up powerful Epic effects with ease. As a bonus action, you",
				"can spend 5 sorcery points to reduce your levels of overload",
				"by one.",
			]),	
			addMod : [
				{ type : "", field : "SpellSlots.CheckboxesSet.lvl1", mod : -1, text : ""},
				{ type : "", field : "SpellSlots.CheckboxesSet.lvl2", mod : -1, text : ""},
				{ type : "", field : "SpellSlots.CheckboxesSet.lvl3", mod : -1, text : ""},
			],
		},
	},
};

FeatsList["spell knowledge"] = {
	name : "Spell Knowledge",
	source : ["EL:HH", 84],
	description : "",
	choices : ["3 Sorcerer", "1 Any", "6 Sorcerer", "3 Sorcerer + 1 Any", "2 Any", "9 Sorcerer", "3 Sorcerer + 2 Any", "6 Sorcerer + 1 Any", "3 Any", "12 Sorcerer", "9 Sorcerer + 1 Any", "6 Sorcerer + 2 Any", "3 Sorcerer + 3 Any", "4 Any", "15 Sorcerer", "12 Sorcerer + 1 Any", "9 Sorcerer + 2 Any", "6 Sorcerer + 3 Any", "3 Sorcerer + 4 Any", "5 Any"],
	"3 sorcerer" : {
		description : "I learn 3 non-epic spells from the sorcerer list.",
		spellcastingBonus : {
			name : "Spell Knowledge",
			spellcastingAbility : 6,
			'class' : 'sorcerer',
			level : [1, 9],
			times : 3,
		},
	},
	"1 any" : {
		description : "I learn 1 non-epic spell from any spell list.",
		spellcastingBonus : {
			name : "Spell Knowledge",
			spellcastingAbility : 6,
			'class' : 'any',
			level : [1, 9],
			times : 1,
		},
	},
	"6 sorcerer" : {
		description : "I learn 6 non-epic spell from the sorcerer list.",
		spellcastingBonus : {
			name : "Spell Knowledge",
			spellcastingAbility : 6,
			'class' : 'sorcerer',
			level : [1, 9],
			times : 6,
		},
	},
	"3 sorcerer + 1 any" : {
		description : "I learn 3 non-epic spell from the sorcerer list, and 1 from any spell list.",
		spellcastingBonus : [{
			name : "Spell Knowledge",
			spellcastingAbility : 6,
			'class' : 'sorcerer',
			level : [1, 9],
			times : 3,
		}, {
			name : "Spell Knowledge",
			spellcastingAbility : 6,
			'class' : 'any',
			level : [1, 9],
			times : 1,
		}],	
		},
	"2 any" : {
		description : "I learn 2 non-epic spell from any spell list.",
		spellcastingBonus : {
			name : "Spell Knowledge",
			spellcastingAbility : 6,
			'class' : 'any',
			level : [1, 9],
			times : 2,
		},
	},
	"9 sorcerer" : {
		description : "I learn 9 non-epic spell from the sorcerer list.",
		spellcastingBonus : {
			name : "Spell Knowledge",
			spellcastingAbility : 6,
			'class' : 'sorcerer',
			level : [1, 9],
			times : 9,
		},
	},
	"6 sorcerer + 1 any" : {
		description : "I learn 6 non-epic spell from the sorcerer list, and 1 from any spell list.",
		spellcastingBonus : [{
			name : "Spell Knowledge",
			spellcastingAbility : 6,
			'class' : 'sorcerer',
			level : [1, 9],
			times : 6,
		}, {
			name : "Spell Knowledge",
			spellcastingAbility : 6,
			'class' : 'any',
			level : [1, 9],
			times : 1,
		}],	
	},
	"3 sorcerer + 2 any" : {
		description : "I learn 3 non-epic spell from the sorcerer list, and 2 from any spell list.",
		spellcastingBonus : [{
			name : "Spell Knowledge",
			spellcastingAbility : 6,
			'class' : 'sorcerer',
			level : [1, 9],
			times : 3,
		}, {
			name : "Spell Knowledge",
			spellcastingAbility : 6,
			'class' : 'any',
			level : [1, 9],
			times : 2,
		}],	
	},
	"3 any" : {
		description : "I learn 3 non-epic spell from any spell list.",
		spellcastingBonus : {
			name : "Spell Knowledge",
			spellcastingAbility : 6,
			'class' : 'any',
			level : [1, 9],
			times : 3,
		},
	},
	"12 sorcerer" : {
		description : "I learn 12 non-epic spell from the sorcerer list.",
		spellcastingBonus : {
			name : "Spell Knowledge",
			spellcastingAbility : 6,
			'class' : 'sorcerer',
			level : [1, 9],
			times : 12,
		},
	},
	"9 sorcerer + 1 any" : {
		description : "I learn 9 non-epic spell from the sorcerer list, and 1 from any spell list.",
		spellcastingBonus : [{
			name : "Spell Knowledge",
			spellcastingAbility : 6,
			'class' : 'sorcerer',
			level : [1, 9],
			times : 9,
		}, {
			name : "Spell Knowledge",
			spellcastingAbility : 6,
			'class' : 'any',
			level : [1, 9],
			times : 1,
		}],	
	},
	"6 sorcerer + 2 any" : {
		description : "I learn 6 non-epic spell from the sorcerer list, and 2 from any spell list.",
		spellcastingBonus : [{
			name : "Spell Knowledge",
			spellcastingAbility : 6,
			'class' : 'sorcerer',
			level : [1, 9],
			times : 6,
		}, {
			name : "Spell Knowledge",
			spellcastingAbility : 6,
			'class' : 'any',
			level : [1, 9],
			times : 2,
		}],	
	},
	"3 sorcerer + 3 any" : {
		description : "I learn 3 non-epic spell from the sorcerer list, and 3 from any spell list.",
		spellcastingBonus : [{
			name : "Spell Knowledge",
			spellcastingAbility : 6,
			'class' : 'sorcerer',
			level : [1, 9],
			times : 3,
		}, {
			name : "Spell Knowledge",
			spellcastingAbility : 6,
			'class' : 'any',
			level : [1, 9],
			times : 3,
		}],	
	},
	"4 any" : {
		description : "I learn 4 non-epic spell from any spell list.",
		spellcastingBonus : {
			name : "Spell Knowledge",
			spellcastingAbility : 6,
			'class' : 'any',
			level : [1, 9],
			times : 4,
		},
	},
	"15 sorcerer" : {
		description : "I learn 15 non-epic spell from the sorcerer list.",
		spellcastingBonus : {
			name : "Spell Knowledge",
			spellcastingAbility : 6,
			'class' : 'sorcerer',
			level : [1, 9],
			times : 15,
		},
	},
	"12 sorcerer + 1 any" : {
		description : "I learn 12 non-epic spell from the sorcerer list, and 1 from any spell list.",
		spellcastingBonus : [{
			name : "Spell Knowledge",
			spellcastingAbility : 6,
			'class' : 'sorcerer',
			level : [1, 9],
			times : 12,
		}, {
			name : "Spell Knowledge",
			spellcastingAbility : 6,
			'class' : 'any',
			level : [1, 9],
			times : 1,
		}],	
	},
	"9 sorcerer + 2 any" : {
		description : "I learn 9 non-epic spell from the sorcerer list, and 2 from any spell list.",
		spellcastingBonus : [{
			name : "Spell Knowledge",
			spellcastingAbility : 6,
			'class' : 'sorcerer',
			level : [1, 9],
			times : 9,
		}, {
			name : "Spell Knowledge",
			spellcastingAbility : 6,
			'class' : 'any',
			level : [1, 9],
			times : 2,
		}],	
	},
	"6 sorcerer + 3 any" : {
		description : "I learn 6 non-epic spell from the sorcerer list, and 3 from any spell list.",
		spellcastingBonus : [{
			name : "Spell Knowledge",
			spellcastingAbility : 6,
			'class' : 'sorcerer',
			level : [1, 9],
			times : 6,
		}, {
			name : "Spell Knowledge",
			spellcastingAbility : 6,
			'class' : 'any',
			level : [1, 9],
			times : 3,
		}],	
	},
	"3 sorcerer + 4 any" : {
		description : "I learn 3 non-epic spell from the sorcerer list, and 4 from any spell list.",
		spellcastingBonus : [{
			name : "Spell Knowledge",
			spellcastingAbility : 6,
			'class' : 'sorcerer',
			level : [1, 9],
			times : 3,
		}, {
			name : "Spell Knowledge",
			spellcastingAbility : 6,
			'class' : 'any',
			level : [1, 9],
			times : 4,
		}],	
	},
	"5 any" : {
		description : "I learn 5 non-epic spell from any spell list.",
		spellcastingBonus : {
			name : "Spell Knowledge",
			spellcastingAbility : 6,
			'class' : 'any',
			level : [1, 9],
			times : 5,
		},
	},
};

AddSubClass("archon", "aberrant mind", {
	regExpSearch : /^(?=.*(archon))(?=.*aberrant mind).*$/i,
	subname : "Aberrant Mind",
	source : ["EL:HH", 86],	
	features : {
		"subclassfeature1" : {
			name : "Aberrant Mind",
			source : ["EL:HH", 86],
			minlevel : 6,
			description : desc([
				"Your psionic power has merged seamlessly with your magic,",
				"creating a truly bizarre and alien whole. When you deal psychic",
				"damage to a creature you are aware of within 300 feet of you,",
				"you may expend any number of sorcery points and deal 1d6",
				"psychic damage to the target for each sorcery point you expend.",
				"If this damage reduces the target to 0 hit points, its mind is",
				"destroyed. Once you use this feature, you cannot use it again",
				"until you finish a long rest.",
				"Additionally, you learn the Egotist Spell Epic Metamagic.",
			]),
			extraname : "Origin Epic Metamagic",
			extrachoices : "Egotist Spell",
			extraTimes : 1,
			"egotist spell" : {
				name : "Egotist Spell",
				description : desc([
					"When you cast a spell with a duration greater than instantaneous,",
					"you can gain one level of overload to cause the spell to",
					"persist for its entire duration unless you choose to end it or your",
					"concentration is broken (when applicable). The spell otherwise",
					"cannot be ended by spells, magical effects, or other features until",
					"its entire duration has passed.",
				]),
			},	
		},	
	},
});	

AddSubClass("archon", "clockwork soul", {
	regExpSearch : /^(?=.*(archon))(?=.*clockwork soul).*$/i,
	subname : "Clockwork Soul",
	source : ["EL:HH", 86],	
	features : {
		"subclassfeature1" : {
			name : "Aberrant Mind",
			source : ["EL:HH", 86],
			minlevel : 6,
			description : desc([
				"Your magic is the living embodiment of order, making the universe",
				"march to the hum of your power. When you roll a die",
				"of any size as a result of casting a spell, you may choose to",
				"roll its average before its results are known, according to the",
				"Clockwork Soul Die Rolls table.",
				"Additionally, you learn the Automatic Spell Epic Metamagic.",
			]),
			toNotesPage : [{
				name : "Clockwork Soul Die Rolls",
				note : [
					"Dice size				Average Result",
					"	d4							3",
					"	d6							4",
					"	d8							5",
					"	d10							6",
					"	d12							7",
					"	d20							11",
				],	
			}],	
			extraname : "Origin Epic Metamagic",
			extrachoices : "Automatic Spell",
			extraTimes : 1,
			"automatic spell" : {
				name : "Automatic Spell",
				description : desc([
					"When you cast a spell with a duration greater than instantaneous",
					"that requires you take actions to produce its effects (such as the",
					"telekinesis spell), you can instead produce one of those effects",
					"once automatically on each of your turns (no action required).",
				]),
			},	
		},	
	},
});	

AddSubClass("archon", "divine soul", {
	regExpSearch : /^(?=.*(archon))(?=.*divine soul).*$/i,
	subname : "Divine Soul",
	source : ["EL:HH", 86],	
	features : {
		"subclassfeature1" : {
			name : "Divine Soul",
			source : ["EL:HH", 86],
			minlevel : 6,
			description : desc([
				"When your Epic Spellcasting feature lets you learn or replace",
				"an archon Epic spell, you can choose the new spell from the",
				"ascendant Epic spell list. You must otherwise obey all the restrictions",
				"for selecting the Epic spell, and it becomes an archon",
				"spell for you.",
				"Additionally, the affinity you chose for your subclass feature",
				"determines a special Epic spell for you, as shown in the following",
				"table. You may cast this Epic spell as a tier 2 Epic spell",
				"without expending an Epic spell slot, and it does not count",
				"against your number of Epic spells known. Once you use this",
				"feature, you can’t use it again until you finish a long rest.",
			]),
			extraname : "Origin Epic Metamagic",
			extrachoices : "Holistic Spell",
			extraTimes : 1,
			"holistic spell" : {
				name : "Holistic Spell",
				description : desc([
					"When you cast a spell that deals damage, you may gain two levels",
					"of overload to cause a number of creatures affected by the spell",
					"equal to your Charisma modifier to instead take no damage and",
					"regain a number of hit points equal to the damage they would",
					"have taken before their damage resistances and immunities.",
				]),
			},	
		},
		"affinity spell" : {
			name : "Affinity Spell",
			source : ["EL:HH", 86],
			minlevel : 6,
			description : "",
			extraname : "Affinity Spell",
			extrachoices : ["Good", "Evil", "Law", "Chaos", "Neutrality"],
			extraTimes : 1,
			"good" : {
				name : "Good",
				description : "",
				spellcastingBonus : [{
					name : "Good Affinity",
					spells : ["genesis"],
					selection : ["genesis"],
					times : 1,
				}],
			},
			"evil" : {
				name : "Evil",
				description : "",
				spellcastingBonus : [{
					name : "Evil Affinity",
					spells : ["catastrophe"],
					selection : ["catastrophe"],
					times : 1,
				}],
			},
			"law" : {
				name : "Law",
				description : "",
				spellcastingBonus : [{
					name : "Law Affinity",
					spells : ["determinism"],
					selection : ["determinism"],
					times : 1,
				}],
			},
			"chaos" : {
				name : "Chaos",
				description : "",
				spellcastingBonus : [{
					name : "Chaos Affinity",
					spells : ["prismatic deluge"],
					selection : ["prismatic deluge"],
					times : 1,
				}],
			},
			"neutrality" : {
				name : "Neutrality",
				description : "",
				spellcastingBonus : [{
					name : "Neutrality Affinity",
					spells : ["congruent spellward"],
					selection : ["congruent spellward"],
					times : 1,
				}],
			},
		},	
	},
});	

AddSubClass("archon", "draconic bloodline", {
	regExpSearch : /^(?=.*(archon))(?=.*draconic bloodlilne).*$/i,
	subname : "Draconic Bloodline",
	source : ["EL:HH", 87],	
	features : {
		"subclassfeature1" : {
			name : "Draconic Bloodline",
			source : ["EL:HH", 87],
			minlevel : 6,
			description : desc([
				"As an action, you can spend 16 sorcery points to transform",
				"yourself into a mighty dragon that is the same type as your",
				"draconic ancestry. The statistics of your new form (see the aspect",
				"stat block) replace your current statistics when applicable,",
				"and you gain 400 temporary hit points. These temporary hit",
				"points can’t be replaced by temporary hit points from another",
				"source, and you revert to your original form when you have",
				"no more temporary hit points or when you die. While you are",
				"in this form, your maximum sorcery points are reduced by 16.",
				"You are limited in the actions you can perform by the nature of",
				"your new form, but retain any benefits and features from your",
				"classes, race, or other sources inherent to you, provided that",
				"your new form is physically capable of doing so. Your new form",
				"does not need to provide material or somatic components for",
				"non-Epic spells.",
				"Additionally, you learn the Monstrous Spell Epic Metamagic.",
			]),
			extraname : "Origin Epic Metamagic",
			extrachoices : "Monstrous Spell",
			extraTimes : 1,
			"monstrous spell" : {
				name : "Monstrous Spell",
				description : desc([
					"When you cast a spell that requires components that your current",
					"form is unable to supply (such as lacking the necessary",
					"anatomy to speak verbal components or hands to hold material",
					"components), you may gain one level of overload to cast",
					"the spell without the need for any components. Additionally, if",
					"your form has a Multiattack action, when you take that action,",
					"you may cast a spell benefiting from this Epic Metamagic as a",
					"part of that action.",
				]),
			},	
		},	
	},
});	

AddSubClass("archon", "shadow magic", {
	regExpSearch : /^(?=.*(archon))(?=.*shadow magic).*$/i,
	subname : "Shadow Magic",
	source : ["EL:HH", 87],	
	features : {
		"subclassfeature1" : {
			name : "Shadow Magic",
			source : ["EL:HH", 87],
			minlevel : 6,
			description : desc([
				"Creatures completely within an area of darkness have Epic",
				"disadvantage on saving throws against your spells and features.",
				"Additionally, you gain the Umbral Spell Epic Metamagic.",
			]),
			extraname : "Origin Epic Metamagic",
			extrachoices : "Umbral Spell",
			extraTimes : 1,
			"umbral spell" : {
				name : "Umral Spell",
				description : desc([
					"When you cast a spell that affects an area (such as a cone, cube,",
					"cylinder, line, or square), you can gain one level of overload to",
					"cause the area of the spell to be enveloped in complete darkness",
					"for 1 minute. Creatures other than you can’t see through",
					"this darkness even with darkvision, and non-Epic magical light",
					"cannot illuminate or dispel it.",
				]),
			},	
		},	
	},
});

AddSubClass("archon", "storm sorcery", {
	regExpSearch : /^(?=.*(archon))(?=.*storm sorcery).*$/i,
	subname : "Storm Sorcery",
	source : ["EL:HH", 88],	
	features : {
		"subclassfeature1" : {
			name : "Storm Sorcery",
			source : ["EL:HH", 88],
			minlevel : 6,
			description : desc([
				"Airborne creatures are vulnerable to lightning and thunder",
				"damage dealt by you.",
				"Additionally, you learn the Stunning Spell Epic Metamagic",
			]),
			extraname : "Origin Epic Metamagic",
			extrachoices : "Stunning Spell",
			extraTimes : 1,
			"stunning spell" : {
				name : "Stunning Spell",
				description : desc([
					"When you cast a spell that affects an area (such as a cone,",
					"cube, cylinder, line, or square), you can gain two levels of overload",
					"to force each creature in the spell’s area to attempt a",
					"Constitution saving throw against your spell save DC. On a",
					"failed saving throw, the creature is stunned until the end of",
					"your next turn.",
				]),
			},	
		},	
	},
});

AddSubClass("archon", "wild magic", {
	regExpSearch : /^(?=.*(archon))(?=.*wild magic).*$/i,
	subname : "Wild Magic",
	source : ["EL:HH", 88],	
	features : {
		"subclassfeature1" : {
			name : "Wild Magic",
			source : ["EL:HH", 88],
			minlevel : 6,
			description : desc([
				"When you reach six levels of overload, instead of its normal",
				"effect you may cause a special effect called a pandemonium to",
				"occur and immediately reduce your levels of overload to zero.",
				"You then roll a d20, and your result determines what effect occurs",
				"based on the effects detailed in the Pandemonium Effects",
				"table. A pandemonium effect is considered a Deific effect that",
				"cannot be prevented by any means. Once you use this feature,",
				"you cannot use it again until you finish a long rest.",
				"Additionally, you learn the Mayhem Spell Epic Metamagic.",
			]),
			extraname : "Origin Epic Metamagic",
			extrachoices : "Mayhem Spell",
			extraTimes : 1,
			"mayhem spell" : {
				name : "Mayhem Spell",
				description : desc([
					"When you cast a spell, you may gain one level of overload to",
					"roll on the Pandemonium Effects table.",
				]),
			},
			toNotesPage : [{
				name : "Panemonium Effects",
				note : [
					"d20 Effect",
					"1 Nothing happens…yet. Roll on this table again in 1d20 hours. You cannot tell other players the result of the new roll.",
					"2 The next spell you cast benefits from up to three Epic Metamagic effects of your choice (even if you do not know them), and you do not gain levels of overload from using the selected Epic Metamagic effects. This benefit is lost if you do not cast a spell within the next minute.",
					"3 You are magically teleported to a space within 300 feet that you can see. You regain all hit points, are cured of any harmful conditions, and have your sorcery points restored to their maximum.",
					"4 A powerful Epic creature of the DM’s choice appears and swears to aid you in all your endeavors for the next 24 hours.",
					"5 The next spell you cast does not consume any resources (such as spell slots and sorcery points) or increase your levels of overload, regardless of the costs that would have been incurred ordinarily. This benefit is lost if you do not cast a spell within the next minute.",
					"6 The next time you die, confetti and fireworks magically manifest for 1 minute in a 100-foot radius centered on the point of your death, celebrating your demise.",
					"7 For 1 week, everything you eat or drink intoxicates you as though it were alcoholic.",
					"8 You sneeze and emit a poisonous explosion of gas in a 60-foot-radius sphere centered on you. Each creature in the affected area must succeed on a Constitution saving throw versus your spell save DC or be permanently poisoned.",
					"9 The next non-Epic humanoid that sees you becomes convinced you are a genie in disguise and follows you everywhere, trying to get wishes.",
					"10 For 24 hours, if you eat any food other than bananas you suffer an extreme allergic reaction and die instantly.",
					"11 You shake and vibrate uncontrollably. When you would roll a 2 or higher on an ability check, you instead roll a 1. This effect lasts until you finish a long rest.",
					"12 For 1 minute, when you deal damage to another creature, you take an equal amount of damage of the same damage type. This damage cannot be prevented by any means.",
					"13 You immediately expend all sorcery points and cannot gain sorcery points for 1 hour.",
					"14 You are launched 10,000 feet straight up into the air. If an object or structure would prevent you from moving, you take 1d6 bludgeoning damage for every 10 feet of movement prevented.",
					"15 You cannot be resistant or immune to damage and are vulnerable to all damage for 1 hour.",
					"16 You increase in size for 1 minute. Your speed is 0, and at the start of each of your turns, your dimensions increase by 5 feet and you must attempt a Constitution saving throw against your spell save DC, losing a number of hit points equal to half your hit point maximum on a failure. If you reach 0 hit points by losing hit points to this feature or would lose hit points while you have 0 hit points, you explode.",
					"17 A blow of crushing force is delivered to an extremely vulnerable area. For 1 minute your speed is 5 feet, and on each of your turns you can take no actions as you clutch yourself in pain.",
					"18 You are queried with an impossible riddle of astonishing complexity. You cannot cast spells or make Intelligence, Wisdom, or Charisma ability checks until the riddle is solved, except for the one detailed here. On each of your turns, you may take an action to attempt a DC 30 Intelligence ability check, solving the riddle on a success. If you cannot solve the riddle in 1 hour, the effect ends as you go mad and suffer the effects of a confusion spell for 24 hours.",
					"19 A gargantuan meteor magically appears and strikes your location. Each creature, object, and structure within 1 mile of that space must attempt a Constitution saving throw against your spell save DC, taking 100d6 fire damage and 100d6 bludgeoning damage on a failure, or half as much on a success.",
					"20 You briefly understand the meaning of life, the universe, and everything. This knowledge is so shocking that it kills you instantly before you can tell anyone. If you return to life or have a memory of your existence after death, you cannot remember the meaning of life, the universe, and everything.",
				],
			}],	
		},	
	},
});

ClassList.overlord = {
	
	regExpSearch : /overlord/i,
	name : "Overlord",
	source : [["EL:HH", 90]],
	primaryAbility : ["Charisma"],
	abilitySave : 6,
	prereqs : "Charisma 13",
	improvements : [1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5],
	scoresMaximum : [30, 30, 30, 30, 30, 30],
	die : 8,
	subclasses : ["Epic Otherworldly Patron", []],
	attacks : [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
	features : {
		"proficiencies" : {
			name : "Proficiencies", 
			source : ["EL:HH", 82],
			minlevel : 1,
			description : "\n   " + "Saving Throws. You gain proficiency in a single saving throw of your choice. Use the Choose Feature button on the second page to select your proficiency",
			extraname : "Bonus Saving Throw",
			extrachoices : ["Strength", "Dexterity", "Constitution", "Intelligence"],
			"strength" : {
				name : "Strength",
				description : "\n   " + "You gain proficiency in Strength Saving Throws",
				saves : ["Str"],
			},	
			"dexterity" : {
				name : "Dexterity",
				description : "\n   " + "You gain proficiency in Dexterity Saving Throws",
				saves : ["Dex"],
			},
			"constitution" : {
				name : "Constitution",
				description : "\n   " + "You gain proficiency in Constitution Saving Throws",
				saves : ["Con"],
			},	
			"intelligence" : {
				name : "Intelligence",
				description : "\n   " + "You gain proficiency in Intelligence Saving Throws",
				saves : ["Int"],
			},
		},
		"epic feat" : {
			name : "Epic Feat",
			source : ["EL:HH", 83],
			minlevel : 1,
			description : "\n   " + "When you reach 21st level, and again at 25th and 29th level, you may select one Epic feat from the Epic feat list detailed in chapter 3. You may forgo taking an Epic feat to instead increase one ability score of your choice by 4, or you can increase two ability scores of your choice by 2.",
		},	
		"epic pact boon" : {
			name : "Epic Pact Boon",
			source : ["EL:HH", 91],
			minlevel : 1,
			description : desc([
				"Your pact boon provides far greater benefits from your new",
				"contract. You gain the following benefits according to which",
				"pact boon warlock class feature you selected when you were",
				"advancing as a warlock.",
			]),
			extraname : "Epic Pact Boon",
			extrachoices : ["Pact of the Blade", "Pact of the Chain", "Pact of the Talisman", "Pact of the Tome"],
			extraTimes : 1,
			"pact of the blade" : {
				name : "Pact of the Blade",
				description : desc([
					"Your pact grants a +3 bonus to attack and damage rolls made",
					"with your pact weapon. This effect stacks with any existing bonuses",
					"the weapon has to attack and damage rolls from other",
					"features or magical properties.",
					"Additionally, when you deal damage with a weapon attack",
					"made with your pact weapon, you regain hit points equal to half",
					"the damage dealt.",
				]),
			},
			"pact of the chain" : {
				name : "Pact of the Chain",
				description : desc([
					"When you cast the find familiar spell, you can choose one of the",
					"normal or special forms for your familiar, or choose a powerful",
					"Epic form (see the Epic familiar stat block). If your familiar has",
					"a special Epic form and is slain, you cannot cast find familiar",
					"again until you finish a long rest.",
					"When you roll initiative, you can choose to have your familiar",
					"not roll initiative and instead act on your turn.",
					"Additionally, if your familiar is alive, as an action you can",
					"sacrifice a use of your Mystic Arcanum or a warlock spell slot",
					"to magically restore your familiar’s hit points to its maximum.",
				]),
			},
			"pact of the talisman" : {
				name : "Pact of the Talisman",
				description : desc([
					"Your patron bestows on you a second talisman that confers the",
					"same benefits and possesses the same properties as the first.",
					"Additionally, you may choose a saving throw, and creatures",
					"wearing your talismans have proficiency in that saving throw.",
				]),
			},
			"pact of the tome" : {
				name : "Pact of the Tome",
				description : desc([
					"You gain additional warlock spell slots, and the level of your warlock",
					"spell slots increases as you advance as an overlord. You have",
					"a number of warlock spell slots and all your slots are the same",
					"level, according to the following table.",
					"Additionally, you may cast a Mystic Arcanum spell you know",
					"by expending a warlock spell slot instead of the use of that spell’s",
					"arcanum, as long as the warlock spell slot is the same level or",
					"higher than the arcanum spell.",
				]),
				additional : ["Warlock Spell Slot (6th-level)", "Warlock Spell Slot (6th-level)", "Warlock Spell Slot (6th-level)", "Warlock Spell Slot (6th-level)", "Warlock Spell Slot (7th-level)", "Warlock Spell Slot (7th-level)", "Warlock Spell Slot (7th-level)", "Warlock Spell Slot (7th-level)", "Warlock Spell Slot (8th-level)", "Warlock Spell Slot (8th-level)", 12, 12, 12, 12, 12, 12, 12, 12, 12, 12],
				usages : [5, 5, 5, 5, 6, 6, 6, 6, 7, 7, "24d12", "24d12", "24d12", "24d12", "24d12", "24d12", "24d12", "24d12", "24d12", "24d12"],
				recovery : "long rest",
			},	
		},
		"coercion" : {
			name : "Coercion",
			source : ["EL:HH", 92],
			minlevel : 2,
			description : desc([
				"You can pull significant power from your patron to learn profane",
				"secrets of extraordinary strength called Epic invocations.",
				"You gain one Epic invocation of your choice, and your invocation",
				"options are detailed at the end of the overlord class section.",
				"When you gain certain overlord levels, you gain additional Epic",
				"invocations of your choice, as shown in the Epic Invocations",
				"Known column of the overlord class progression table.",
				"Additionally, when you gain a level in this Epic prestige class,",
				"you can choose one of the Epic invocations you know and replace",
				"it with another Epic invocation that you could learn at that level.",
			]),
			extraname : "Epic Invocations",
			extrachoices : ["Blood of the Outsider", "Codex of Nightmares", "Eldritch Ward", "Nether Surge", "Profane Offering", "Utterdark Blast", "Bulwark of Steel Shadows", "Eldritch Weapon", "Greater Codex of Nightmares", "Hellfire Mantle", "Totem of Preservation", "Underlord", "Agent of Chaos", "Bathed in Blood", "Dark Tutelage", "Last Resort", "Spell Reaper", "Ultimate Codex of Nightmares", "Arcane Extinction", "Dark Prophecies", "Eldritch Supremacy", "Otherworldy Flight", "Beguiling Aura", "Hellfire and Brimstone", "Inviolable"],
			extraTimes : [0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5],
			"blood of the outsider" : {
				name : "Blood of the Outsider", 
				description : desc([
					"Your hit point maximum increases by an amount equal to three",
					"times your character level when you gain this Epic invocation.",
					"Whenever you gain a level thereafter, your hit point maximum",
					"increases by an additional 3 hit points.",
				]),
				calcChanges : {
					hp : function (totalHD) {
						return [totalHD * 3, '\n + ' + totalHD + ' \xD7 3 from th Blood of the Outsider Epic Invocation (' + (totalHD * 3) + ')', true];
					},
				},
				prereqeval : function(v) { return classes.known.overlord.level >= 2; },
			},
			"codex of nightmares" : {
				name : "Codex of Nightmares", 
				description : desc([
					"You gain a single tier 1 Epic spell slot and can learn two Epic",
					"spells from the overlord Epic spell list, which can be found,",
					"along with the general rules for casting Epic spells, in chapter",
					"4. You regain expended overlord Epic spell slots when you finish",
					"a long rest.",
				]),
				addMod : [
					{ type : "", field : "SpellSlots.CheckboxesSet.lvl1", mod : 1, text : ""},
				],
				spellcastingBonus : [{
					name : "Codex of Nightmares",
					spellcastingAbility : 6,
					'class' : 'overlord',
					level : [1, 1],
					times : 2,
				}],
				prereqeval : function(v) { return classes.known.overlord.level >= 2 && GetFeatureChoice('class', 'overlord', 'epic pact boon') == 'pact of the tome'; },
			},
			"eldritch ward" : {
				name : "Eldritch Ward", 
				description : desc([
					"Creatures wearing your talismans are immune to spells of 6th",
					"level or lower, unless they choose not to be.",
				]),
				prereqeval : function(v) { return classes.known.overlord.level >= 2 && GetFeatureChoice('class', 'overlord', 'epic pact boon') == 'pact of the talisman'; },
			},
			"nether surge" : {
				name : "Nether Surge", 
				description : desc([
					"Once per turn, you can expend a use of your Mystic Arcanum",
					"to take an additional action in addition to your regular action",
					"that turn. This action can only be used to take the Attack",
					"action.",
				]),
				prereqeval : function(v) { return classes.known.overlord.level >= 2 && GetFeatureChoice('class', 'overlord', 'epic pact boon') == 'pact of the blade'; },
			},
			"profane offering" : {
				name : "Profane Offering", 
				description : desc([
					"As a bonus action, you sacrifice your familiar to gain personal",
					"power, killing it instantly. Upon its death, you gain profane",
					"power for 1 minute, granting you the following benefits:",
					"* You gain temporary hit points equal to the number of hit",
					"points your familiar had when it died. These temporary",
					"hit points last until you finish a long rest.",
					"* You automatically succeed on Constitution saving throws",
					"to maintain concentration on your spells and effects.",
					"Once you use this feature, you cannot cast find familiar again",
					"until you finish a long rest.",
				]),
				action : "bonus action",
				prereqeval : function(v) { return classes.known.overlord.level >= 2 && GetFeatureChoice('class', 'overlord', 'epic pact boon') == 'pact of the chain'; },
			},
			"utterdark blast" : {
				name : "Utterdark Blast", 
				description : desc([
					"When you cast eldritch blast, you can choose to alter the spell",
					"into a mighty utterdark blast. When you do so, you must target",
					"a single creature with all the beams produced by the spell and",
					"make a single spell attack roll. On a hit, the target takes damage",
					"as though it were hit by each beam of your eldritch blast, plus an",
					"additional 3d10 force damage. For effects other than damage,",
					"a creature is considered to be hit by only a single beam of your",
					"eldritch blast.",
				]),
				prereqeval : function(v) { return classes.known.overlord.level >= 2 && v.hasEldritchBlast; },
			},
			"bulwark of steel shadows" : {
				name : "Bulwark of Steel Shadows", 
				description : desc([
					"You are surrounded by armor composed of living shadows,",
					"which you can command to manifest or disappear as a bonus",
					"action. While the armor is manifested, your AC is equal to your",
					"spell save DC.",
				]),
				action : "bonus action",
				prereqeval : function(v) { return classes.known.overlord.level >= 4; },
			},
			"eldritch weapon" : {
				name : "Eldritch Weapon", 
				description : desc([
					"When you score a hit with your pact weapon, it deals additional",
					"damage as though you had scored a hit with a single beam from",
					"a casting of eldritch blast.",
				]),
				prereqeval : function(v) { return classes.known.overlord.level >= 4 && GetFeatureChoice('class', 'overlord', 'epic pact boon') == 'pact of the blade'; },
			},
			"greater codex of nightmares" : {
				name : "Greater Codex of Nightmares", 
				description : desc([
					"You gain an additional tier 1 Epic spell slot and a single tier 2",
					"Epic spell slot, and can learn three Epic spells from the overlord",
					"Epic spell list. You may also exchange any number of Epic",
					"overlord spells you know when you select this invocation with",
					"different Epic overlord spells from the overlord Epic spell list.",
				]),
				addMod : [
					{ type : "", field : "SpellSlots.CheckboxesSet.lvl1", mod : 2, text : ""},
					{ type : "", field : "SpellSlots.CheckboxesSet.lvl2", mod : 1, text : ""},
				],
				spellcastingBonus : [{
					name : "Greater Codex of Nightmares",
					spellcastingAbility : 6,
					'class' : 'overlord',
					level : [1, 2],
					times : 3,
				}],
				prereqeval : function(v) { return classes.known.overlord.level >= 4 && GetFeatureChoice('classes', 'overlord', 'epic invocations', true).indexOf('codex of nightmares') !== -1; },
			},
			"hellfire mantle" : {
				name : "Hellfire Mantle", 
				description : desc([
					"You may cast the spell hellish rebuke without expending a spell",
					"slot. The spell is cast at the level of your warlock spell slots.",
				]),
				prereqeval : function(v) { return classes.known.overlord.level >= 4; },
			},
			"totem of preservation" : {
				name : "Totem of Preservation", 
				description : desc([
					"As a reaction when a creature wearing your talisman would fail",
					"a saving throw, it can choose to succeed instead. Once a creature",
					"has used one of your talismans in this manner, it cannot use any",
					"talisman in this manner again until it finishes a long rest.",
				]),
				action : "reaction",
				prereqeval : function(v) { return classes.known.overlord.level >= 4 && GetFeatureChoice('class', 'overlord', 'epic pact boon') == 'pact of the talisman'; },
			},
			"underlord" : {
				name : "Underlord", 
				description : desc([
					"Creatures within 5 feet of your familiar have Epic disadvantage",
					"on saving throws against you, and you have Epic advantage on",
					"attacks against those creatures.",
					"Additionally, when your familiar takes damage, it may immediately",
					"use its reaction to teleport to an unoccupied space",
					"adjacent to you. This effect fails if the familiar is on a different",
					"plane of existence than you.",
				]),
				prereqeval : function(v) { return classes.known.overlord.level >= 4 && GetFeatureChoice('class', 'overlord', 'epic pact boon') == 'pact of the chain'; },
			},
			"agent of chaos" : {
				name : "Agent of Chaos", 
				description : desc([
					"As a reaction to when a creature you can see within 120 feet",
					"of you targets a creature with a spell or attack, you may force",
					"that creature to select a different target of your choice (other",
					"than itself) for that spell or attack. If the attacking creature is",
					"Epic, it can attempt a Wisdom saving throw against your spell",
					"save DC, preventing the effect on a success. If a creature has no",
					"other eligible targets, this effect fails.",
				]),
				action : "reaction",
				prereqeval : function(v) { return classes.known.overlord.level >= 6; },
			},
			"bathed in blood" : {
				name : "Bathed in Blood", 
				description : desc([
					"When you take 25 or more damage in a single instance from",
					"an enemy creature, you can choose to manifest a single magical",
					"orb of your own blood. This blood orb moves with you and follows",
					"you wherever you go. As a bonus action, you can expend",
					"one or more of these orbs to gain the benefits of a single effect",
					"according to the number of orbs expended. You can have up to",
					"three blood orbs at a time, and any unexpended blood orbs fade",
					"into nothingness when you begin a short or long rest. Using",
					"one or more blood orbs grants the following benefits.",
					"* 1 Orb. You regain 3d8 hit points.",
					"* 2 Orbs. You recover an expended warlock spell slot.",
					"* 3 Orbs. Until the end of your turn, when you would next",
					"roll damage dice, you increase the damage of the effect by",
					"six damage dice.",
				]),
				prereqeval : function(v) { return classes.known.overlord.level >= 6; },
			},
			"dark tutelage" : {
				name : "Dark Tutelage", 
				description : desc([
					"Your familiar teaches you powerful eldritch techniques that enhance",
					"your abilities. You gain a single Epic feat of your choice",
					"from the Epic feat list detailed in chapter 3.",
					"You may forgo taking this Epic feat to instead increase one",
					"ability score of your choice by 4, or you can increase two ability",
					"scores of your choice by 2. You can’t increase an ability score",
					"above 30 using this feature.",
				]),
				eval : function() { AddString('Feat Note 1', 'Dark Tutalage feat', '; '); },
				removeeval : function() { RemoveString('Feat Note 1', 'Dark Tutalage feat'); },
				prereqeval : function(v) { return classes.known.overlord.level >= 6 && GetFeatureChoice('class', 'overlord', 'epic pact boon') == 'pact of the chain'; },
			},
			"last resort" : {
				name : "Last Resort", 
				description : desc([
					"As an action, a creature wearing one of your talismans can",
					"shatter it, unleashing a maelstrom of destructive energy in a",
					"60-foot-radius sphere centered on it. Each enemy creature in",
					"the affected area must attempt a Constitution saving throw",
					"against your spell save DC, taking 30d10 force damage on a",
					"failure, or half as much damage on a success. A creature reduced",
					"to 0 hit points by this effect is turned to ash.",
				]),
				action : "action",
				prereqeval : function(v) { return classes.known.overlord.level >= 6 && GetFeatureChoice('class', 'overlord', 'epic pact boon') == 'pact of the talisman'; },
			},
			"spell reaver" : {
				name : "Spell Reaver", 
				description : desc([
					"As a reaction to when you score a hit with your pact weapon,",
					"you may regain an expended warlock spell slot.",
				]),
				action : "reaction",
				prereqeval : function(v) { return classes.known.overlord.level >= 6 && GetFeatureChoice('class', 'overlord', 'epic pact boon') == 'pact of the blade'; },
			},
			"ultimate codex of nightmares" : {
				name : "Ultimate Codex of Nightmares", 
				description : desc([
					"You gain an additional tier 1 Epic spell slot, an additional tier 2",
					"Epic spell slot, and a single tier 3 Epic spell slot, and can learn",
					"four Epic spells from the overlord Epic spell list. You may also",
					"exchange any number of Epic overlord spells you know when",
					"you select this invocation with different Epic overlord spells",
					"from the overlord Epic spell list.",
				]),
				addMod : [
					{ type : "", field : "SpellSlots.CheckboxesSet.lvl1", mod : 3, text : ""},
					{ type : "", field : "SpellSlots.CheckboxesSet.lvl2", mod : 2, text : ""},
					{ type : "", field : "SpellSlots.CheckboxesSet.lvl3", mod : 1, text : ""},
				],
				spellcastingBonus : [{
					name : "Ultimate Codex of Nightmares",
					spellcastingAbility : 6,
					'class' : 'overlord',
					level : [1, 3],
					times : 4,
				}],
				prereqeval : function(v) { return classes.known.overlord.level >= 6 && GetFeatureChoice('classes', 'overlord', 'epic invocations', true).indexOf('greater codex of nightmares') !== -1; },
			},
			"arcane extinction" : {
				name : "Arcane Extinction", 
				description : desc([
					"You cast the Epic spell antimagic ray as a tier 3 Epic spell. Once",
					"you use this feature, you cannot use it again until you finish a",
					"long rest.",
				]),
				spellcastingBonus : [{
					name : "Arcane Extinction",
					spells : ["antimagic ray"],
					selection : ["antimagic ray"],
					times : 1,
					oncelr : true,
				}],
				prereqeval : function(v) { return classes.known.overlord.level >= 8; },
			},
			"dark prophecies" : {
				name : "Dark Prophecies", 
				description : desc([
					"You can cast the spell foresight at will without the need for any",
					"components.",
				]),
				spellcastingBonus : {
					name : "Dark Prophecies",
					spells : ["foresight"],
					selection : ["foresight"],
					firstCol : "atwill"
				},	
				prereqeval : function(v) { return classes.known.overlord.level >= 8; },
			},
			"eldritch supremacy" : {
				name : "Eldritch Supremacy", 
				description : desc([
					"Your eldritch blast deals arcane damage instead of force damage.",
					"Additionally, when you cast eldritch blast and target only a single",
					"creature, the target cannot be immune to the effects of the",
					"spell (such as via globe of invulnerability).",
					"Finally, when you cast eldritch blast, instead of its ordinary",
					"effects, you may choose to fire a single beam at each creature",
					"of your choice within range. When you do so, you make only a",
					"single spell attack, which is the attack roll for each beam.",
				]),
				prereqeval : function(v) { return classes.known.overlord.level >= 8 && v.hasEldritchBlast; },
			},
			"otherworldly flight" : {
				name : "Otherworldly Flight", 
				description : desc([
					"Vast wings emblematic of your otherworldly patron sprout",
					"from your back, granting you a flying speed of 90 feet. If your",
					"wings are removed, they naturally grow back when you finish",
					"a long rest.",
				]),
				speed : {
					fly : { spd : 90, enc : 80 },
				},
				prereqeval : function(v) { return classes.known.overlord.level >= 8; },
			},
			"beguiling aura" : {
				name : "Beguiling Aura", 
				description : desc([
					"When a creature sees you in person for the first time within 24",
					"hours, it is immediately permanently charmed by you. Epic and",
					"mythic creatures can attempt a Wisdom saving throw against",
					"your spell save DC, preventing the effect on a success",
				]),
				prereqeval : function(v) { return classes.known.overlord.level >= 10; },
			},
			"hellfire and brimstone" : {
				name : "Hellfire and Brimstone", 
				description : desc([
					"When you deal damage that isn’t bludgeoning, piercing,",
					"slashing, or psychic damage, you may instead deal fire damage.",
					"Additionally, once per turn when you deal fire damage",
					"to a creature, object, or structure, you may ignite it with magical",
					"hellfire. A creature, object, or structure so ignited takes",
					"4d12 fire damage at the start of each of its turns and burns",
					"for 1 minute. Each time you use this feature on an ignited",
					"creature, object, or structure, the damage dealt by the flames",
					"increases by 4d12. The fire cannot be extinguished by non-",
					"Epic effects.",
				]),
				prereqeval : function(v) { return classes.known.overlord.level >= 10; },
			},
			"inviolable" : {
				name : "Inviolable", 
				description : desc([
					"When you roll initiative, you cloak yourself in a mantle of reality-",
					"bending magic for 1 minute. While mantled in this manner,",
					"you are immune to all types of damage. However, after you take",
					"damage that you are immune to from this feature, you lose your",
					"immunity to that damage type from this feature.",
				]),
				prereqeval : function(v) { return classes.known.overlord.level >= 10; },
			},
		},
		"obligatory patronage" : {
			name : "Obligatory Patronage",
			source : ["EL:HH", 93],
			minlevel : 4,
			description : desc([
				"You can draw some of your most powerful magic from your",
				"patron more frequently. You regain your uses of your Mystic",
				"Arcanum when you finish a short or long rest.",
			]),	
		},	
		"subclassfeature1" : {
			name : "Epic Otherworldly Patron",
			source : ["EL:HH", 93],
			minlevel : 6,
			description : desc([
				"Your exploitation of your patron allows you to absorb some of",
				"its essence, becoming more like the being itself as you achieve a",
				"profane symbiosis. You gain the following features according to",
				"the otherworldly patron you selected when you were advancing",
				"as a warlock.",
				"Additionally, you gain an expanded list of spells you learn in",
				"association with your patron. These spells do not count against",
				"the number of warlock spells you can know and can be cast as",
				"warlock spells if you have the necessary-level spell slots to do",
				"so. When you expend a use of your Mystic Arcanum to cast an",
				"arcanum spell, you can instead cast one of these new spells of",
				"the same level as an arcanum spell.",
			]),
		},
		"assert authority" : {
			name : "Assert Authority",
			source : ["EL:HH", 95],
			minlevel : 8,
			description : desc([
				"By spending 1 minute demanding",
				"assistance from your patron, you either learn two",
				"non-Epic invocations of your choice or one Epic invocation",
				"of your choice. You must still meet the prerequisites for these",
				"invocations, which you know until you finish a long rest. Once",
				"you use this feature, you must finish a long rest before you can",
				"use it again.",
			]),
			usages : 1, 
			recovery : "long rest",
		},		
		"apotheosis" : {
			name : "Apotheosis",
			source : ["EL:HH", 95],
			minlevel : 10,
			description : desc([
				"You and your patron become one being, fulfilling the ultimate",
				"expression of your agreement. At the start of each of your turns,",
				"you regain an expended warlock spell slot.",
			]),	
		},
	},
};

AddSubClass("overlord", "archfey", {
	regExpSearch : /^(?=.*(overlord))(?=.*archfey).*$/i,
	subname : "Archfey",
	source : ["EL:HH", 87],	
	features : {
		"subclassfeature1" : {
			name : "Archfey",
			source : ["EL:HH", 93],
			minlevel : 6,
			description : desc([
				"On each of your turns, you can",
				"expend all your movement to enter a dimensional corridor",
				"between worlds, becoming out of phase with existence for as",
				"long as you concentrate (as though concentrating on a spell).",
				"While in this state you cannot move or be moved from your",
				"space and all damage you deal is halved. However, you are immune",
				"to damage from non-Epic sources, have resistance to all",
				"other types of damage, and automatically succeed on Strength,",
				"Dexterity, and Constitution saving throws.",
				"Once you leave this state you cannot enter it again until you",
				"finish a long rest.",
			]),
			usages : 1,
			recovery : "long rest",
			spellcastingBonus : {
				spells : ["otto's irresistible dance", "programmed illusion", "prismatic spray", "symbol", "maze", "prismatic wall"],
				selection : ["otto's irresistible dance", "programmed illusion", "prismatic spray", "symbol", "maze", "prismatic wall"],
				times : 6,
			},	
		},	
	},
});

AddSubClass("overlord", "celestial", {
	regExpSearch : /^(?=.*(overlord))(?=.*celestial).*$/i,
	subname : "Celestial",
	source : ["EL:HH", 87],	
	features : {
		"subclassfeature1" : {
			name : "Celestial",
			source : ["EL:HH", 93],
			minlevel : 6,
			description : desc([
				"You recover expended dice granted by your subclass feature",
				"when you finish a short or long rest.",
				"Additionally, you can cast the Epic spells bioclasm and genesis.",
				"You can cast each spell once as a tier 2 Epic spell and cannot",
				"cast them again until you finish a long rest.",
				"If you have Epic spell slots, you also add bioclasm and genesis",
				"to the list of Epic spells you know.",
			]),
			spellcastingBonus : [{
				name : "Pact Spells",
				spells : ["heal", "sunbeam", "conjure celestial", "regenerate", "holy aura", "mass heal"],
				selection : ["heal", "sunbeam", "conjure celestial", "regenerate", "holy aura", "mass heal"],
				times : 6,
			},	{
				name : "Celestial Spells",
				spells : ["bioclasm", "genesis"],
				selection : ["bioclasm", "genesis"],
				times : 2,
				oncelr : true,
			}],	
		},
	},	
});

AddSubClass("overlord", "fathomless", {
	regExpSearch : /^(?=.*(overlord))(?=.*fathomless).*$/i,
	subname : "Fathomless",
	source : ["EL:HH", 93],	
	features : {
		"subclassfeature1" : {
			name : "Fathomless",
			source : ["EL:HH", 93],
			minlevel : 6,
			description : desc([
				"As an action, you can offer up your magic to the",
				"depths and call forth its power. When you do so, you may expend",
				"one or more warlock spell slots. For each spell slot you",
				"expend, you create a spectral tentacle within 120 feet of you as",
				"per your subclass features, and you can command each tentacle",
				"simultaneously using a single bonus action. Additionally, when",
				"such tentacles created in this manner deal damage, they deal an",
				"additional 4d8 cold damage.",
			]),
			action : "action",
			spellcastingBonus : {
				spells : ["otiluke's freezing sphere", "wall of ice", "symbol", "whirlwind", "tsunami", "storm of vengeance"],
				selection : ["otiluke's freezing sphere", "wall of ice", "symbol", "whirlwind", "tsunami", "storm of vengeance"],
				times : 6,
			},	
		},	
	},
});

AddSubClass("overlord", "fiend", {
	regExpSearch : /^(?=.*(overlord))(?=.*fiend).*$/i,
	subname : "Fiend",
	source : ["EL:HH", 93],	
	features : {
		"subclassfeature1" : {
			name : "Fiend",
			source : ["EL:HH", 93],
			minlevel : 6,
			description : desc([
				"At the start of each of your turns, creatures of your choice within",
				"15 feet of you take 10d6 fire damage, and flammable objects",
				"of your choice in the area that aren’t being worn or carried ignite.",
				"Additionally, unless you choose otherwise, creatures that",
				"touch you or hit you with a melee attack while within 15 feet of",
				"you take 5d6 fire damage.",
			]),
			spellcastingBonus : {
				spells : ["disintigrate", "planar ally", "delayed blast fireball", "fire storm", "incendiary cloud", "gate"],
				selection : ["disintigrate", "planar ally", "delayed blast fireball", "fire storm", "incendiary cloud", "gate"],
				times : 6,
			},	
		},	
	},
});

AddSubClass("overlord", "genie", {
	regExpSearch : /^(?=.*(overlord))(?=.*genie).*$/i,
	subname : "Genie",
	source : ["EL:HH", 94],	
	features : {
		"subclassfeature1" : {
			name : "Genie",
			source : ["EL:HH", 94],
			minlevel : 6,
			description : desc([
				"When you roll initiative,",
				"you can choose to invoke your patron and draw yourself and",
				"all creatures within 300 feet of you that you are aware of into",
				"your vessel granted by your subclass features, expending your",
				"use of that feature. Inside the vessel is a pocket plane that is a",
				"100-foot square, overseen by a titanic visage of your patron who",
				"demands all present to perform for its amusement. Creatures",
				"within the area cannot leave by non-Deific means until all enemy",
				"creatures are slain, nor can creatures from outside the plane",
				"enter the area.",
				"At the start of each of your turns while you are within the",
				"area, you must roll a d4 and your patron will grant you a gift",
				"from the Genie Gifts table.",
			]),
			toNotesPage : [{
				name : "Genie Gifts",
				note : [
					"d4 Effect",
					"1 You are gifted a mote of elemental power. Until the end of your turn, when you deal damage, you may expend the mote and deal an additional 10d6 damage of a type according to your patron: bludgeoning (dao), thunder (djinni), fire (efreeti), or cold (marid).",
					"2 You gain a special warlock spell slot, which can exceed your slot maximum. This slot is lost at the start of your next turn.",
					"3 Your patron magically teleports you to an unoccupied space within the vessel.",
					"4 You magically regain 10d10 hit points. If this amount would exceed your hit point maximum, you gain the excess as temporary hit points that last for 1 minute.",
				],
			}],	
			spellcastingBonus : {
				spells : ["contingency", "drawmij's instant summons", "mirage arcane", "reverse gravity", "mind blank", "true polymorph"],
				selection : ["contingency", "drawmij's instant summons", "mirage arcane", "reverse gravity", "mind blank", "true polymorph"],
				times : 6,
			},	
		},	
	},
});

AddSubClass("overlord", "great old one", {
	regExpSearch : /^(?=.*(overlord))(?=.*great old one).*$/i,
	subname : "Great Old One",
	source : ["EL:HH", 94],	
	features : {
		"subclassfeature1" : {
			name : "Great Old One",
			source : ["EL:HH", 94],
			minlevel : 6,
			description : desc([
				"As an action, you can draw forth the nearlimitless",
				"power of the Great Old Ones and unleash it to devastating",
				"effect. When you do so, you describe the assistance you",
				"seek. The DM chooses the nature of the intervention, which",
				"typically takes the form of an effect of any tier 3 Epic spell.",
				"Regardless of what form the intervention takes, your patron always",
				"appears for the briefest of instants to conduct its intervention,",
				"exposing all present to the cosmic horror of its being. This",
				"feature and its effects are considered Deific, and once your patron",
				"has intervened, you cannot use this feature again for 7 days.",
			]),
			action : "action",
			usages : 1,
			recovery : "7 days",
			spellcastingBonus : {
				spells : ["globe of invulnerability", "magic jar", "reverse gravity", "simulacrum", "antimagic field", "time stop"],
				selection : ["globe of invulnerability", "magic jar", "reverse gravity", "simulacrum", "antimagic field", "time stop"],
				times : 6,
			},	
		},	
	},
});

AddSubClass("overlord", "hex blade", {
	regExpSearch : /^(?=.*(overlord))(?=.*hex blade).*$/i,
	subname : "Hex Blade",
	source : ["EL:HH", 94],	
	features : {
		"subclassfeature1" : {
			name : "Hex Blade",
			source : ["EL:HH", 94],
			minlevel : 6,
			description : desc([
				"When you roll initiative, you can choose to invoke your patron and",
				"cause it to appear in your free hand in the form of a weapon of",
				"your choice. When it appears, you may grant your patron the",
				"properties of a magical weapon to which you are attuned. You",
				"are considered proficient in the weapon your patron assumes,",
				"and you may immediately confer to it any benefits that could",
				"possibly be provided by your subclass, warlock, and overlord",
				"features (such as eldritch invocations).",
				"Attacks made with your patron always deal maximum damage",
				"on their damage dice, and damage dealt by the weapon is",
				"arcane damage.",
				"If you are disarmed of your patron, it immediately vanishes.",
				"Otherwise, it vanishes after 1 minute. In either case, once you",
				"use this feature, you cannot use it again until you finish a long",
				"rest.",
			]),
			usages : 1,
			recovery : "long rest",
			spellcastingBonus : {
				spells : ["contingency", "tenser's transformation", "mordenkainen's sword", "teleport", "mind blank", "invulnerability"],
				selection : ["contingency", "tenser's transformation", "mordenkainen's sword", "teleport", "mind blank", "invulnerability"],
				times : 6,
			},	
		},	
	},
});

AddSubClass("overlord", "undead", {
	regExpSearch : /^(?=.*(overlord))(?=.*undead).*$/i,
	subname : "Undead",
	source : ["EL:HH", 95],	
	features : {
		"subclassfeature1" : {
			name : "Undead",
			source : ["EL:HH", 95],
			minlevel : 6,
			description : desc([
				"When you expend a warlock spell slot or cast a spell via your",
				"Mystic Arcanum feature, you may call forth a spectral phantom,",
				"which appears in your space and orbits you for 10 minutes",
				"or until you are slain, whichever comes first. The phantom",
				"cannot be harmed or affected",
				"by features other than those detailed here. You can have a",
				"number of phantoms tethered to you equal to your proficiency",
				"bonus, and any phantoms you would gain past this amount",
				"instead do not manifest.",
				"As an action and/or bonus action, you may command one",
				"or more phantoms to haunt a creature you can see within 120",
				"feet, causing the phantom to become tethered to the target for",
				"its remaining duration. When the phantoms haunt a creature,",
				"you choose the nature of the haunting from the following",
				"options. (See Notes Page for Details)",
			]),
			toNotesPage : [{
				name : "Nature of Haunting",
				note : [
					"* Claws of the Grave. The phantoms claw and maul the target",
					"whenever possible. At the end of each of your turns, you",
					"can make a melee spell attack against each creature haunted",
					"by the phantoms. On a hit, the target takes 4d8 necrotic damage",
					"for each phantom haunting it.",
					"* Horrific Whispers. The phantoms whisper the target’s deepest,",
					"darkest fears. When the target makes an attack roll or attempts",
					"a saving throw other than a Charisma saving throw, it",
					"rolls a number of d8s equal to the number of phantoms haunting",
					"it, subtracting the highest d8 rolled from the saving throw’s result.",
					"* Sinister Imprisonment. The phantoms form a swirling barrier",
					"around the target, which becomes heavily obscured from",
					"creatures outside its space, and vice versa. The barrier is an object",
					"with an AC equal to your spell save DC and has 20 hit",
					"points for each phantom haunting the target. Sound and air",
					"can pass through the barrier, but solids and liquids cannot.",
					"At the end of each of its turns, a creature haunted by this",
					"feature can attempt a Charisma saving throw against your spell",
					"save DC. On a success, the haunting ends and the phantoms",
					"vanish.",
				],
			}],	
			spellcastingBonus : {
				spells : ["harm", "magic jar", "power word pain", "symbol", "abi dalzim's horrid wilting", "weird"],
				selection : ["harm", "magic jar", "power word pain", "symbol", "abi dalzim's horrid wilting", "weird"],
				times : 6,
			},	
		},	
	},
});

AddSubClass("overlord", "undying", {
	regExpSearch : /^(?=.*(overlord))(?=.*undying).*$/i,
	subname : "Undying",
	source : ["EL:HH", 95],	
	features : {
		"subclassfeature1" : {
			name : "Undying",
			source : ["EL:HH", 95],
			minlevel : 6,
			description : desc([
				"When you finish a long rest, you can choose to gain",
				"a number of temporary hit points equal to your hit point maximum.",
				"These temporary hit points cannot be replaced by temporary",
				"hit points from a source other than this feature unless",
				"you will it. While you have at least 1 temporary hit point from",
				"this feature, you cannot be killed by non-Deific effects.",
			]),
			spellcastingBonus : {
				spells : ["otiluke's freezing sphere", "harm", "resurrection", "sequester", "clone", "true resurrection"],
				selection : ["otiluke's freezing sphere", "harm", "resurrection", "sequester", "clone", "true resurrection"],
				times : 6,
			},	
		},	
	},
});

ClassList.archmage = {
	
	regExpSearch : /archmage/i,
	name : "Archmage",
	source : [["EL:HH", 99]],
	primaryAbility : ["Intelligence"],
	abilitySave : 4,
	prereqs : "Intelligence 13",
	improvements : [1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5],
	scoresMaximum : [30, 30, 30, 30, 30, 30],
	die : 6,
	subclasses : ["Epic Arcane Tradtion", []],
	attacks : [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
	spellcastingFactor : 2,
	spellcastingKnown : {
		cantrips : 0,
		spells : "book",
		prepared : true,
	},	
	features : {
		"proficiencies" : {
			name : "Proficiencies", 
			source : ["EL:HH", 82],
			minlevel : 1,
			description : "\n   " + "Saving Throws. You gain proficiency in a single saving throw of your choice. Use the Choose Feature button on the second page to select your proficiency",
			extraname : "Bonus Saving Throw",
			extrachoices : ["Strength", "Dexterity", "Constitution", "Charisma"],
			"strength" : {
				name : "Strength",
				description : "\n   " + "You gain proficiency in Strength Saving Throws",
				saves : ["Str"],
			},	
			"dexterity" : {
				name : "Dexterity",
				description : "\n   " + "You gain proficiency in Dexterity Saving Throws",
				saves : ["Dex"],
			},
			"constitution" : {
				name : "Constitution",
				description : "\n   " + "You gain proficiency in Constitution Saving Throws",
				saves : ["Con"],
			},	
			"charisma" : {
				name : "Charisma",
				description : "\n   " + "You gain proficiency in Charisma Saving Throws",
				saves : ["Cha"],
			},
		},	
		"epic feat" : {
			name : "Epic Feat",
			source : ["EL:HH", 83],
			minlevel : 1,
			description : "\n   " + "When you reach 21st level, and again at 25th and 29th level, you may select one Epic feat from the Epic feat list detailed in chapter 3. You may forgo taking an Epic feat to instead increase one ability score of your choice by 4, or you can increase two ability scores of your choice by 2.",
		},	
		"arcane fusion" : {
			name : "Arcane Fusion",
			source : ["EL:HH", 100],
			minlevel : 1,
			description : desc([
				"Your mastery of the arcane allows you to seamlessly weave",
				"spells together. When you take an action to cast a non-Epic",
				"spell and expend a spell slot of 5th level or lower as a part of",
				"that action, you may simultaneously cast a 1st-level spell with",
				"a casting time of 1 action or bonus action. You determine in",
				"what order each of the spells is cast. As you advance as an",
				"archmage, you can cast more powerful spells using this feature",
				"You cannot use this feature to cast cantrips in either case.",
			]),
			additional : ["5th/1st", "5th/1st", "6th/2nd", "6th/2nd", "7th/3rd", "7th/3rd", "8th/4th", "8th/4th", "9th/5th", "9th/5th", "5th/1st", "5th/1st", "6th/2nd", "6th/2nd", "7th/3rd", "7th/3rd", "8th/4th", "8th/4th", "9th/5th", "9th/5th"],
		},
		"epic spellbook" : {
			name : "Epic Spellbook",
			source : ["EL:HH", 100],
			minlevel : 2,
			description : desc([
				"Your spellbook becomes a tome of wondrous knowledge and",
				"arcane secrets. You add three archmage Epic spells of your",
				"choice to your spellbook and two additional archmage Epic",
				"spells each time you gain a level in the archmage Epic prestige",
				"class. Each of these spells must be of a tier for which you have",
				"Epic spell slots.",
				"Additionally, your spellbook becomes extraordinarily magical.",
				"It is considered an artifact-quality magic item, and it cannot",
				"be read by non-Deific creatures other than you while you live.",
				"If your spellbook leaves your possession against your will, it",
				"magically reappears in your possession the next time you finish",
				"a short or long rest. Only magic of Deific strength can prevent",
				"this effect.",
				"Finally, if you find a piece of knowledge (such as a spell",
				"scroll) of an archmage Epic spell, you can add it to your",
				"spellbook if it is of a tier for which you have Epic spell slots",
				"and if you have the time to decipher and copy it. Copying",
				"an Epic spell into your spellbook works similarly to copying",
				"a non-Epic spell but takes 24 hours and 5,000 gp per Epic",
				"spell tier.",
			])
		},	
		"epic spellcasting" : {
			name : "Epic Spellcasting",
			source : ["EL:HH", 101],
			minlevel : 2,
			description : desc([
				"Your study of the arcane arts has unlocked the mightiest",
				"spells ever conceived: Epic spells. See the “Epic Magic and",
				"Spellcasting” section in chapter 4 for rules about Epic magic",
				"and spellcasting and for the list of Epic spells available to the",
				"archmage.",
				"The archmage class progression table shows how many Epic",
				"spell slots you have available to cast your Epic spells. To cast",
				"an Epic spell, you must expend an Epic spell slot of the spell’s",
				"tier or higher. You regain all expended Epic spell slots when",
				"you finish a long rest.",
				"You prepare the list of archmage Epic spells that are available",
				"for you to cast. To do so, choose a number of archmage",
				"Epic spells from your spellbook equal to your Intelligence",
				"modifier + your archmage level (minimum of one spell). The",
				"Epic spells must be of a level for which you have spell slots.",
				"You can change your list of prepared Epic spells when you",
				"finish a long rest. Preparing a new list of archmage Epic spells",
				"requires time spent studying your spellbook and memorizing",
				"the complex arcane techniques required to cast them safely, at",
				"least 10 minutes for each Epic spell on your list.",
			]),
		},
		"master of the arcane" : {
			name : "Master of the Arcane",
			source : ["EL:HH", 101],
			minlevel : 2,
			description : desc([
				"Your hunger for knowledge drives you to tackle some of the",
				"greatest challenges of magic called arcane mysteries. Each of",
				"the eight schools of magic has its own mysteries, which you",
				"unravel as you advance as an archmage.",
				"Each mystery has three levels—a fundamental, principle,",
				"and pinnacle—which must be learned to completely unravel",
				"the secrets of that school of magic. To learn the principle in a",
				"given school, you must have learned the school’s fundamental,",
				"and to learn the pinnacle of a school, you must have learned",
				"both the school’s fundamental and principle.",
				"You learn two fundamentals from two different schools of",
				"magic as detailed in the “Arcane Mysteries” section. As you",
				"advance as an archmage, you may improve your understanding",
				"of one of these schools by learning an additional level of",
				"its mystery, as shown in the Arcane Mysteries column of the",
				"archmage class progression table.",
			]),
			extraname : "Arcane Mysteries",
			extrachoices : ["Fundamental of Abjuration", "Principle of Abjuration", "Pinnacle of Abjuration", "Fundamental of Conjuration", "Principle of Conjuration", "Pinnacle of Conjuration", "Fundamental of Divination", "Principle of Divination", "Pinnacle of Divination", "Fundamental of Enchantment", "Principle of Enchantment", "Pinnacle of Enchantment", "Fundamental of Evocation", "Principle of Evocation", "Pinnacle of Evocation", "Fundamental of Illusion", "Principle of Illusion", "Pinnacle of Illusion", "Fundamental of Necromancy", "Principle of Necromancy", "Pinnacle of Necromancy", "Fundamental of Transmutation", "Principle of Transmutation", "Pinnacle of Transmutation"],
			extraTimes : [0, 2, 2, 3, 3, 4, 4, 5, 5, 6, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5],
			"fundamental of abjuration" : {
				name : "Fundamental of Abjuration",
				description : desc([
					"When you cast a non-cantrip spell from the School of Abjuration",
					"of 4th level or lower, you may treat the effects of that spell as",
					"though you had cast it at 5th level.",
				]),
			},	
			"principle of Abjuration" : {
				name : "Principle of Abjuration",
				description : desc([
					"You are immune to the effects of non-Epic spells cast by creatures",
					"with a spell save DC lower than yours.",
				]),
				prereqeval : function(v) { return GetFeatureChoice('classes', 'archmage', 'arcane mysteries', true).indexOf('fundamental of abjuration') !== -1; },
			},
			"pinnacle of Abjuration" : {
				name : "Pinnacle of Abjuration",
				description : desc([
					"You learn the secret Epic abjuration spell blackout, which counts",
					"as an archmage Epic spell for you. The details of the spell are",
					"provided in the “Archmage Secret Spells” section detailed in",
					"chapter 4. You can cast this spell without expending an Epic",
					"spell slot. When you do so, you cannot cast the spell in this",
					"manner again until you finish a long rest.",
				]),
				spellcastingBonus : [{
					name : "Archmage Secret Spell",
					spells : "blackout",
					selection : "blackout",
					times : 1,
					oncelr : true,
				}],	
				prereqeval : function(v) { return GetFeatureChoice('classes', 'archmage', 'arcane mysteries', true).indexOf('principle of abjuration') !== -1; },
			},
			"fundamental of conjuration" : {
				name : "Fundamental of Conjuration",
				description : desc([
					"When you cast a non-cantrip spell from the School of",
					"Conjuration of 4th level or lower, you may treat the effects of",
					"that spell as though you had cast it at 5th level.",
				]),
			},	
			"principle of conjuration" : {
				name : "Principle of Conjuration",
				description : desc([
					"When you cast a non-Epic spell from the School of Conjuration",
					"with a duration greater than instantaneous, you can choose to",
					"increase its duration for as long as you choose to maintain concentration.",
					"If the spell does not require you to concentrate to",
					"maintain its effect, you must instead concentrate on it to gain",
					"this benefit.",
				]),
				prereqeval : function(v) { return GetFeatureChoice('classes', 'archmage', 'arcane mysteries', true).indexOf('fundamental of conjuration') !== -1; },
			},
			"pinnacle of conjuration" : {
				name : "Pinnacle of Conjuration",
				description : desc([
					"You learn the secret Epic conjuration spell grand summons,",
					"which counts as an archmage Epic spell for you. The details of",
					"the spell are provided in the “Archmage Secret Spells” section",
					"detailed in chapter 4. You can cast this spell without expending",
					"an Epic spell slot. When you do so, you cannot cast the spell in",
					"this manner again until you finish a long rest.",
				]),
				spellcastingBonus : [{
					name : "Archmage Secret Spell",
					spells : "grand summons",
					selection : "grand summons",
					times : 1,
					oncelr : true,
				}],	
				prereqeval : function(v) { return GetFeatureChoice('classes', 'archmage', 'arcane mysteries', true).indexOf('principle of conjuration') !== -1; },
			},
			"fundamental of divination" : {
				name : "Fundamental of Divination",
				description : desc([
					"Non-Epic creatures are unable to detect the effect or presence",
					"of spells (such as through spells like detect magic) you cast from",
					"the School of Divination under any circumstances, and effects",
					"produced by spells you cast from the School of Divination are",
					"invisible unless you choose otherwise. Epic creatures attempting",
					"to detect the effects or presence of your spells from the",
					"School of Divination must succeed on a Wisdom saving throw",
					"against your spell save DC or fail to detect them.",
					"Additionally, choose five non-Epic spells from the School",
					"of Divination from any class spell list and add them to your",
					"spellbook. These spells are now wizard spells for you.",
				]),
			},	
			"principle of divination" : {
				name : "Principle of Divination",
				description : desc([
					"When you cast a spell from the School of Divination with a",
					"duration greater than instantaneous, you may increase the duration",
					"of that spell to 24 hours.",
				]),
				prereqeval : function(v) { return GetFeatureChoice('classes', 'archmage', 'arcane mysteries', true).indexOf('fundamental of divination') !== -1; },
			},
			"pinnacle of divination" : {
				name : "Pinnacle of Divination",
				description : desc([
					"You learn the secret Epic divination spell knowledge cascade,",
					"which counts as an archmage Epic spell for you. The details of",
					"the spell are provided in the “Archmage Secret Spells” section",
					"detailed in chapter 4. You can cast this spell without expending",
					"an Epic spell slot. When you do so, you cannot cast the spell in",
					"this manner again until you finish a long rest.",
				]),
				spellcastingBonus : [{
					name : "Archmage Secret Spell",
					spells : "knowledge cascade",
					selection : "knowledge cascade",
					times : 1,
					oncelr : true,
				}],	
				prereqeval : function(v) { return GetFeatureChoice('classes', 'archmage', 'arcane mysteries', true).indexOf('principle of divination') !== -1; },
			},
			"fundamental of enchantment" : {
				name : "Fundamental of Enchantment",
				description : desc([
					"When you cast a non-cantrip spell from the School of Enchantment",
					"of 4th level or lower, you may treat the effects of that spell",
					"as though you had cast it at 5th level.",
				]),
			},	
			"principle of enchantment" : {
				name : "Principle of Enchantment",
				description : desc([
					"When you cast a spell from the School of Enchantment that",
					"attempts to charm a creature that is immune to the charmed",
					"condition, it is instead not immune and has Epic advantage on",
					"saving throws against that effect for its duration.",
				]),
				prereqeval : function(v) { return GetFeatureChoice('classes', 'archmage', 'arcane mysteries', true).indexOf('fundamental of enchantment') !== -1; },
			},
			"pinnacle of enchantment" : {
				name : "Pinnacle of Enchantment",
				description : desc([
					"You learn the secret Epic enchantment spell microcosm, which",
					"counts as an archmage Epic spell for you. The details of the",
					"spell are provided in the “Archmage Secret Spells” section detailed",
					"in chapter 4. You can cast this spell without expending",
					"an Epic spell slot. When you do so, you cannot cast the spell in",
					"this manner again until you finish a long rest.",
				]),
				spellcastingBonus : [{
					name : "Archmage Secret Spell",
					spells : "microcosm",
					selection : "microcosm",
					times : 1,
					oncelr : true,
				}],	
				prereqeval : function(v) { return GetFeatureChoice('classes', 'archmage', 'arcane mysteries', true).indexOf('principle of enchantment') !== -1; },
			},
			"fundamental of evocation" : {
				name : "Fundamental of Evocation",
				description : desc([
					"When you cast a non-cantrip spell from the School of Evocation",
					"of 4th level or lower, you may treat the effects of that spell as",
					"though you had cast it at 5th level",
				]),
			},	
			"principle of evocation" : {
				name : "Principle of Evocation",
				description : desc([
					"When you cast a spell from the School of Evocation that would",
					"deal acid, cold, fire, lightning, necrotic, radiant, or thunder",
					"damage, you may instead deal arcane damage.",
				]),
				prereqeval : function(v) { return GetFeatureChoice('classes', 'archmage', 'arcane mysteries', true).indexOf('fundamental of evocation') !== -1; },
			},
			"pinnacle of evocation" : {
				name : "Pinnacle of Evocation",
				description : desc([
					"You learn the secret Epic evocation spell ray of ruination, which",
					"counts as an archmage Epic spell for you. The details of the",
					"spell are provided in the “Archmage Secret Spells” section detailed",
					"in chapter 4. You can cast this spell without expending",
					"an Epic spell slot. When you do so, you cannot cast the spell in",
					"this manner again until you finish a long rest.",
				]),
				spellcastingBonus : [{
					name : "Archmage Secret Spell",
					spells : "ray of ruination",
					selection : "ray of ruination",
					times : 1,
					oncelr : true,
				}],	
				prereqeval : function(v) { return GetFeatureChoice('classes', 'archmage', 'arcane mysteries', true).indexOf('principle of evocation') !== -1; },
			},
			"fundamental of illusion" : {
				name : "Fundamental of Illusion",
				description : desc([
					"When you cast a non-Epic spell of the School of Illusion, you",
					"can choose to do so discretely. When you do so, other creatures",
					"cannot perceive you to be casting a spell unless they succeed on",
					"a Wisdom (Perception) ability check with a DC equal to your",
					"Intelligence score. A creature with a passive Perception higher",
					"than your Intelligence score automatically detects you casting a",
					"spell in this manner.",
				]),
			},	
			"principle of illusion" : {
				name : "Principle of Illusion",
				description : desc([
					"Creatures with truesight no longer automatically see through",
					"your illusions or automatically succeed on saving throws against",
					"them, and instead have Epic advantage on saving throws against",
					"them.",
				]),
				prereqeval : function(v) { return GetFeatureChoice('classes', 'archmage', 'arcane mysteries', true).indexOf('fundamental of illusion') !== -1; },
			},
			"pinnacle of illusion" : {
				name : "Pinnacle of Illusion",
				description : desc([
					"You learn the secret Epic illusion spell wall of fantabulous wonderment,",
					"which counts as an archmage Epic spell for you. The",
					"details of the spell are provided in the “Archmage Secret Spells”",
					"section detailed in chapter 4. You can cast this spell without",
					"expending an Epic spell slot. When you do so, you cannot cast",
					"the spell in this manner again until you finish a long rest.",
				]),
				spellcastingBonus : [{
					name : "Archmage Secret Spell",
					spells : "wall of fantabulous wonderment",
					selection : "wall of fantabulous wonderment",
					times : 1,
					oncelr : true,
				}],	
				prereqeval : function(v) { return GetFeatureChoice('classes', 'archmage', 'arcane mysteries', true).indexOf('principle of illusion') !== -1; },
			},
			"fundamental of necromancy" : {
				name : "Fundamental of Necromancy",
				description : desc([
					"When you cast a non-cantrip spell from the School of",
					"Necromancy of 4th level or lower, you may treat the effects of",
					"that spell as though you had cast it at 5th level.",
				]),
			},	
			"principle of necromancy" : {
				name : "Principle of Necromancy",
				description : desc([
					"You learn the spell finger of death if you have not learned it",
					"already. You may cast finger of death as a 7th-level spell without",
					"expending a spell slot.",
				]),
				spellcastingBonus : [{
					name : "Principle of Necromancy",
					spells : "finger of death",
					selection : "finger of death",
					times : 1,
					firstCol : "atwill"
				}],	
				prereqeval : function(v) { return GetFeatureChoice('classes', 'archmage', 'arcane mysteries', true).indexOf('fundamental of necromancy') !== -1; },
			},
			"pinnacle of necromancy" : {
				name : "Pinnacle of Necromancy",
				description : desc([
					"You learn the secret Epic necromancy spell obsolescence, which",
					"counts as an archmage Epic spell for you. The details of the",
					"spell are provided in the “Archmage Secret Spells” section detailed",
					"in chapter 4. You can cast this spell without expending",
					"an Epic spell slot. When you do so, you cannot cast the spell in",
					"this manner again until you finish a long rest.",
				]),
				spellcastingBonus : [{
					name : "Archmage Secret Spell",
					spells : "obsolescence",
					selection : "obsolescence",
					times : 1,
					oncelr : true,
				}],	
				prereqeval : function(v) { return GetFeatureChoice('classes', 'archmage', 'arcane mysteries', true).indexOf('principle of necromancy') !== -1; },
			},
			"fundamental of transmutation" : {
				name : "Fundamental of Transmutation",
				description : desc([
					"When you cast a non-Epic spell from the School of Transmutation",
					"that targets a single other creature and requires you",
					"to concentrate to maintain its effects, you can choose to allow",
					"the target to concentrate on the spell to maintain its effect,",
					"instead of you.",
				]),
			},	
			"principle of transmutation" : {
				name : "Principle of Transmutation",
				description : desc([
					"Transmutation spells you cast are exceedingly difficult to remove.",
					"When a creature attempts to end a transmutation spell",
					"cast by you, it must succeed on an Intelligence saving throw",
					"against your spell save DC or the attempt fails and any resources",
					"expended to make the attempt are wasted.",
				]),
				prereqeval : function(v) { return GetFeatureChoice('classes', 'archmage', 'arcane mysteries', true).indexOf('fundamental of transmutation') !== -1; },
			},
			"pinnacle of transmutation" : {
				name : "Pinnacle of Transmutation",
				description : desc([
					"You learn the secret Epic transmutation spell prismatic weapon,",
					"which counts as an archmage Epic spell for you. The details of",
					"the spell are provided in the “Archmage Secret Spells” section",
					"detailed in chapter 4. You can cast this spell without expending",
					"an Epic spell slot. When you do so, you cannot cast the spell in",
					"this manner again until you finish a long rest.",
				]),
				spellcastingBonus : [{
					name : "Archmage Secret Spell",
					spells : "prismatic weapon",
					selection : "prismatic weapon",
					times : 1,
					oncelr : true,
				}],	
				prereqeval : function(v) { return GetFeatureChoice('classes', 'archmage', 'arcane mysteries', true).indexOf('principle of transmutation') !== -1; },
			},
		},
		"spell division" : {
			name : "Spell Division",
			source : ["EL:HH", 85],
			minlevel : 4,
			description : desc([
				"You can convert Epic magic into tremendous amounts of non-",
				"Epic magic. When you finish a long rest, you can choose to",
				"immediately expend one or more of your Epic spell slots and",
				"instead generate temporary non-Epic spell slots. The number",
				"and level of the temporary non-Epic spell slots generated by",
				"this feature depend on the tier of the Epic spell slot expended,",
				"which is detailed in the Spell Division table. These temporary",
				"spell slots last until you finish a long rest and cannot be regained",
				"once expended.",
			]),	
			toNotesPage : [{
				name : "Spell Division",
				note : [
					"Epic Spell Slot Tier",
					"Non-Epic Spell Slot Conversion",
					"Tier 1",
					"You generate a number of non-Epic spell",
					"slots of your choice whose combined level",
					"can be no greater than 11.",
					"Tier 2",
					"You generate a number of non-Epic spell",
					"slots of your choice whose combined level",
					"can be no greater than 15.",
					"Tier 3",
					"You generate a number of non-Epic spell",
					"slots of your choice whose combined level",
					"can be no greater than 21.",
				],
			}],	
			addMod : [
				{ type : "", field : "SpellSlots.CheckboxesSet.lvl2", mod : 1, text : ""},
			],
		},
		"" : {
			name : "",
			source :["EL:HH", 83],
			minlevel : 5,
			description : "",
			addMod : [
				{ type : "", field : "SpellSlots.CheckboxesSet.lvl1", mod : -1, text : ""},
			],
		},	
		"subclassfeature1" : {
			name : "Epic Arcane Tradition",
			source : ["EL:HH", 101],
			minlevel : 6,
			description : desc([
				"Your arcane tradition has reached its zenith as you master its",
				"unique and complex techniques. This expertise takes the form",
				"of a great project of incredible artistry and design that serves",
				"as a magical tool to exemplify your tradition. You gain the following",
				"features according to the arcane tradition you selected",
				"when you were advancing as a wizard.",
			]),
			addMod : [
				{ type : "", field : "SpellSlots.CheckboxesSet.lvl1", mod : -1, text : ""},
				{ type : "", field : "SpellSlots.CheckboxesSet.lvl3", mod : 1, text : ""},
			],
		},
		"d" : {
			name : "",
			source : ["EL:HH", 83],
			minlevel : 7,
			description : "",
			addMod : [
				{ type : "", field : "SpellSlots.CheckboxesSet.lvl1", mod : -1, text : ""},
				{ type : "", field : "SpellSlots.CheckboxesSet.lvl2", mod : -1, text : ""},
				{ type : "", field : "SpellSlots.CheckboxesSet.lvl3", mod : 1, text : ""},
			],
		},	
		"arcane brilliance" : {
			name : "Arcane Brilliance",
			source : ["EL:HH", 105],
			minlevel : 8,
			description : desc([
				"Your mind can study and analyze magic almost instantly. As a",
				"reaction when a creature you can see casts a spell that you could",
				"learn as a wizard or archmage, you may attempt an Intelligence",
				"(Arcana) ability check, the DC of which depends on the level",
				"of the spell. For non-Epic spells, the DC is 20 + the spell’s level.",
				"For a tier 1 Epic spell, the DC is 31; for tier 2, it’s 34; for tier 3,",
				"it’s 39. On a success, you can retain enough knowledge of the",	
				"spell to copy it into a spellbook. You retain this knowledge for",
				"1 week before forgetting the details necessary to copy the spell.",
				"Additionally, when you attempt a Wisdom or Charisma saving",
				"throw, you may instead attempt an Intelligence saving throw",
				"(the save DC remains the same).",
			]),
			addMod : [
				{ type : "", field : "SpellSlots.CheckboxesSet.lvl1", mod : -1, text : ""},
				{ type : "", field : "SpellSlots.CheckboxesSet.lvl2", mod : -1, text : ""},
				{ type : "", field : "SpellSlots.CheckboxesSet.lvl3", mod : 1, text : ""},
			],
		},	
		"e" : {
			name : "",
			source : ["EL:HH", 83],
			minlevel : 9,
			description : "",
			addMod : [
				{ type : "", field : "SpellSlots.CheckboxesSet.lvl1", mod : -1, text : ""},
				{ type : "", field : "SpellSlots.CheckboxesSet.lvl2", mod : -1, text : ""},
				{ type : "", field : "SpellSlots.CheckboxesSet.lvl3", mod : -1, text : ""},
			],
		},	
		"supreme magic" : {
			name : "Supreme Magic",
			source : ["EL:HH", 105],
			minlevel : 10,
			description : desc([
				"You have achieved the highest understanding of magic. You can",
				"learn non-Epic and Epic spells from any class spell list.",
				"Additionally, you may cast any number of Epic spells in a",
				"single turn so long as you have the required actions to do so.",
			]),	
			addMod : [
				{ type : "", field : "SpellSlots.CheckboxesSet.lvl1", mod : -1, text : ""},
				{ type : "", field : "SpellSlots.CheckboxesSet.lvl2", mod : -1, text : ""},
				{ type : "", field : "SpellSlots.CheckboxesSet.lvl3", mod : -1, text : ""},
			],
		},
	},
};
AddSubClass("archmage", "bladesinging", {
	regExpSearch : /^(?=.*(archmage))(?=.*bladesinging).*$/i,
	subname : "Bladesinging",
	source : ["EL:HH", 95],	
	features : {
		"subclassfeature1" : {
			name : "Bladesinging",
			source : ["EL:HH", 101],
			minlevel : 6,
			description : desc([
				"When you activate your Bladesong subclass feature, you may",
				"expend one of your Epic spell slots to empower a melee weapon",
				"you are wielding with the might of Epic magic, transforming it",
				"into a magical weapon called a spellblade, which grants you the",
				"following benefits:",
				"* When you make an attack with your spellblade, you may",
				"choose one of the following areas: a 120-foot-long,",
				"5-foot-wide line; a 60-foot cone; or a 30-foot-radius",
				"sphere centered on you. Creatures of your choice within",
				"the area with an AC equal to or lower than the result",
				"of the attack roll are hit by the attack and suffer any",
				"additional effects and modifiers to the attack as though",
				"they were a target.",
				"* When you cast a spell, you may also make a single",
				"attack with your spellblade.",
			]),	
		},	
	},
});
AddSubClass("archmage", "order of scribes", {
	regExpSearch : /^(?=.*(archmage))(?=.*order of scribes).*$/i,
	subname : "Order of Scribes",
	source : ["EL:HH", 95],	
	features : {
		"subclassfeature1" : {
			name : "Order of Scribes",
			source : ["EL:HH", 103],
			minlevel : 6,
			description : desc([
				"You may inscribe magic into strange arcane glyphs that can",
				"be called on at any moment to defend you. When you use the",
				"Ready action to cast a spell, you may choose to store the spell as",
				"a magical glyph, which orbits you for 8 hours or until expended.",
				"When you have a spell readied in this manner, you do not need",
				"to concentrate to hold the spell’s energy, which is instead stored",
				"within the masterful inscriptions of the glyph. The spell’s energy",
				"immediately dissipates and is lost if you attempt to Ready",
				"another spell.",
			]),	
		},	
	},
});
AddSubClass("archmage", "abjuration", {
	regExpSearch : /^(?=.*(archmage))(?=.*abjuration).*$/i,
	subname : "School of Abjuration",
	source : ["EL:HH", 103],	
	features : {
		"subclassfeature1" : {
			name : "School of Abjuration",
			source : ["EL:HH", 103],
			minlevel : 6,
			description : desc([
				"When you cast an Epic abjuration spell and would generate",
				"a magical ward via your Arcane Ward subclass feature, you",
				"may transform that magical ward into a unique machine of",
				"magical energy called a spell engine, which orbits your head",
				"and moves with you. A spell engine functions similarly to an",
				"Arcane Ward and may be affected by features that would affect",
				"your Arcane Ward (such as your Projected Ward subclass",
				"feature). The benefits of the ward are replaced with the following",
				"benefits of the spell engine and last until you finish a",
				"long rest:",
				"* The spell engine has 100 hit points per tier of the Epic",
				"spell slot used to create it. When a creature within 60 feet",
				"of the spell engine takes damage, you may choose to have",
				"the spell engine take the damage instead. If this damage",
				"reduces the engine to 0 hit points, any affected creatures",
				"take the remaining damage, and the engine is destroyed.",
				"* Invisible creatures within 60 feet of you are made visible,",
				"and you are aware of any spell effects within 60 feet of",
				"you. You see a faint aura around any visible creature or",
				"object in the area that bears magic, and you learn its",
				"school of magic, if any.",
				"* When you would be affected by an Epic spell, as a",
				"reaction you can destroy the spell engine to become",
				"immune to the effects of the Epic spell.",
			]),	
		},	
	},
});
AddSubClass("archmage", "conjuration", {
	regExpSearch : /^(?=.*(archmage))(?=.*conjuration).*$/i,
	subname : "School of Conjuration",
	source : ["EL:HH", 103],	
	features : {
		"subclassfeature1" : {
			name : "School of Conjuration",
			source : ["EL:HH", 103],
			minlevel : 6,
			description : desc([
				"Over the course of a long rest, you can choose to create a magical",
				"machine known as an arcane entity. The entity is an object with",
				"200 hit points and an AC of 20, which appears as a fist-sized star",
				"of magical energy. The entity orbits your head and moves with",
				"you. You may have only a single arcane entity at a time.",
				"When you cast a spell from the School of Conjuration",
				"that requires concentration, you may have the arcane entity",
				"maintain concentration on that spell instead. The entity does",
				"not need to make Constitution saving throws to maintain concentration",
				"in response to taking damage, and its concentration",
				"cannot be broken by any means unless the entity is destroyed.",
				"You can command the entity to cease concentrating on a spell",
				"at any time (no action required).",
				"When you cast a spell from the School of Conjuration that",
				"conjures, summons, or creates a creature, you may sacrifice the",
				"arcane entity as a part of that spell’s casting time to grant a",
				"single summoned creature 200 temporary hit points and a bonus",
				"to its attack rolls, saving throws, and ability checks equal",
				"to your proficiency bonus. This effect lasts until the creature is",
				"slain, the spell ends, or you create a new arcane entity.",
			]),	
		},	
	},
});
AddSubClass("archmage", "divination", {
	regExpSearch : /^(?=.*(archmage))(?=.*divination).*$/i,
	subname : "School of Divination",
	source : ["EL:HH", 103],	
	features : {
		"subclassfeature1" : {
			name : "School of Divination",
			source : ["EL:HH", 103],
			minlevel : 6,
			description : desc([
				"You can imbue one of your senses with powerful temporal divination",
				"magic. When you roll initiative, you can choose for",
				"that moment to be one you foresaw and have prepared for accordingly.",
				"When you do so, you may immediately cast a spell",
				"(no action required) with a casting time of 1 action or bonus",
				"action. If you cast a non-Epic spell in this manner, you cannot",
				"use this feature again until you finish a short rest. If you cast",
				"an Epic spell in this manner, you cannot use this feature again",
				"until you finish a long rest.",
			]),	
		},	
	},
});
AddSubClass("archmage", "enchantment", {
	regExpSearch : /^(?=.*(archmage))(?=.*enchantment).*$/i,
	subname : "School of Enchantment",
	source : ["EL:HH", 103],	
	features : {
		"subclassfeature1" : {
			name : "School of Enchantment",
			source : ["EL:HH", 103],
			minlevel : 6,
			description : desc([
				"As a reaction when you charm a creature, you implant that",
				"creature with a malevolent arcane parasite known as a mind",
				"spider. As an action, you can begin or end concentration on",
				"the mind spider effect (as though you were concentrating",
				"on a spell), which grants you the following benefits across",
				"any distance or planar boundary for as long as you maintain",
				"concentration:",
				"* You perceive everything the creature perceives",
				"and are aware of the creature’s exact location.",
				"* You can establish one-way or two-way",
				"telepathic communication between you and the creature.",
				"* You can target the creature with spells you cast",
				"from the School of Enchantment as though it",
				"were within range of that spell.",
				"A creature is not aware of this connection or the presence of",
				"the mind spider unless you will it, but a creature may attempt",
				"a Wisdom saving throw against your spell save DC each time",
				"you take this action, becoming aware of the connection on a",
				"success.",
				"You can implant a number of mind spiders equal to your",
				"Intelligence modifier, and a creature cannot be implanted with",
				"more than a single mind spider at a time. As an action, you can",
				"touch a creature afflicted with a mind spider to end the effect.",
				"A mind spider can be forcibly removed by powerful healing",
				"magic such as a heal or greater restoration spell, but any attempts",
				"fail unless the creature affected by the mind spider first succeeds",
				"on a Wisdom (Medicine) ability check against your spell",
				"save DC.",
			]),	
		},	
	},
});
AddSubClass("archmage", "evocation", {
	regExpSearch : /^(?=.*(archmage))(?=.*evocation).*$/i,
	subname : "School of Evocation",
	source : ["EL:HH", 104],	
	features : {
		"subclassfeature1" : {
			name : "School of Evocation",
			source : ["EL:HH", 104],
			minlevel : 6,
			description : desc([
				"When you cast a non-Epic wizard spell of any level that deals",
				"damage, you can use your Overchannel subclass feature to deal",
				"maximum damage with that spell. Additionally, you roll d6s",
				"instead of d12s when determining the damage that you take",
				"from your Overchannel subclass feature.",
			]),	
		},	
	},
});
AddSubClass("archmage", "illusion", {
	regExpSearch : /^(?=.*(archmage))(?=.*illusion).*$/i,
	subname : "School of Illusion",
	source : ["EL:HH", 104],	
	features : {
		"subclassfeature1" : {
			name : "School of Illusion",
			source : ["EL:HH", 104],
			minlevel : 6,
			description : desc([
				"When you cast a spell from the School of Illusion, you can",
				"choose to have the spell’s effects exist only in the minds of",
				"creatures of your choice that you can see within range of the",
				"spell. A creature affected in this manner perceives the spell",
				"and experiences all of its effects, but to all other creatures the",
				"spell’s effects cannot be perceived. If the spell affects multiple",
				"creatures in this manner, the perception of each affected creature",
				"is unique and not shared between them, meaning they",
				"do not see each other interacting with the illusion. For such",
				"affected creatures, it is impossible to disbelieve the illusion",
				"or succeed on ability checks and saving throws against the",
				"effect.",
				"At the end of each of its turns, a creature affected by an",
				"illusion in this manner can attempt an Intelligence saving",
				"throw against your spell save DC. On a success, the creature",
				"understands the nature of what is happening to it and becomes",
				"able to disbelieve the illusion and succeed on ability",
				"checks and saving throws against the effect. Once you have",
				"affected a creature with a spell in this manner, you cannot affect",
				"it in this manner again until it finishes a long rest.",
			]),	
		},	
	},
});
AddSubClass("archmage", "necromancy", {
	regExpSearch : /^(?=.*(archmage))(?=.*necromancy).*$/i,
	subname : "School of Necromancy",
	source : ["EL:HH", 104],	
	features : {
		"subclassfeature1" : {
			name : "School of Necromancy",
			source : ["EL:HH", 104],
			minlevel : 6,
			description : desc([
				"Your research into the arts of necromancy have yielded astonishing",
				"results, allowing you to turn into a mighty undead creature.",
				"By spending 1 week in continuous uninterrupted isolation,",
				"you can channel your Epic magic into a dark ritual that",
				"transforms you into an archlich. When the ritual is complete,",
				"you die and permanently become an undead creature. If you are",
				"under the effects of a spell or effect that changes your form, this",
				"ritual automatically fails.",
				"Additionally, as a part of the ritual, you must create a phylactery",
				"to house your soul. This phylactery is superior to that of",
				"a normal lich and functions perfectly, avoiding the traditional",
				"requirement of soul sacrifices to maintain your mind and body.",
				"The phylactery must be created from an extremely rare gem",
				"of extraordinary quality, typically no less than 100,000 gp in",
				"value. At your DM’s discretion, you may use similarly valuable",
				"items or paraphernalia as your phylactery. A phylactery is an",
				"object with 300 hit points and an AC of 25. Your phylactery is",
				"immune to damage from non-Epic sources and is immune to",
				"non-Epic spells and effects.",
				"This new form grants you the following benefits:",
				"* Your creature type changes to undead.",
				"* You have resistance to cold, lightning, and necrotic damage.",
				"You are immune to poison damage and bludgeoning,",
				"piercing, and slashing damage from nonmagical attacks.",
				"* You are immune to the charmed, exhaustion,",
				"frightened, paralyzed, and poisoned conditions.",
				"* You no longer need to eat, drink, breathe, or sleep,",
				"though you must still rest to recover spell slots and",
				"abilities. Your soul is drawn into your phylactery,",
				"where your soul remains until your phylactery is",
				"destroyed.",
				"* When you are slain, your body turns to dust and can",
				"only reform from your phylactery, which returns you",
				"to “life” with all your hit points and features as though",
				"you had finished a long rest. This process occurs over",
				"the course of 24 hours after your “death.” Effects that",
				"remove or damage your soul have no effect on you",
				"unless they target your phylactery.",
			]),	
		},	
	},
});
AddSubClass("archmage", "transmutation", {
	regExpSearch : /^(?=.*(archmage))(?=.*transmutation).*$/i,
	subname : "School of Transmutation",
	source : ["EL:HH", 104],	
	features : {
		"subclassfeature1" : {
			name : "School of Transmutation",
			source : ["EL:HH", 104],
			minlevel : 6,
			description : desc([
				"You perfect your tools of transmutation, allowing you to create",
				"an Epic incarnation of your transmuter’s stone. When you",
				"would create a transmuter’s stone, you may instead create a",
				"philosopher’s stone by spending 20,000 gp of rare alchemical",
				"materials in the process. A philosopher’s stone has all the",
				"properties of a transmuter’s stone, plus the following benefits:",
				"* The stone has 3 charges and recovers 1 charge whenever",
				"you finish a long rest. As an action, you can expend a",
				"charge to cause one of the effects as detailed on your",
				"Master Transmuter subclass feature without destroying the",
				"philosopher’s stone.",
				"* While you hold your philosopher’s stone, you no longer",
				"require material components to cast your non-Epic spells. If",
				"a spell you cast would require an object of power, you may",
				"instead use your philosopher’s stone.",
				"* When you cast a non-Epic spell from the School of",
				"Transmutation with a duration greater than instantaneous,",
				"you can destroy your philosopher’s stone as a part of that",
				"casting to make the duration of that spell permanent or for",
				"as long as you maintain concentration (when applicable).",
				"This benefit immediately ends if you use this feature again.",
			]),	
		},	
	},
});
AddSubClass("archmage", "war magic", {
	regExpSearch : /^(?=.*(archmage))(?=.*war magic).*$/i,
	subname : "War Magic",
	source : ["EL:HH", 104],	
	features : {
		"subclassfeature1" : {
			name : "War Magic",
			source : ["EL:HH", 104],
			minlevel : 6,
			description : desc([
				"Your archmage level is added to your wizard level when determining",
				"the effects of your War Magic subclass features.",
				"Additionally, when you roll initiative, you can choose to",
				"generate a shield of pure arcane energy around yourself,",
				"which lasts for 1 minute. When you do so, you may expend",
				"a number of wizard or archmage spell slots up to your proficiency",
				"bonus. The shield grants you a number of temporary",
				"hit points according to the spell slots expended, and these",
				"temporary hit points cannot be replaced by temporary hit",
				"points from another source. This amount is 1d12 for a 1st level",
				"slot, plus an additional 1d12 for each slot higher than",
				"1st. If an expended spell slot was an Epic spell slot, this",
				"amount is 11d12 for a tier 1 slot, 14d12 for a tier 2 slot, and",
				"19d12 for a tier 3 slot.",
				"Once you use this feature, you must finish a long rest before",
				"you can use it again.",
				"Additionally, while this shield is in effect, it provides the following",
				"benefits.",
				"Disintegrating Barrier. When an enemy creature touches",
				"you or hits you with a melee weapon attack for the first time on",
				"a turn, that creature takes 4d12 force damage.",
				"Spell Shield. If you are affected by a harmful non-Epic",
				"spell, the shield loses 5d12 hit points and you become immune",
				"to that effect until the end of your next turn. If you are",
				"affected by a harmful Epic spell, the shield loses 13d12 hit",
				"points and you become immune to that effect until the end of",
				"your next turn.",
			]),	
		},	
	},
});

//Epic Summons

CreatureList["aspect of the dragon"] = {
	name : "Aspect of the Dragon",
	source : ["EL:HH", 87],
	size : 0,
	type : "Dragon",
	alignment : "Unaligned",
	ac : 25,
	hp : 400,
	hd : [6, 6],
	speed : "40 ft, fly 80 ft",
	proficiencyBonusLinked : true,
	scores : [30, 10, 29, "Int", "Wis", "Cha"],
	senses : "Blindsight 60 ft, Darkvision 120 ft",
	challengeRating : "1",
	attacksAction : 3,
	attacks : [{
		name : "Bite",
		ability : 1,
		damage : [4, 10, "piercing"],
		range : "Melee (15 ft)",
		description : "",
		abilitytodamage : true,
	}, {
		name : "Claw",
		ability : 1,
		damage : [4, 6, "slashing"],
		range : "Melee (10 ft)",
		description : "",
		abilitytodamage : true,
	}, {
		name : "Tail",
		ability : 1,
		damage : [4, 8, "bludgeoning"],
		range : "Melee (20 ft)",
		description : "",
		abilitytodamage : true,
	}],
	traits : [{
		name : "Multiattack",
		description : "You can use your Frightful Presence. You then make three attacks: one with your Bite or Tail and two with your Claw.",
		joinString : "\n   "
	}, {
		name : "Breath Weapon (Recharge 5-6)",
		description : "You exhale a 90-foot cone or a 120-foot-long, 10-foot-wide line of elemental energy. Each creature in that area must attempt a Dexterity saving throw against your spell save DC, taking 110 (20d10) damage of the type associated with your draconic ancestry on a failure, or half as much damage on a success.",
		joinString : "\n   "
	}, {
		name : "Frightful Presence",
		description : "Each creature of your choice that you are aware of within 120 feet of you must succeed on a Wisdom saving throw against your spell save DC or become frightened for 1 minute. A creature can repeat the saving throw at the end of each of its turns, ending the effect on itself on a success. If a creature’s saving throw is successful or the effect ends for it, the creature is immune to your Frightful Presence for the next 24 hours.",
		joinString : "\n   "
	}],
};
CreatureList["epic mount"] = {
	name : "Epic Mount",
	source : ["EL:HH", 143],
	size : 2,
	type : "",
	alignment : "Unaligned",
	ac : 24,
	hp : 333,
	hd : [29, 10],
	speed : "50 ft, fly 100 ft",
	proficiencyBonusLinked : true,
	scores : [20, 18, 22, 18, 24, 12],
	senses : "Blindsight 60 ft, Darkvision 120 ft",
	challengeRating : "1",
	attacksAction : 2,
	attacks : [{
		name : "Bite",
		ability : 1,
		damage : [3, 10, "piercing"],
		range : "Melee (5 ft)",
		description : "",
		abilitytodamage : true,
	}, {
		name : "Kick",
		ability : 1,
		damage : [2, 6, "bludgeoning"],
		range : "Melee (10 ft)",
		description : "the target is pushed 10 feet away.",
		abilitytodamage : true,
	}],
	traits : [{
		name : "Immunities",
		description : "Damage Immunities: Bludgeoning, Piercing, and Slashing from nonmagical attacks, Condition Immunities: Charmed and Frightened.",
		joinString : "\n   "
	}, {
		name : "Multiattack",
		description : "The mount makes two attacks.",
		joinString : "\n   "
	}, {
		name : "Call to Glory (Recharge 5-6)",
		description : "The mount magically teleports up to 100 miles to an unoccupied space adjacent to you. As a reaction when the mount appears, you may mount it.",
		joinString : "\n   "
	}, {
		name : "Empowered Blows",
		description : "The mount's weapon attacks are magical",
		joinString : "\n   "
	}, {
		name : "Mighty Steed",
		description : "While it is being ridden, the mount has Epic advantage on saving throws and ability checks",
		joinString : "\n   "
	}, {
		name : "Unbelievable Speed",
		description : "On each of its turns, the mount can take a bonus action to take the Dash action.",
	}],
};
CreatureList["megalith"] = {
	name : "Megalith",
	source : ["EL:HH", 155],
	size : 1,
	type : "elemental",
	alignment : "neutral",
	ac : 23,
	hp : 230,
	hd : [20, 12],
	speed : "40 ft",
	proficiencyBonus : 7,
	scores : [26, 10, 20, 10, 16, 6],
	damage_resistances : "lightning, thunder; bludgeoning, piercing, and slashing from nonmagical attacks",
	damage_immunities : "poison",
	condition_immunities : "exhaustion, paralyzed, petrified, stunned, unconscious",
	senses : "Truesight 60 ft",
	passivePerception : 13,
	languages : "Druidic, Terran",
	challengeRating : "20",
	attacksAction : 2,
	attacks : [{
		name : "Slam",
		ability : 1,
		damage : [6, 10, "bludgeoning"],
		range : "Melee (10 ft)",
		description : "crea. hit must make a Str save vs Caster's Spell DC or be knocked prone",
		abilitytodamage : true,
	}],
	traits : [{
		name : "Immunities",
		description : "Damage Immunities: Poison, Condition Immunities: Exhaustion, Paralyzed, Petrified, Stunned, Unconcious",
		joinString : "\n   "
	}, {
		name : "Multiattack",
		description : "The megalith makes two slam attacks.",
		joinString : "\n   "
	}, {
		name : "Druidic Strikes",
		description : "The magalith's weapon attacks are magical",
		joinString : "\n   "
	}, {
		name : "Siege Monster",
		description : "The megalith deals double damage to objects and structures",
		joinString : "\n   "
	}],
};

//Epic Feats

FeatsList["(epic) alchaemaestro"] = {
	name : "(Epic) Alchaemaestro",
	source : ["EL:HH", 112], 
	descriptionFull : desc([
		"Your physiology is well adapted for consuming and enduring",
		"the effects of potions, granting you the following benefits.",
		"* When you would drink a potion as an action, you may",
		"instead drink it as a bonus action.",
		"* When the duration of a potion you drink would",
		"end, you can choose to concentrate on it (as though",
		"concentrating on a spell). If you do so, the potion’s",
		"duration continues for as long as you maintain",
		"concentration, instead of for its normal duration.",
		"* The effects of potions affecting you are not considered",
		"magical effects.",
	]),
	description: "you can drink any potion as a bonus action, you can concentrate on a potion effect to extend it beyond its expiration, potion effects you consume are no longer considered magical",
};
FeatsList["(epic) arcane insight"] = {
	name : "(Epic) Arcane insight",
	source : ["EL:HH", 112], 
	descriptionFull : desc([
		"You understand the nature of magic on nearly every level, which",
		"allows you to manipulate and study it with ease. You gain the",
		"following benefits.",
		"* You have Epic advantage on saving throws against",
		"non-Epic and Epic spells as well as non-Epic and Epic",
		"magical effects.",
		"* You have a passive Intelligence (Arcana) to identify",
		"spells and magical effects you can see. The DC to identify",
		"such spells is 15 + the spell’s level, or 26 for a tier 1",
		"Epic spell, 29 for a tier 2 Epic spell, and 33 for a tier 3",
		"Epic spell.",
		"* When an Epic spell is cast within 1 mile of you or you",
		"are within 1 mile of an Epic magical effect, you immediately",
		"sense its casting, its presence, and the general direction",
		"from which the spell or effect originates. You do not",
		"know the nature, power, or effects of the spell you sense,",
		"only that Epic magic is being used in the vicinity.",
	]),
	description: "You have epic advantage against all spells and magical effects, You immediately know the direction of a epic spell cast withing 1 mile of you, You have passive Intelligence (Arcana) to identify spells and magical effects you can see DC = 15+SL, or 26 for T1 Epic, 29 for T2 Epic, 33 for T3 Epic",
	savetxt : "You have Epic Advantage against all spells and magical effects",
};
FeatsList["(epic) artifact affinity"] = {
	name : "(Epic) Artifact Affinity",
	source : ["EL:HH", 112], 
	descriptionFull : desc([
		"Your proficiency with magical equipment and powerful items is",
		"remarkable, granting you exceptional understanding and versatility.",
		"You gain the following benefits.",
		"* You can be attuned to four magical items at a time.",
		"* You can attune yourself to up to four magic items",
		"over the course of a single short rest, or to a single",
		"item by spending 15 continuous minutes handling",
		"the item.",
		"* When you touch a magic item of mythic rarity or",
		"lower for the first time, you immediately learn its",
		"properties and features.",
	]),
	description: "You can attune to 4 magical items at a time, you can attune to 4 magic items over a single short rest, or a single item over 15 mins, When you touch any magic items of Mythic quality or lower you immediately learn its properties",
};
FeatsList["(epic) blinding speed"] = {
	name : "(Epic) Blinding Speed",
	source : ["EL:HH", 112], 
	descriptionFull : desc([
		"Your speed and reflexes are indescribable, allowing you to move",
		"without being perceived.",
		"* When you move, you do so with such speed that it appears",
		"instantaneous to other creatures, as though you had",
		"teleported to where you ended your movement. As a result,",
		"your movement does not provoke opportunity attacks and",
		"you are heavily obscured while you are moving.",
		"* When you take the Dash action, you also take the Dodge",
		"action.",
		"* When you would perform light physical activity that",
		"would ordinarily take up to 1 hour, you can instead",
		"perform it in 1 minute.",
	]),
	description: "when you move it is at such speeds it appears you teleport, when you take the dash action, you also benefit from the dodge action, an hour of light activity can be completed in 1 minute",
};
FeatsList["(epic) boundless creativity"] = {
	name : "(Epic) Boundless Creativity",
	source : ["EL:HH", 112], 
	descriptionFull : desc([
		"Your creative mind is unparalleled, allowing you to solve even",
		"the most complex problems with ease. You gain the following",
		"benefits.",
		"* As a bonus action on your turn, you can take the Help,",
		"Search, or Use an Object action.",
		"* You have Epic advantage on Intelligence, Wisdom, and",
		"Charisma ability checks.",
		"* You are proficient in all languages you have encountered.",
		"You may learn a new language by spending 8 hours",
		"speaking the language with native speakers or studying a",
		"work of literature written in the language.",
	]),
	action : ["bonus action", "Help, Search, Use Object"],
	description: "you can tak the Help, Search, and Use Object actions as a bonus action, Epic advantage on Int, Wis, and Cha ability checks, You know all languages you have encountered, and can learn a new language in 8 hours by speaking with a native speaker.",
};
FeatsList["(epic) cavalry master"] = {
	name : "(Epic) Cavalry Master",
	source : ["EL:HH", 112], 
	descriptionFull : desc([
		"Your skill with mounts is legendary. While you are mounted",
		"and not incapacitated, you gain the following benefits.",
		"* When you score a hit with a weapon attack, the weapon",
		"deals an additional 1d10 damage.",
		"* Your mount has resistance to damage and you have Epic",
		"advantage on saving throws and ability checks against",
		"effects that would force you to dismount.",
		"* When you roll for initiative and your mount is intelligent",
		"enough to have its own turn, you may choose instead to",
		"have your mount act on the same turn as you.",
	]),
	description: "While Mounted when you hit with a weapon it deals an aditional 1d10 dmg, Your mount has resistance to damage and you have epic adv on saves and ability checks to avoid being dismounted, when initiative is rolled if your mount is intelligent enough to have its own initiative it can instead act on your turn.",
	savetxt : "While mounted you have epic adv. on saves and ability checks to avoid being dismounted",
};
FeatsList["(epic) deadshot"] = {
	name : "(Epic) Deadshot",
	source : ["EL:HH", 112], 
	descriptionFull : desc([
		"You are unrivaled in ranged combat, performing feats of sharpshooting",
		"that leave others speechless. You gain the following",
		"benefits.",
		"* You can make opportunity attacks using ranged",
		"weapons, and creatures provoke opportunity attacks",
		"from you when they lose total cover against you.",
		"* You can make ranged weapon attacks against targets",
		"that have total cover from you, provided there is a",
		"solid surface within 30 feet of the target that the",
		"target does not have total cover from and is within",
		"range of your weapon. To make such an attack, you",
		"must take a −5 penalty to your attack roll as you",
		"ricochet your attack off the solid surface in an attempt",
		"to hit the target.",
		"* When you miss a ranged weapon attack, you learn the",
		"AC of your target.",
	]),
	description: "when a crea. loses total cover against you you can make an attack of opportunity, you can take a -5 penalty to a ranged attack to aim at a target behind total cover provided that there is a solid surface w/i 30 feet of the target that they do not have total cover from, wen you miss with a ranged attack, you learn the target's AC",
};
FeatsList["(epic) deathbringer"] = {
	name : "(Epic) Deathbringer",
	source : ["EL:HH", 113], 
	descriptionFull : desc([
		"You are an unrelenting force of destruction, dealing death with",
		"every blow. You gain the following benefits.",
		"* When you take the Attack action on your turn, you may",
		"make an additional weapon attack as a part of that action",
		"in addition to any other attacks you would normally make.",
		"* When you hit a creature with a challenge rating of 5 or",
		"lower with a weapon attack, it is instantly slain unless you",
		"choose to not slay it.",
		"* You always know exactly how many creatures you have killed.",
	]),
	description: "When you take the attak action you gain an additional weapon attack as part of that action, If you attack a creature of CR 5 or lower they are slain outright, you always know how many creatures you have killed.",
};	
FeatsList["(epic) devastating charger"] = {
	name : "(Epic) Devastating Charger",
	source : ["EL:HH", 113], 
	descriptionFull : desc([
		"Your charges lay waste to your enemies in battle, driving them",
		"back with the ferocity of your blows. You gain the following",
		"benefits.",
		"* On each of your turns, when you take the Dash action",
		"for the first time on your turn, you may also take an",
		"Attack action. When you take the Attack action granted",
		"by this feature, you cannot spend any movement for the",
		"remainder of that turn.",
		"* When you shove a creature, you may spend 5 or more",
		"feet of movement to increase the distance the creature",
		"is pushed away from you by 10 feet for every 5 feet of",
		"movement spent.",
		"* When you take the Dash action, every time you spend",
		"movement you can shake the ground within 15 feet of",
		"you with your footfalls.",
	]),
	description: "On your turn when you take the dash action, you may also take the attack action when you do so your you can not spend any further movement on that turn, When you shove a creature you can spend 5ft of movement to push them 10ft further per 5ft you spend, When you dhash the ground within 15ft of you quakes with your footfalls.",
};
FeatsList["(epic) divine aspect"] = {
	name : "(Epic) Divine Aspect",
	source : ["EL:HH", 113], 
	descriptionFull : desc([
		"You harness the power of good and evil, which allows you to",
		"smite enemies with raw holy or unholy power. You gain the",
		"following benefits.",
		"* When you deal radiant damage, you may instead do",
		"righteous damage, and when you deal necrotic damage,",
		"you may instead do vile damage.",
		"* Your alignment cannot be changed unless you allow it,",
		"and you cannot be compelled by non-Deific sources to",
		"allow your alignment to be changed.",
		"* You are aware of the presence of any deities that occupy",
		"the same plane as you. You know the deities’ names,",
		"alignments, and divine ranks.",
	]),
	description: "Your radiant damage becomes Righteous, and your necrotic damage becomes Vile, your alignment can not be changed and no source except that of divinity can force you to change your alignment, You are aware of any deities on the same plane as you, you know their name, alignment, and divine rank.",
};
FeatsList["(epic) energy infusion"] = {
	name : "(Epic) Energy Infusion",
	source : ["EL:HH", 113], 
	descriptionFull : desc([
		"You develop a particular affinity for types of elemental energy,",
		"which you can manipulate at will. When you select this feat,",
		"choose a damage type from the following: acid, cold, fire, lightning,",
		"or thunder. You gain the following benefits.",
		"* When you deal acid, cold, fire, lightning, or thunder",
		"damage, you may change that damage’s type to the",
		"damage type you selected when you gained this Epic feat.",
		"* As a reaction to when you take damage of your",
		"chosen damage type, you instead take no damage and",
		"gain temporary hit points equal to the damage you",
		"would have been dealt. These temporary hit points",
		"last until you finish a short or long rest, or until they",
		"are replaced by another source of temporary hit",
		"points.",
		"* When you see an effect that deals damage of your",
		"chosen damage type, you instinctively know how",
		"much damage that effect will deal.",
	]),
	description: "Choose a damage type (Acid, Cold, Fire, Lightning, or Thunder) When you deal one of the damages listed you can change it to your chosen damage type, as a reaction when you take your chosen damage type in damage you can instead gain temporary hitpoints equal to the damage, when you see an effect that deals your damage type you instinctively know how much damage it would deal.",
};
FeatsList["(epic) extraordinary focus"] = {
	name : "(Epic) Extraordinary Focus",
	source : ["EL:HH", 113], 
	descriptionFull : desc([
		"You concentrate with precision and discipline even through the",
		"most trying of circumstances. You gain the following benefits.",
		"* You automatically succeed on saving throws to",
		"maintain concentration on your spells and other",
		"effects.",
		"* When you become incapacitated and are",
		"concentrating on a spell or effect, you may attempt",
		"a Constitution saving throw with a DC equal",
		"to your spell save DC. On a successful save, you",
		"maintain concentration through the duration of",
		"your incapacitation.",
		"* If you are able to be taught a skill, technique, or",
		"profession, you can fully learn that skill, technique,",
		"or profession in half the usual amount of time",
		"required.",
	]),
	description: "You auto succeed on saves to maintain concentration, when incapacitated you can make a DC=Your Spell Save, Con save to maintain concentration for the duration of your incapacitation, you learn skills, professions, and techniques in half the usual time.",
};
FeatsList["(epic) fists of fury"] = {
	name : "(Epic) Fists of Fury",
	source : ["EL:HH", 113], 
	descriptionFull : desc([
		"Your unarmed strikes land with punishing force, allowing you",
		"to destroy both creatures and objects with only your fists. You",
		"gain the following benefits.",
		"* When you deal bludgeoning damage with your",
		"unarmed strike, you can choose to instead deal",
		"force damage and add your proficiency bonus to the",
		"damage roll.",
		"* When you kill a creature or destroy an object using",
		"your unarmed strikes, you may shatter your target",
		"into tiny pieces.",
		"* Your unarmed strikes deal double damage to objects",
		"and structures.",
	]),
	description: "Unarmed stirkes damage changes from bludgeoning to force and you add your proficiency bonus to the damage, when you kill a creature or destroy an object with an unarmed strike you can shatter it into to tiny pieces, your unarmed strikes deal double damage to objects and structures.",
	calcChanges : {
		atkAdd : [
			function (fields, v) {
				if (v.WeaponName == 'unarmed strike') fields.Damage_Bonus += 'prof'; fields.Damage_Type = 'force';
			},
				"When I hit with an unarmed strike it deals force damage on a hit and my proficiency bonus in extra damage."
		],
	},	
};
FeatsList["(epic) flawless instincts"] = {
	name : "(Epic) Flawless Instincts",
	source : ["EL:HH", 113], 
	descriptionFull : desc([
		"Your senses are always acute and accurate, granting you the following",
		"benefits.",
		"* You always know the DC of a saving throw before",
		"you attempt it.",
		"* You cannot be surprised, and when initiative is",
		"rolled, you may immediately move up to your speed.",
		"* You instinctively sense if an area is or isn’t safe to",
		"rest.",
	]),
	description: "You know the DC of any save before you make it, you can't be suprised, when you roll initiative you can immediately move up to your speed, you know whether an area is safe or not to rest.",
};
FeatsList["(epic) force of will"] = {
	name : "(Epic) Force of Will",
	source : ["EL:HH", 114], 
	descriptionFull : desc([
		"Your mind possesses remarkable clarity and strength, which allows",
		"you to resist almost any attempt to manipulate you. You",
		"gain the following benefits.",
		"* If you are not unconscious, you are immune to psychic",
		"damage, any effect that would sense your emotions or",
		"read your thoughts, non-Epic divination spells, and",
		"the charmed and frightened conditions.",
		"* When you attempt a Constitution saving throw, you",
		"may attempt a Wisdom saving throw instead (the DC",
		"remains the same).",
		"* If a creature attempts to communicate",
		"telepathically with you, you may concentrate (as",
		"though concentrating on a spell) to prevent that",
		"communication.",
	]),
	description: "when not unconcious you are immune to psychic damage and any effect that would read emotions or thoughts non-epic divination and the charmed and frightened conditions, When you attempt a Con save you can do it as a Wis save instead, if a crea. attempts to speak telepathically with you, you may concentrate to prevent the communication.",
	savetxt : "When concious you are immune to psychic damage, non-epic divination, Charmed and Frightened conditions, effects that would read emotions or thoughts", 
};
FeatsList["(epic) giver of life"] = {
	name : "(Epic) Giver of Life",
	source : ["EL:HH", 114], 
	descriptionFull : desc([
		"You are a master of healing energies, able to restore even the",
		"most wounded creature to full strength. You gain the following",
		"benefits.",
		"* When you cause a creature to regain hit points with",
		"a feature or spell, you double the amount of hit",
		"points regained after all dice (if any) are rolled and",
		"modifiers (if any) are applied.",
		"* When you cause a creature to regain hit points,",
		"if that creature has missing body parts (eyes, legs,",
		"arms, etc.), you can restore one missing body part.",
		"* When you cause a creature to regain hit points and",
		"that creature isn’t your enemy, that creature becomes",
		"friendly toward you.",
	]),
	description: "you double the total amount(after all modifyers are added) of HP restored by your features or spells, when you cause a target to regain HP you can regenerate a single limb if lost, when you heal a non-enemy creature that creature becomes friendly towards you.", 
};
FeatsList["(epic) impenetrable bulwark"] = {
	name : "(Epic) Impenetrable Bulwark",
	source : ["EL:HH", 114], 
	descriptionFull : desc([
		"Together your armor and shield provide the ultimate defense",
		"against your enemies, granting you the following benefits.",
		"* While you are wearing heavy armor and wielding a",
		"shield, when you take damage equal to or less than",
		"your AC in a single instance, you instead take no",
		"damage.",
		"* When you would make a weapon attack, you may",
		"forgo that attack to instead take the Dodge action.",
		"* Armor you are wearing is immune to damage from",
		"non-Epic sources.",
	]),
	description: "When wearing heavy armor and wielding a shield if the damage you would take from an attack is less than your AC you take no damage, when you would make a weapon attack you may instead take the dodge action, Armor you are wearing is immune to damage from non-epic sources.", 
};
FeatsList["(epic) legendary skills"] = {
	name : "(Epic) Legendary Skills",
	source : ["EL:HH", 114], 
	descriptionFull : desc([
		"You can master techniques and tools with Epic speed, granting",
		"you the following benefits.",
		"* You have 3 legend points. When you finish a long",
		"rest, you can spend those legend points to gain",
		"proficiency in a single skill or tool of your choice for",
		"each legend point spent. If you are already proficient",
		"in the skill you choose, you instead double your",
		"proficiency bonus for any ability check you attempt",
		"that uses the chosen skill. Proficiencies gained",
		"through legend points last until you finish a long rest,",
		"and you regain spent legend points when you finish a",
		"long rest.",
		"* When you roll a 20 on an ability check in which",
		"you are proficient, you automatically succeed on",
		"that ability check. If you use any feature other than",
		"rolling the d20 to achieve the result, you do not",
		"automatically succeed on the ability check.",
		"* When you expend prestige granted by your DM, roll",
		"a d20. On a roll of 11 or higher, you instead do not",
		"expend your prestige but cannot use it again until",
		"you finish a long rest.",
	]),
	description: "When you finish a long rest you may spend 3 legend points to gain proficiency in 3 skill or tools or gain expertise in a skill/tool if already proficient this proficiency/expertise lasts until you finish a long rest, When you roll a nat 20 on an ability check it auto succeeds, when you expend Prestidge granted by DM roll a d20 on an 11 or higher it is not spent, but can not be used again till you finish a long rest.", 
	limfeaname : "legend points",
	usages : 3,
	recovery : "long rest",
};
FeatsList["(epic) living armor"] = {
	name : "(Epic) Living Armor",
	source : ["EL:HH", 114], 
	descriptionFull : desc([
		"You are so comfortable in armor it is like a second skin, granting",
		"you the following benefits.",
		"* While you are wearing armor, you no longer have",
		"disadvantage on Dexterity (Stealth) ability checks, and",
		"armor no longer requires a minimum Strength score",
		"for you to use without penalty.",
		"* While you are wearing armor, your Armor Class",
		"increases by 2 and you cannot be critically hit by",
		"weapon attacks.",
		"* As an action, you can don or doff any set of armor.",
	]),
	description: "While wearing armor you no longer have disadvatage on stealth checks and armor doesnt have a strength requirement for you, while wearing armor your AC increases by 2 and you can't be critically hit, doning and doffing armor now takes an action.", 
	calcChanges : {
		extraAC : [{
			mod : 2,
			name : "living armor",
			magic : false,
			text : "while wearing armor I gain a +2 to armor",
			eval : function (v) {
				return v.wearingArmor;
			},
		}],
	},	
};
FeatsList["(epic) lord of war"] = {
	name : "(Epic) Lord of War",
	source : ["EL:HH", 114], 
	descriptionFull : desc([
		"Your skill with weapons of war cannot be rivaled, allowing you",
		"to wield them with peerless ability. When you select this feat,",
		"choose three different weapon properties from the following",
		"table. You gain the corresponding benefits according to which",
		"weapon properties you select.",
		"In addition, you become proficient with any weapon you",
		"wield after 10 minutes of practice with that weapon and you",
		"cannot be disarmed by non-Epic means.",
	]),
	description: "choose 3 different weapon properties and gain a benefit for the property, you can spend 10 minutes with a new weapon to gain proficiency with it.", 
	extraname : "Lord of War Weapon Properties",
	extrachoices : ["Finesse", "Heavy", "Light", "Loading", "Reach", "Thrown", "Two-Handed"],
	extraTimes : 3,
	"finesse" : {
		name : "Finesse",
		description : "Melee weapons you wield have the light and finesse properties",
	},
	"heavy" : {
		name : "Heavy",
		description : "When you score a critical hit on a weapon attack made with a heavy weapon, you can roll one additional weapon damage die when determining the extra damage fro the critical hit.",
	},
	"light" : {
		name : "Light",
		description : "Once per turn, when you miss on a weapon attack made with a light weapon, you can instead hit and deal the minimum possible damage on that attack's damage dice.",
	},
	"loading" : {
		name : "Loading",
		description : "When a creature in range of your weapon leaves cover and you are holding a loading weapon, the creature provokes an opportunity attack from you with your loading weapon."
	},
	"reach" : {
		name : "Reach",
		description : "When you score a hit with a weapon with the reach property, you may pull the target 5 feet closer to you or push it 5 feet away from you.",
	},
	"thrown" : {
		name : "Thrown",
		description : "When you make a weapon attack with a weapon with the thrown property, if you are within 30 feet of our target, you may choose to have the weapon return to your hand immediately after the attack.",
	},
	"two-handed" : {
		name : "Two-Handed",
		description : "You ignore the two-handed requirement of weapons you wield, and two-handed weapons you wield have the light property",
	},	
};
FeatsList["(epic) magical savant"] = {
	name : "(Epic) Magical Savant",
	source : ["EL:HH", 116], 
	descriptionFull : desc([
		"You have mastered many of the subtleties of spellcasting, increasing",
		"the power of your magic considerably. You gain the",
		"following benefits.",
		"* The DC to resist your spells equals 10 + your",
		"spellcasting ability modifier + your proficiency bonus",
		"+ any special modifiers. If you have multiple features",
		"that give you different ways to calculate your spell save",
		"DC, you choose which one to use.",
		"* When you cast a spell with a casting time of 1 bonus",
		"action, you may cast any number of additional spells",
		"that turn, so long as you have the required actions to",
		"do so.",
		"* Your spellcasting focus is considered an object of",
		"power for the highest tier of Epic spell you are able to",
		"cast (when applicable).",
	]),
	description: "Spell Save DC = 10 + PB + Spellcasting Modifyer, when you cast a spell using a Bonus Action you can cast any number of other spells so long as you have the actions to do so, Your spellcasting focus is considered a Object of Power for the use of casting Epic Spells.", 
	calcChanges : {
		spellCalc : [
			function (type, spellcasters, ability) {
				if (type == "dc") return 2;
			},
			"My Spell Save DC = 10 + Proficiency Bonus + Spellcasting Modifyer.",
		],
	},	
};
FeatsList["(epic) master of ceremonies"] = {
	name : "(Epic) Master of Ceremonies",
	source : ["EL:HH", 116], 
	descriptionFull : desc([
		"In mere moments you cast spells that others take hours to perform.",
		"You gain the following benefits.",
		"* When you cast a non-Epic spell that is not a ritual",
		"with a casting time greater than 1 action, you may",
		"instead cast that spell as an action.",
		"* The casting time for Epic and non-Epic rituals you",
		"cast is halved, to a minimum of 1 minute.",
		"* You instinctively know the local customs and social",
		"rituals of communities you encounter.",
	]),
	description: "When you cast non-epic spells that are not rituals with casting times greater than 1 action they are cast as 1 action, The casting time for epic and non-epic rituals is cut in half to a minimum of 1 minute, you instinctively know local customs and social rituals of communities you encounter.", 
};
FeatsList["(epic) master tactician"] = {
	name : "(Epic) Master Tactician",
	source : ["EL:HH", 116], 
	descriptionFull : desc([
		"Your tactical genius allows you to make the most of every advantage,",
		"granting you the following benefits.",
		"* When you have advantage or Epic advantage on",
		"an attack roll or ability check, you roll three d20s",
		"instead of two. You use the highest of the three rolls",
		"to determine the result of the roll.",
		"* You cannot have disadvantage or Epic disadvantage",
		"on attack rolls or ability checks.",
		"* You are proficient in all games of strategy (chess, go,",
		"etc.).",
	]),
	description: "when you have advantage/epic advantage on an attack roll/ability check you roll 3 d20s and take the highest result, you can not have disadvantage/epic disadvantage on attack rolls/ability checks, you are proficient in all games of strategy.", 
};
FeatsList["(epic) mighty magic"] = {
	name : "(Epic) Mighty Magic",
	source : ["EL:HH", 116], 
	descriptionFull : desc([
		"Your magic becomes enhanced by your physical power, granting",
		"you the following benefits.",
		"* Your spellcasting ability changes to Strength.",
		"* When you cast a spell with a range of touch, you may",
		"make a single weapon attack against your target as a",
		"part of casting that spell.",
		"* You can perform somatic components for spells by",
		"flexing your muscles.",
	]),
	description: "Your spellcasting ability changes to strength, when you cast a spell with a range of touch you may make a single melee attack as part of the casting of that spell, you can use flexing of your muscles as somatic components for a spell.", 
};
FeatsList["(epic) mystic sage"] = {
	name : "(Epic) Mystic Sage",
	source : ["EL:HH", 116], 
	descriptionFull : desc([
		"You have delved deeply into the secrets of magic and unearthed",
		"untold power. You gain the following benefits.",
		"* Choose a non-Epic class and Epic prestige class",
		"spell list other than your own. Spells on those lists",
		"are considered class spells for you. When you would",
		"learn a new spell or Epic spell from your lists, you",
		"may instead learn one from the lists you chose.",
		"Additionally, when you take this feat, you may",
		"immediately replace any number of spells you know",
		"with spells from those lists.",
		"* When you use a spell scroll, roll a d20. On an 11 or",
		"higher, the spell scroll is not expended and can be",
		"used again.",
		"* Creatures cannot identify spells you are casting until",
		"after they have been cast.",
	]),
	description: "choose a non-epic class and epic class other than your own those spells get added to your spell list, when you learn a new spell you can choose one from either your list or your chosen, when you use a spell scroll roll a d20 on an 11 or higher it is not used up, creatures cannot recognize the spells you cast until after they are cast, ", 
};
FeatsList["(epic) paragon"] = {
	name : "(Epic) Paragon",
	source : ["EL:HH", 116], 
	descriptionFull : desc([
		"You are an exemplar to others, gaining the following benefits.",
		"* Your proficiency bonus is always increased by 1.",
		"* Choose a saving throw. You gain proficiency in that",
		"saving throw. If you are already proficient in the",
		"saving throw you choose, whenever you attempt",
		"that saving throw and roll a 9 or lower, you instead",
		"roll a 10.",
		"* Your children are born with the Paragon Epic feat.",
	]),
	description: "Your Proficiency bonus is always increased by 1, you gain proficiency in a saving throw of choice and whenever you make a saving throw with a ability you are proficient in a roll of 9 or lower is treated by a 10, Your children are born with the Paragon epic feat.", 
	extraname : "Bonus Saving Throw",
	extrachoices : ["Strength", "Dexterity", "Wisdom", "Charisma"],
	"strength" : {
		name : "Strength",
		description : "\n   " + "You gain proficiency in Strength Saving Throws",
		saves : ["Str"],
	},	
	"dexterity" : {
		name : "Dexterity",
		description : "\n   " + "You gain proficiency in Dexterity Saving Throws",
		saves : ["Dex"],
	},
	"constitution" : {
		name : "Constitution",
		description : "\n   " + "You gain proficiency in Constitution Saving Throws",
		saves : ["Con"],
	},
	"intelligence" : {
		name : "Intelligence",
		description : "\n   " + "You gain proficiency in Intelligence Saving Throws",
		saves : ["Int"],
	},
	"wisdom" : {
		name : "Wisdom",
		description : "\n   " + "You gain proficiency in Wisdom Saving Throws",
		saves : ["Wis"],
	},	
	"charisma" : {
		name : "Charisma",
		description : "\n   " + "You gain proficiency in Charisma Saving Throws",
		saves : ["Cha"],
	},
};
FeatsList["(epic) perfect health"] = {
	name : "(Epic) Perfect Health",
	source : ["EL:HH", 116], 
	descriptionFull : desc([
		"Your body is the pinnacle of physical health, granting you the",
		"following benefits.",
		"* Your hit point maximum increases as though you had",
		"rolled the highest possible roll on each of your Hit",
		"Dice each time you gained a level, instead of what you",
		"had rolled before you selected this feat.",
		"* At the end of a long rest, you regain all your spent Hit",
		"Dice instead of half your total Hit Dice.",
		"* You automatically succeed on Constitution ability",
		"checks to consume food or drink.",
	]),
	description: "Your Hit Point maximum increases as if you rolled the max on all hit dice, after a long rest you regain all expended hit dice instead of half, you automatically succeed Con saves to eat and drink.", 
};
FeatsList["(epic) perpetual athlete"] = {
	name : "(Epic) Perpetual Athlete",
	source : ["EL:HH", 116], 
	descriptionFull : desc([
		"Your speed is extraordinary, your endurance limitless. You gain",
		"the following benefits.",
		"* When you take the Dash action, you gain extra speed",
		"equal to twice your speed instead of your normal",
		"benefits.",
		"* You are immune to the exhaustion condition.",
		"* The maximum distance of your long and high jump is",
		"increased by 20 feet.",
	]),
	description: "When you take the dash action you move 2x your speed instead of 1x, you are immune to exhaustion, your long and high jump are increased by 20 feet.", 
};
FeatsList["(epic) relentless warrior"] = {
	name : "(Epic) Relentless Warrior",
	source : ["EL:HH", 117], 
	descriptionFull : desc([
		"Your attacks are as tenacious as they are deadly, turning the fury",
		"of a failed attack into power for your subsequent blows. You",
		"gain the following benefits.",
		"* When you miss on a weapon attack on your turn,",
		"you gain a cumulative +5 bonus to all subsequent",
		"weapon attacks you make until the end of your",
		"turn.",
		"* The targets of your weapon attacks cannot take",
		"reactions in response to your weapon attacks.",
		"* When you are slain, you always die with dignity.",
	]),
	description: "when you miss an attack roll you gain a cumulative +5 to all subsequent weapon attack until the end of your turn, targets of your attacks can't take reactions in response to your attacks, when you die, you always do with dignity.", 
};
FeatsList["(epic) shadowdancer"] = {
	name : "(Epic) Shadowdancer",
	source : ["EL:HH", 117], 
	descriptionFull : desc([
		"You are one with the shadows, an imperceptible, elusive target",
		"that cannot be caught. You gain the following benefits.",
		"* As a reaction to when a creature that cannot see you",
		"would hit you with an attack, you can instead cause",
		"that attack to miss.",
		"* You can attempt to Hide from creatures with",
		"blindsight or tremorsense as though they did not",
		"have those senses. Additionally, creatures with those",
		"senses cannot automatically detect you and instead",
		"have Epic advantage on Wisdom (Perception)",
		"checks to detect you.",
		"* You can perfectly perform any act of shadow",
		"puppetry.",
	]),
	description: "when a creature that can't see you would hit you with an attack you can use your reaction to cause it to miss, you can attempt to hide aganst creatures with blindsight and tremorsense the creatures do not auto succeed but instead have epic advantage on perception checks to detect you, you can flawlessly preform any piece of shadow puppetry.",
	action : ["reaction", "Shadowdancer"],
};
FeatsList["(epic) sight beyond sight"] = {
	name : "(Epic) Sight Beyond Sight",
	source : ["EL:HH", 117], 
	descriptionFull : desc([
		"Your eyesight becomes peerless, granting you the following",
		"benefits.",
		"* As long as you have eyes, you are immune to the",
		"blinded condition and you have truesight. You notice",
		"secret doors hidden by magic and can see into the",
		"ethereal plane, all out to a range of 120 feet.",
		"* As long as you have line of sight, you can clearly",
		"perceive creatures, objects, and structures up to 10",
		"miles away.",
		"* You have no need to blink your eyes.",
	]),
	description: "as long as you have eyes you are immune to the blinded condition and have truesight, as long as you have line of sight you can perceive things within 10 miles, you have no need to blink.", 
};
FeatsList["(epic) spell lord"] = {
	name : "(Epic) Spell Lord",
	source : ["EL:HH", 117], 
	descriptionFull : desc([
		"Your magic is so powerful as to overwhelm lesser creatures, and",
		"your spells strike with greater efficacy. You gain the following",
		"benefits.",
		"* Your spell attacks score a critical hit on a roll of 18–20.",
		"* When a creature with a challenge rating of 5 or lower",
		"succeeds on a saving throw against a spell cast by you,",
		"it instead fails.",
		"* You learn the cantrip arcane mark.",
	]),
	description: "Your spells crit on 18-20, creatures of CR 5 or lower can't succeed against your spells, you learn the arcane mark cantrip.", 
	spellcastingBonus : [{
		name : "Spell Lord",
		spells : "arcane mark",
		selection : "arcane mark", 
		times : 1,
	}],	
};
FeatsList["(epic) spell reflection"] = {
	name : "(Epic) Spell Reflection",
	source : ["EL:HH", 117], 
	descriptionFull : desc([
		"You can counter others’ magic with ease, turning even the mightiest",
		"spells back on their casters. You gain the following benefits.",
		"* When you cast a spell (such as counterspell or reverse",
		"magic, which is detailed in chapter 4) to successfully",
		"counter a spell, you may choose to immediately cast",
		"that spell using your spellcasting ability, spell save",
		"DC, and spell attack bonus without consuming any",
		"spell slots or resources normally required to cast that",
		"spell.",
		"* On each of your turns, you can choose to not take your",
		"action that turn. If you do so, you gain the use of an",
		"additional reaction until the start of your next turn. This",
		"reaction is special and can only be used to cast spells",
		"with a casting time of 1 reaction that would attempt to",
		"counter a spell (such as counterspell or reverse magic).",
		"* If you would roll a 9 or lower on an ability check to",
		"counter or dispel a spell (such as one made when you",
		"cast counterspell or dispel magic), you instead roll a 10.",
	]),
	description: "When you successfully counter a spell you can immediately cast the spell you countered using your atk and DC without consuming a Spell slot, you can forego your action to gain an additional reaction, when you roll a 9 or lower on a DC for countering/dispelling a spell you instead roll a 10.", 
};	
FeatsList["(epic) spellslinger"] = {
	name : "(Epic) Spellslinger",
	source : ["EL:HH", 117], 
	descriptionFull : desc([
		"You can sling cantrips with exceptional speed, greatly decreasing",
		"their casting time. You gain the following benefits.",
		"* Cantrips you cast that case damage deal bonus",
		"damage. When you are 23rd level, they deal one",
		"additional damage die. When you are 27th level, they",
		"instead deal two additional damage dice.",
		"* If you know a cantrip with a casting time of 1 action,",
		"you may instead cast that cantrip as a bonus action.",
		"* You learn three cantrips of your choice from any class",
		"spell list, which become class spells for you. If your",
		"class does not have a spellcasting ability, you choose",
		"which ability (Intelligence, Wisdom, or Charisma) is",
		"your spellcasting ability.",
	]),
	description: "Cantrips you cast that deal damage increase by one damage dice at lvl 23, and 27, Cantrips you know with a casting time of an action can instead be cast as a bonus action, you learn 3 cantrips of choice from any class list.",
	spellcastingBonus : [{
		name : "Spellslinger",
		"class" : "any",
		times : 3,
		levels : 0,
	}],	
};
FeatsList["(epic) superior initiative"] = {
	name : "(Epic) Superior Initiative",
	source : ["EL:HH", 118], 
	descriptionFull : desc([
		"You are quick on the draw, able to act before most creatures can",
		"even blink. You gain the following benefits.",
		"* If you would attempt a saving throw at the end of",
		"each of your turns to end an effect, you may instead",
		"attempt that saving throw at the start of each of your",
		"turns.",
		"* When you roll initiative and at the beginning of each",
		"round of combat, you may choose when you act in the",
		"initiative order, regardless of your initiative.",
		"* When initiative is rolled, you can immediately ready",
		"an action (no action required).",
	]),
	description: "If you would attempt a save at the end of your turn to end an effect you may instead roll at the start of your turn, when initiative is rolled and at the start of each round of combat you may choose where in the initiative you act, also when initiative is rolled you may immediately ready an action.",
};
FeatsList["(epic) talespinner"] = {
	name : "(Epic) Talespinner",
	source : ["EL:HH", 118], 
	descriptionFull : desc([
		"Your music and performance know no equal, resulting in mystical",
		"demonstrations of artistry that eclipse all others. You gain",
		"the following benefits.",
		"* As a reaction to when you would make a saving throw",
		"or ability check, you may instead make a Charisma",
		"(Performance) check to succeed with spectacular flair.",
		"The DC remains the same, though it is mysteriously",
		"unclear as to how your performance achieved such",
		"extraordinary results.",
		"* While you are not wearing armor or incapacitated, your AC equals 8 +",
		"your Charisma modifier + your proficiency bonus.",
		"* You can flawlessly recount any poem, song, or auditory",
		"performance you have ever heard.",
	]),
	description: "when you would make a saving throw or ability check you can instead as a reaction make a Performance check to succeed with spectacular flair the DC remains the same and it is Mysteriously unclear how your performance allowed you to succeed, When not wearing armor or incapacitated AC = 8 + Prof + Cha, you flawlessly recall any poem, song, or auditory performance you have ever heard.",
	action : ["reaction", "Talespinner"],
	calcChanges : {
		extraAC : [{
			name : "Talespinner",
			mod : "8+Cha+Prof-Dex",
			magic : false,
			stopeval : function (v) {
				return v.wearingArmor;
			}
		}],
	},	
};	
FeatsList["(epic) versatile mind"] = {
	name : "(Epic) Versatile Mind",
	source : ["EL:HH", 118], 
	descriptionFull : desc([
		"You are able to focus on multiple tasks simultaneously, diverting",
		"your focus precisely and effectively. You gain the following",
		"benefits.",
		"* You can maintain concentration on two spells at once.",
		"You do not lose concentration on a spell if you cast a",
		"second spell that requires concentration, but you lose",
		"concentration on a single spell of your choice on which",
		"you are concentrating if you cast a third spell that",
		"requires concentration. When you are concentrating",
		"on two spells and must attempt a Constitution saving",
		"throw to maintain concentration, you must attempt a",
		"separate saving throw for each spell.",
		"* You can effortlessly hold two conversations at once.",
		"* You may perform 4 hours of light activity instead of 2",
		"over the course of a long rest.",
	]),
	description: "You can concentrate on two spells at once if you try casting a third spell you lose concentration on one spell of choice to maintain concentration you have to make a seperate save for each spell concentrating on, you can effortlesly concentrate on 2 conversations at once, you can perform 4 hours of light activity instead of 2 during a long rest.",
};	
